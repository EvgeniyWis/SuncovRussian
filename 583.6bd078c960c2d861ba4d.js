"use strict";(self.webpackChunksuncov_russian=self.webpackChunksuncov_russian||[]).push([[583],{42:function(e,t,r){r.d(t,{$:function(){return s.$}});var s=r(5478)},2025:function(e,t,r){r.d(t,{A:function(){return n}});var s=r(1599);const n=e=>{(0,s.a)()||new Audio(`/SuncovRussian/sounds/${e}.mp3`).play()}},2411:function(e,t,r){r.d(t,{LK:function(){return n},QV:function(){return o},d5:function(){return s},vn:function(){return i}}),window.matchMedia=window.matchMedia||function(){return{matches:!1,addListener:function(){},removeListener:function(){}}};const s=window.matchMedia("(max-width: 1500px)"),n=window.matchMedia("(max-width: 1000px)"),i=window.matchMedia("(max-width: 600px)"),o=["а","е","ё","и","о","у","ы","э","ю","я"]},5478:function(e,t,r){r.d(t,{$:function(){return i}});var s=r(7227),n=r(4848);const i=e=>{let{className:t,children:r,size:i="medium",variant:o="primary",...c}=e;return(0,n.jsx)("button",{...c,className:`${s.Button} ${s[`Button__${i}`]} ${s[`Button__${o}`]} ${t}`,children:r})};i.displayName="Button"},5583:function(e,t,r){r.r(t),r.d(t,{TrainerPage:function(){return fe}});var s={};r.r(s),r.d(s,{Hint:function(){return m},Hint__text:function(){return h},Hint__text__active:function(){return f},Hint__text__top:function(){return y}});var n={};r.r(n),r.d(n,{TrainerWithMissedLettersWords__correctLetter:function(){return k},TrainerWithMissedLettersWords__letter__medium:function(){return b},TrainerWithMissedLettersWords__letter__small:function(){return M}});var i={};r.r(i),r.d(i,{TrainerWord:function(){return X},TrainerWord__default:function(){return V},TrainerWord__invalid:function(){return Z}});var o=r(8383),c="xikJpYWM",d=r(6540),a=r(1468),l=r(4848);const u=e=>{let{children:t,reducers:r,removeAfterUnmount:s=!0}=e;const n=(0,a.Pj)(),i=n.reducerManager.getMountedReducers();return(0,d.useEffect)((()=>(Object.entries(r).forEach((e=>{let[t,r]=e;i[t]||n.reducerManager.add(t,r)})),()=>{s&&Object.entries(r).forEach((e=>{let[t]=e;n.reducerManager.remove(t)}))})),[i,r,s,n.reducerManager]),(0,l.jsx)(l.Fragment,{children:t})};u.displayName="DynamicModuleLoader";var m="q8EozCQs",h="LpcIMF4O",f="GCrxjsBF",y="mE9OXUTJ";const p=(0,d.memo)((e=>{let{textClassName:t,text:r,textDirection:n="right"}=e;const[i,c]=(0,d.useState)(!1);return(0,l.jsxs)(o.s,{relative:!0,align:"start",gap:"10",children:[(0,l.jsx)(o.s,{onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),className:m,justify:"center",children:(0,l.jsx)("span",{children:"?"})}),(0,l.jsx)("p",{className:`${h}\n              ${i&&f}\n              ${s[`Hint__text__${n}`]}\n              ${t}`,children:r})]})}));p.displayName="Hint";var x=r(7294),w=r(5337),W=r(3800),j=r(6491),v="VR6nnRel",g="XVOH8ddq";const _=e=>{const{setWords:t}=(0,j.MR)();return{initializeWords:(0,d.useCallback)((()=>{const r=JSON.parse(JSON.stringify(e));for(const e of r)e.probability=1,e.uncorrectTimes=0,e.consecutivelyTimes=0,e.inProgress=!1;t(r)}),[t,e])}};var T=r(5478),k="Whja3j6t",b="LNl1_vHB",M="JDbqoe4g";const I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";return(0,l.jsx)("span",{className:n[`TrainerWithMissedLettersWords__letter__${t}`],children:e.missedLettersIndexes&&e.word.split("").map(((t,r)=>(0,l.jsx)(l.Fragment,{children:e.missedLettersIndexes.includes(r+1)?(0,l.jsx)("span",{className:k,children:t}):t},r)))})},C=e=>{let{wordObject:t,words:r,type:s,word:n,validWord:i}=e;return(0,l.jsx)(l.Fragment,{children:r.type===s&&(0,l.jsxs)(l.Fragment,{children:[n," -"," ",t.uncorrectTimes+" "+([2,3,4].includes(t.uncorrectTimes)?"раза":"раз"),i&&(0,l.jsxs)("span",{children:[" (Правильно: ",i,")"]})]})})},N=(0,d.memo)((e=>{let{updateRandomWord:t,words:r,theme:s,type:n}=e;const{isCheckMode:i,isOneLifeMode:c,allAttemptsCount:a,setAllAttemptsCount:u}=(0,d.useContext)(w.U),m=(0,W.s)(),{setWords:h}=(0,j.MR)(),{totalTime:f,setTotalTime:y,isErrorWork:p,setIsErrorWork:x}=(0,d.useContext)(w.U),k=(0,d.useMemo)((()=>Math.round(f/6e4)),[f]),b=(0,d.useMemo)((()=>Math.round(f/1e3%60)),[f]),M=(0,d.useMemo)((()=>m.filter((e=>e.uncorrectTimes>0)).sort(((e,t)=>t.uncorrectTimes-e.uncorrectTimes))),[m]),N=(0,d.useCallback)((()=>{x(!0);const e=M.map((e=>({...e,probability:1,uncorrectTimes:0,consecutivelyTimes:0,inProgress:!1})));h(e),y(0),u(0),t(e)}),[u,x,y,h,t,M]),{initializeWords:L}=_(r.items),O=(0,d.useCallback)((()=>{L(),y(0),x(!1),u(0)}),[L,u,x,y]);return(0,l.jsxs)(o.s,{className:"SZbvI01N",justify:"between",direction:"column",width:"100",maxHeight:!0,children:[(0,l.jsxs)("span",{className:g,children:["Общее время:"," ",`${k<10?"0":""}${k}`,":",`${b<10?"0":""}${b}`]}),c&&(0,l.jsxs)("span",{className:v,children:["Количество попыток: ",a]}),(0,l.jsxs)("span",{className:v,children:["Тема: ",s]}),(i||c)&&(0,l.jsxs)("span",{className:v,children:["Режим: «",i?"Проверка":"Одна жизнь","»"]}),M.length>0&&!c?(0,l.jsxs)(o.s,{className:"KQIgMBSl",gap:"20",justify:"between",direction:"column",children:[(0,l.jsxs)(o.s,{direction:"column",children:[(0,l.jsx)("span",{className:g,children:"Ошибки:"}),(0,l.jsx)(o.s,{direction:"column",gap:"3",width:"100",children:M.map((e=>(0,l.jsx)("span",{className:"JCvfyDc1",children:(()=>{const t=(e=>[{type:"primary",word:e.valid},{type:"unions",word:e.word,validWord:e.unionType},{type:"choice",word:e.word,validWord:e.choiceWord},{type:"withMissedLetters",word:I(e,"small")},{type:"accents",word:e.word&&e.word.slice(0,e.accentIndex)+"́"+e.word.slice(e.accentIndex)}])(e).find((e=>e.type===n));return(0,l.jsx)(l.Fragment,{children:C({wordObject:e,words:r,type:t.type,word:t.word,validWord:t.validWord})})})()},e.id)))})]}),!p&&(0,l.jsx)(T.$,{onClick:N,type:"button",children:"Работа над ошибками"})]}):(0,l.jsx)(T.$,{onClick:O,type:"button",children:"Повторить"})]})}));N.displayName="TrainerTotalResult";const L=(e,t,r)=>{const s=(0,W.s)(),n=(0,d.useMemo)((()=>s.find((t=>t.id===e))),[e,s]);return{updateRandomWord:(0,d.useCallback)((n=>{const i=(n||s).filter((t=>t.id!==e&&0!==t.probability)),o=[!0,!1][Math.floor(2*Math.random())];if(t(o),0===i.length)return;const c=i.reduce(((e,t)=>e+(t.probability||1)),0)*Math.random();for(let e=0,t=0;;e++)if(t+=i[e].probability||1,t>c)return void r(i[e].id)}),[e,r,t,s]),randomWord:n}},O=(0,d.memo)((()=>{const e=(0,W.s)(),t=(0,d.useMemo)((()=>e.filter((e=>e.inProgress))),[e]),r=(0,d.useMemo)((()=>{const r=t.length/e.length;return isNaN(r)?0:r}),[e.length,t.length]),s=(0,d.useRef)(new Date);(0,d.useEffect)((()=>{s.current=new Date}),[]);const{setTotalTime:n}=(0,d.useContext)(w.U);return(0,d.useEffect)((()=>{if(1===r){const e=(new Date).getTime()-s.current.getTime();n(e)}}),[n,r]),(0,l.jsxs)(o.s,{width:"50",justify:"center",gap:"10",children:[(0,l.jsxs)("span",{className:"tskvL1bI",children:[Math.round(100*r),"%"]}),(0,l.jsx)("progress",{className:"R22KsEL2","data-testid":"Trainer__TrainerProgressBar__percent",value:r})]})}));var S;function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},E.apply(null,arguments)}O.displayName="TrainerProgressBar";var A=e=>d.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",width:21,height:18,fill:"none"},e),S||(S=d.createElement("path",{stroke:"var(--color-white)",strokeWidth:3,d:"M2 10.5 6.5 15l13-13"})));const F=(0,d.memo)((e=>{let{name:t,onClick:r,modeIsOn:s,setModeIsOn:n,hintText:i}=e;const c=(0,d.useCallback)((()=>{n(!s),r()}),[r,s,n]),[a,u]=(0,d.useState)(!1);return(0,l.jsxs)(o.s,{direction:"column",relative:!0,children:[(0,l.jsxs)(o.s,{className:`SsHLGFH8\n        ${s&&"asGKPX1D"}`,children:[(0,l.jsx)(o.s,{onClick:c,className:"m0UHa6ZK",justify:"center","data-testid":`ModeSwitcherItem__${t.replace(" ","-")}`,"data-selected":s,children:(0,l.jsx)(A,{className:"d_cw2q17"})}),(0,l.jsx)("span",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:"d9iTjNx0",children:t})]}),i&&(0,l.jsx)(o.s,{justify:"center",className:`dPvMNF15 \n        ${a&&"VBHbPcMg"}`,children:i})]})}));F.displayName="ModeSwitcherItem";const R=(0,d.memo)((e=>{let{items:t}=e;return(0,l.jsx)(o.s,{justify:"end",width:"100",gap:"10",relative:!0,children:(0,l.jsx)(o.s,{direction:"column",gap:"10",children:t.map((e=>(0,l.jsx)(F,{...e},e.name)))})})}));R.displayName="ModeSwitcher";const $=(0,d.memo)((()=>{const[e,t]=(0,d.useState)(!0),{focusModeItem:r}=((e,t)=>{const r=(0,W.s)(),{changeWordProbability:s,changeWordConsecutivelyTimes:n,changeWordInProgressStatus:i}=(0,j.MR)(),o=(0,d.useCallback)((()=>{for(const e of r)s({id:e.id,probability:1}),n({id:e.id,consecutivelyTimes:0}),i({id:e.id,inProgress:!1})}),[n,i,s,r]),c=(0,d.useCallback)((()=>{document.hidden&&o()}),[o]),a=(0,d.useCallback)((()=>{e?document.onvisibilitychange=null:(o(),document.onvisibilitychange=c)}),[o,c,e]);return e&&(document.onvisibilitychange=c),{focusModeItem:{name:"Фокусировка",onClick:a,modeIsOn:e,setModeIsOn:t,hintText:"Обнуляет прогресс каждый раз, когда вы покидаете сайт."}}})(e,t),{OneLifeModeItem:s}=(()=>{const{setIsOneLifeMode:e,isOneLifeMode:t,setIsCheckMode:r}=(0,d.useContext)(w.U);return{OneLifeModeItem:{name:"Одна жизнь",onClick:(0,d.useCallback)((()=>{t||r(!1),e(!t)}),[t,r,e]),modeIsOn:t,setModeIsOn:e,hintText:"Прогресс обнуляется при первой же ошибке"}}})(),{CheckModeItem:n}=(()=>{const{setIsCheckMode:e,isCheckMode:t,setIsOneLifeMode:r}=(0,d.useContext)(w.U);return{CheckModeItem:{name:"Проверка",onClick:(0,d.useCallback)((()=>{t||r(!1),e(!t)}),[t,e,r]),modeIsOn:t,setModeIsOn:e,hintText:"Слово не будут повторяться даже при допущении ошибки"}}})(),i=[r,s,n];return(0,l.jsx)(R,{items:i})}));$.displayName="TrainerModeSwitcher";var P=r(2025),B=r(2411),U=r(1599);const H=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;e.current&&(r.removeEventListener(t,e.current),e.current=null)},q=function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e.current=i=>{r(i),n&&H(e,t,s)},s.addEventListener(t,e.current)},D=(e,t,r,s)=>{const{changeWordProbability:n,changeWordUncorrectTimes:i,changeWordConsecutivelyTimes:o,changeWordInProgressStatus:c}=(0,j.MR)(),a=(0,W.s)(),{initializeWords:l}=_(a),{isOneLifeMode:u,isCheckMode:m,setAllAttemptsCount:h}=(0,d.useContext)(w.U),[f,y]=(0,d.useState)(!1),{updateRandomWord:p}=L(e,t,r),x=(0,d.useRef)(null),v=(0,d.useRef)(null),g=(0,d.useCallback)(((e,t,r)=>{H(v,"click"),H(x,"keydown");const d=document.querySelector("main");(0,U.a)()||(d.style.pointerEvents="all"),u&&(l(),h((e=>e+1))),y(!1),s(!1);const a=e.find((e=>e.id===r));a&&(t||(n({probability:.2,id:a.id}),i({id:a.id,uncorrectTimes:a.uncorrectTimes+1})),o({id:a.id,consecutivelyTimes:0}),c({id:a.id,inProgress:!1}),m&&(n({id:a.id,probability:0}),c({id:a.id,inProgress:!0})),p())}),[o,c,n,i,l,m,u,h,s,p]),T=(0,d.useCallback)((function(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document;if(f)return;(0,P.A)("FailSound"),s(!0),y(!0);const o=document.querySelector("main");(0,U.a)()||(o.style.pointerEvents="none");let c=!0;q(v,"click",(()=>{c?c=!1:(g(e,t,r),H(v,"click"))}),i,"choice"===n),q(x,"keydown",(s=>{((e,t,r,s,n)=>{(e=>{"Enter"===e.key&&t(r,s,n)})(e)})(s,g,e,t,r),H(x,"keydown")}),document,"choice"===n)}),[s,g,f]),k=(0,d.useCallback)(((e,t,r)=>{if(f)return;const s=e.find((e=>e.id===r));if(s){if(t){const e=s.consecutivelyTimes+1;o({id:s.id,consecutivelyTimes:e}),3===e&&(c({id:s.id,inProgress:!0}),n({probability:.05,id:s.id}))}else.2===s.probability?n({id:s.id,probability:.1}):.1===s.probability?n({id:s.id,probability:.05}):(n({id:s.id,probability:u?0:.01}),c({id:s.id,inProgress:!0}));if(m&&(n({id:s.id,probability:0}),c({id:s.id,inProgress:!0})),B.vn.matches){const e=setTimeout((()=>{p(),clearTimeout(e)}),150)}else p()}}),[o,c,n,m,u,p,f]);return{showNewWord:g,wordOnSuccess:k,wordOnFail:T}};var K=r(7092),z="Ks0I08PF",Q="dS__PY0w";const J=(0,d.memo)((e=>{let{randomWord:t,categories:r,wordOnFail:s,wordOnSuccess:n,showNewWord:i}=e;const c=(0,W.s)(),{isErrorWork:a,isIncorrect:u}=(0,d.useContext)(w.U);(0,d.useEffect)((()=>{document.querySelectorAll('[data-name="TrainerChoiceWords_choiceWord"]').forEach((e=>{e.classList.remove(Q),e.classList.remove(z)}))}),[t]);const m=(0,d.useMemo)((()=>!r.find((e=>e.category))),[r]),h=(0,d.useCallback)(((e,r)=>{((e,t,r,s,n,i,o,c,d)=>{d?c(o,i,t.id):t.choiceWord===r?s(o,i,t.id):((e,t,r,s,n)=>{const i=document.querySelectorAll('[data-name="TrainerChoiceWords_choiceWord"]');i.forEach((r=>{r.getAttribute("data-value")!==t.choiceWord&&(e.target===r&&r.classList.add(Q),r.classList.add(z))}));const o=Array.from(i).find((e=>e.getAttribute("data-value")===t.choiceWord));r(s,n,t.id,"choice",o)})(e,t,n,o,i)})(e,t,r,n,s,a,c,i,u)}),[t,n,s,a,c,i,u]);return(0,l.jsxs)(o.s,{className:"e6VKbaLL",maxHeight:!0,width:"100",direction:"column",gap:"20",justify:"center",children:[(0,l.jsx)("span",{"data-testid":"TrainerChoiceWords_word",className:"FUtK6jIa",children:t.word}),(0,l.jsx)(o.s,{className:`\n          xzoDZZXC\n          ${m?"E5IoiVLQ":""}\n          `,width:"100",justify:"center",direction:"column",gap:"50",children:r.map((e=>(0,l.jsxs)(o.s,{justify:m?"center":"start",width:"100",children:[e.category&&(0,l.jsx)("span",{className:"zWo3cNyO",children:e.category}),(0,l.jsx)("div",{className:"QIDH4XdA",children:e.choiceWords.map((e=>(0,l.jsx)("span",{onClick:t=>h(t,e),className:"J0ffKpZW","data-name":"TrainerChoiceWords_choiceWord","data-value":e,"data-testid":"TrainerChoiceWords_choiceWord",children:e},e)))})]},e.choiceWords.join(""))))})]})}));J.displayName="TrainerChoiceWords";var X="rxqnQXoT",V="RcYBccp8",Z="ywWLKwMM";const G=e=>{let{className:t,style:r,dataTestId:s,onClick:n,children:c,type:d="default"}=e;return(0,l.jsx)(o.s,{justify:"center","data-testid":s,width:"100",onClick:()=>{const e=document.querySelectorAll('[data-name="TrainerWord"]');e.forEach((e=>{e.style.transitionDuration="0ms"}));const t=setTimeout((()=>{clearTimeout(t),e.forEach((e=>{e.style.transitionDuration="var(--transition-duration-default)"}))}),100);n&&n()},className:`${X} ${t} ${i[`TrainerWord__${d}`]}`,style:r,"data-name":"TrainerWord",children:c})};G.displayName="TrainerWord";const Y=(0,d.memo)((e=>{let{randomWord:t,randomWordsIsReverse:r,wordOnFail:s,wordOnSuccess:n}=e;const i=(0,W.s)(),{isIncorrect:c,isErrorWork:a}=(0,d.useContext)(w.U),u=e=>(0,l.jsx)(l.Fragment,{children:t.differenceIndexes?(0,l.jsx)(o.s,{children:e.split("").map(((r,s)=>(0,l.jsx)(d.Fragment,{children:" "===r?(0,l.jsx)("span",{style:{width:7}}):(0,l.jsx)("span",{style:{fontWeight:t.differenceIndexes&&t.differenceIndexes.includes(s+1)?"bold":"normal"},children:r},e+r+s)},e+r+s)))}):e});return(0,l.jsx)(l.Fragment,{children:t.valid&&(0,l.jsxs)(o.s,{justify:"center",direction:B.LK.matches?r?"columnReverse":"column":r?"rowReverse":"row",width:"100",children:[(0,l.jsx)(G,{dataTestId:"TrainerPrimaryWords__valid",onClick:()=>n(i,a,t.id),style:{borderRightWidth:B.LK.matches||r||c?3:0,borderBottomWidth:B.LK.matches?r||c?3:0:3,fontSize:t.valid.length>=10?20:36},children:u(t.valid)}),(0,l.jsx)(G,{dataTestId:"TrainerPrimaryWords__invalid",onClick:()=>s(i,a,t.id,"primary"),type:c?"invalid":"default",style:{borderRightWidth:B.LK.matches?3:r?0:3,borderBottomWidth:B.LK.matches&&r?0:3,fontSize:t.valid.length>=10?20:36},children:u(t.invalid)})]})})}));Y.displayName="TrainerPrimaryWords";const ee=["Сочинительный","Подчинительный"],te=(0,d.memo)((e=>{let{randomWord:t,wordOnSuccess:r,wordOnFail:s}=e;const n=(0,W.s)(),{isIncorrect:i,isErrorWork:c}=(0,d.useContext)(w.U);return(0,l.jsxs)(o.s,{width:"100",direction:"column",gap:"10",justify:"center",children:[(0,l.jsx)("span",{className:"M4YoFBkk","data-testid":"TrainerUnionsWords__word",children:t.word}),(0,l.jsx)(o.s,{justify:"center",direction:B.LK.matches?"column":"row",width:"100",children:ee.map(((e,o)=>(0,l.jsx)(G,{dataTestId:`TrainerUnionsWords__${e}`,onClick:e===t.unionType?()=>r(n,c,t.id):()=>s(n,c,t.id,"unions"),type:i&&e!==t.unionType?"invalid":"default",style:0===o?{borderRightWidth:B.LK.matches?3:0,borderBottomWidth:B.LK.matches?0:3}:{},children:e},e)))})]})}));te.displayName="TrainerUnionsWords";var re=r(42);const se=(e,t,r,s)=>r.includes(t)?(0,l.jsx)(K.Al,{"data-index":t,"data-name":"TrainerWithMissedLetters__input","data-testid":"TrainerWithMissedLetters__input",autoFocus:!0,isIncorrect:s.includes(t),sizeProp:"big"}):(0,l.jsx)("span",{children:e});var ne=r(7227);const ie=e=>{const t=document.getElementById("TrainerWithMissedLettersWords__continueButton");if("Enter"===e.key&&t){t.click(),t.classList.add(ne.Button__inverse__clicked);const e=setTimeout((()=>{t.classList.remove(ne.Button__inverse__clicked),clearTimeout(e)}),500);return!0}return!1},oe=(0,d.memo)((e=>{let{randomWord:t,wordOnSuccess:r,wordOnFail:s}=e;const{incorrectInputsIDs:n,setIncorrectInputsIDs:i}=(0,d.useContext)(K.R3),{isErrorWork:c,isIncorrect:a,setIsIncorrect:u}=(0,d.useContext)(w.U),m=(0,W.s)();return(0,d.useEffect)((()=>(document.addEventListener("keydown",ie),()=>{document.removeEventListener("keydown",ie)})),[]),(0,d.useEffect)((()=>{i([]);const e=document.querySelectorAll('[data-name="TrainerWithMissedLetters__input"');for(const t of e)t.value=""}),[t,i]),(0,l.jsxs)(o.s,{width:"100",maxHeight:!0,justify:"center",direction:"column",gap:"50",children:[(0,l.jsxs)(o.s,{direction:"column",children:[(0,l.jsx)("span",{className:b,children:t.word.split("").map(((e,r)=>(0,l.jsx)(d.Fragment,{children:se(e,r+1,t.missedLettersIndexes,n)},r)))}),a&&I(t)]}),(0,l.jsx)(re.$,{onClick:()=>(e=>{let{randomWord:t,setIncorrectInputsIDs:r,wordOnSuccess:s,wordOnFail:n,storeWords:i,isErrorWork:o,setIsIncorrect:c}=e;const d=document.querySelectorAll('[data-name="TrainerWithMissedLetters__input"');for(const e of d){const d=Number(e.getAttribute("data-index"));e.value===t.word[d-1]?s(i,o,t.id):(c(!0),r((e=>[...e,d])),n(i,o,t.id,"withMissedLetters"))}})({randomWord:t,setIncorrectInputsIDs:i,wordOnSuccess:r,wordOnFail:s,storeWords:m,isErrorWork:c,setIsIncorrect:u}),size:"big",variant:"inverse",id:"TrainerWithMissedLettersWords__continueButton","data-testid":"TrainerWithMissedLettersWords__continueButton",children:"Далее"})]})}));oe.displayName="TrainerWithMissedLettersWords";var ce="yhLwOG7G";const de=e=>{if("none"===document.querySelector("main").style.pointerEvents)return;const t=document.querySelectorAll('[data-name="TrainerAccentsWords__vowel"]'),r=document.querySelector('[data-is-focused="true"]');if("ArrowRight"===e.key){const e=Array.from(t).indexOf(r)===t.length-1?t.item(0):t.item(Array.from(t).indexOf(r)+1);r.setAttribute("data-is-focused","false"),r.classList.remove(ce),e.setAttribute("data-is-focused","true"),e.classList.add(ce)}else if("ArrowLeft"===e.key){const e=0===Array.from(t).indexOf(r)?t.item(t.length-1):t.item(Array.from(t).indexOf(r)-1);r.setAttribute("data-is-focused","false"),r.classList.remove(ce),e.setAttribute("data-is-focused","true"),e.classList.add(ce)}},ae=e=>{"Enter"===e.key&&document.querySelector('[data-is-focused="true"]').click()},le=(0,d.memo)((e=>{let{randomWord:t,onSuccess:r,onFail:s}=e;const n=(0,W.s)(),{isErrorWork:i,isIncorrect:c}=(0,d.useContext)(w.U),[a,u]=(0,d.useState)(),m=(0,d.useRef)(null);(0,d.useEffect)((()=>(q(m,"keydown",de),()=>{H(m,"keydown")})),[]);const h=(0,d.useRef)(null);return(0,d.useEffect)((()=>(q(h,"keydown",ae),()=>{H(h,"keydown")})),[]),(0,l.jsx)(o.s,{maxHeight:!0,width:"100",direction:"column",gap:"20",justify:"center",children:(0,l.jsx)(o.s,{children:t.word.split("").map(((e,d)=>{const m=B.QV.includes(e)?"TrainerAccentsWords__vowel":"",h=B.QV.includes(e),f=h&&!t.word.slice(0,d).split("").some((e=>B.QV.includes(e)));return(0,l.jsx)(o.s,{tabIndex:0,"data-is-focused":f?"true":"false","data-testid":m,"data-name":m,className:`eJ7p9gqf\n              ${h?"RLagBixS":""}\n              ${c&&a===d?"bke362QH":""}\n              ${c&&t.accentIndex===d+1?"cH4phP8U":""}`,justify:"center",onClick:h?()=>((e,t,r,s,n)=>e.randomWord.accentIndex===t+1?e.onSuccess(r,s,e.randomWord.id):(n(t),void e.onFail(r,s,e.randomWord.id,"accents")))({randomWord:t,onSuccess:r,onFail:s},d,n,i,u):void 0,children:(0,l.jsx)("span",{"data-testid":"TrainerAccentsWords__letter",className:"vjzZcztq",children:e})},t.id+d)}))})})}));le.displayName="TrainerAccentsWords";const ue=(e,t,r,s,n,i)=>({primary:(0,l.jsx)(Y,{randomWord:e,randomWordsIsReverse:t,wordOnFail:r,wordOnSuccess:s}),unions:(0,l.jsx)(te,{randomWord:e,wordOnSuccess:s,wordOnFail:r}),choice:(0,l.jsx)(J,{randomWord:e,categories:n.categories,wordOnSuccess:s,wordOnFail:r,showNewWord:i}),withMissedLetters:(0,l.jsx)(K.Z4,{children:(0,l.jsx)(oe,{randomWord:e,wordOnSuccess:s,wordOnFail:r})}),accents:(0,l.jsx)(le,{randomWord:e,onSuccess:s,onFail:r})}),me=(0,r(2334).y1)((e=>!!e.Trainer),!0)[0],he=(0,d.memo)((e=>{let{words:t,theme:r}=e;const[s,n]=(0,d.useState)(null),[i,a]=(0,d.useState)(!1),{randomWord:u,updateRandomWord:m}=L(s,a,n),{totalTime:h,setIsIncorrect:f,isIncorrect:y,setIsErrorWork:j,setTotalTime:v}=(0,d.useContext)(w.U);(0,d.useEffect)((()=>{u||n(0)}),[u,s]);const{wordOnFail:g,wordOnSuccess:T,showNewWord:k}=D(s,a,n,f),b=(0,W.s)();(0,d.useEffect)((()=>{b.length&&null===s&&m()}),[s,b,m]);const{checkArrowsPress:M}=((e,t,r,s,n)=>{const{totalTime:i,isIncorrect:o,isErrorWork:c}=(0,d.useContext)(w.U),{showNewWord:a}=D(e,r,t,s);return{checkArrowsPress:(t,r)=>{if(i)return;if(o)return a(r.items,c,e);const s=document.querySelectorAll('[data-name="TrainerWord"]'),d=e=>{if("unions"!==r.type)if(n){const t=s[0===e?1:0];t&&t.click()}else s[e].click();else s[e].click()};B.LK.matches?"ArrowUp"===t.key?d(0):"ArrowDown"===t.key&&d(1):"ArrowLeft"===t.key?d(0):"ArrowRight"===t.key&&d(1)}}})(s,n,a,f,i),I=(0,d.useRef)(null);(0,d.useEffect)((()=>{if(["primary","unions"].includes(t.type))return q(I,"keydown",(e=>M(e,t))),()=>{H(I,"keydown")}}),[M,t]);const{initializeWords:C}=_(t.items),S=me();(0,d.useLayoutEffect)((()=>{S&&(f(!1),j(!1),v(0),C())}),[r,S]);const E=(0,d.useMemo)((()=>"choice"===t.type&&B.d5.matches),[t.type]);return(0,l.jsx)(x.YW,{className:"JNyDWZu7",withMaxHeight:!E,children:b.length>0&&(0,l.jsx)(l.Fragment,{children:h?(0,l.jsx)(N,{words:t,updateRandomWord:m,theme:r,type:t.type}):(0,l.jsxs)(l.Fragment,{children:["primary"===t.type&&(0,l.jsx)(o.s,{width:"100",children:(0,l.jsx)(p,{text:"Выбирайте ответ, а система будет предлагать новые слова или\n                    те, в которых были допущены ошибки. Когда вы перестанете их\n                    допускать, шкала полностью заполнится. Заполните шкалу\n                    несколько раз, сделайте работу над ошибками - и вы готовы.",textClassName:c})}),"unions"===t.type&&(0,l.jsx)(o.s,{width:"100",children:(0,l.jsx)(p,{text:"В этом тренажере под подчинительным союзом понимается любое\n                    средство подчинительной связи, т.е. союз, союзное слово,\n                    частица",textClassName:c})}),y&&(0,l.jsx)(o.s,{className:"Ts9_k9h3","data-testid":"Trainer__uncorrect",justify:"center",children:"Неверно"}),u&&(0,l.jsx)(l.Fragment,{children:Object.entries(ue(u,i,g,T,t,k)).map((e=>{let[r,s]=e;return(0,l.jsx)(d.Fragment,{children:t.type===r&&s},r)}))}),(0,l.jsx)(O,{}),(0,l.jsx)($,{})]})})})}));he.displayName="TrainerInner";const fe=(0,d.memo)((e=>{let{words:t,theme:r}=e;const[s,n]=(0,d.useState)(0),[i,o]=(0,d.useState)(!1),[c,a]=(0,d.useState)(!1),[m,h]=(0,d.useState)(!1),[f,y]=(0,d.useState)(!1),[p,x]=(0,d.useState)(0);return(0,l.jsx)(w.U.Provider,{value:{totalTime:s,setTotalTime:n,isIncorrect:i,setIsIncorrect:o,isErrorWork:c,setIsErrorWork:a,isOneLifeMode:m,setIsOneLifeMode:h,isCheckMode:f,setIsCheckMode:y,allAttemptsCount:p,setAllAttemptsCount:x},children:(0,l.jsx)(u,{removeAfterUnmount:!1,reducers:{Trainer:j.a3},children:(0,l.jsx)(he,{words:t,theme:r})})})}));fe.displayName="TrainerPage"},7227:function(e,t,r){r.r(t),r.d(t,{Button:function(){return s},Button__big:function(){return n},Button__inverse:function(){return i},Button__inverse__clicked:function(){return o},Button__medium:function(){return c},Button__primary:function(){return d},Button__primary__clicked:function(){return a},Button__small:function(){return l}});var s="Zcv0nPBe",n="tRD9g3We",i="NNnQl_5e",o="j3dH8OG0",c="XA0XHP5S",d="NJhBXRek",a="ihQ3Lxib",l="rF343bXv"}}]);