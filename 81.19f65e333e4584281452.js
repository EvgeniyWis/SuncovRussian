"use strict";(self.webpackChunksuncov_russian=self.webpackChunksuncov_russian||[]).push([[81],{2411:function(e,t,n){n.d(t,{Fd:function(){return i},LK:function(){return r},vn:function(){return s}}),window.matchMedia=window.matchMedia||function(){return{matches:!1,addListener:function(){},removeListener:function(){}}};const r=window.matchMedia("(max-width: 1000px)"),s=window.matchMedia("(max-width: 600px)"),i=0},2025:function(e,t,n){n.d(t,{A:function(){return s}});var r=n(1599);const s=e=>{(0,r.a)()||new Audio(`/SuncovRussian/sounds/${e}.mp3`).play()}},8081:function(e,t,n){n.r(t),n.d(t,{TrainerPage:function(){return J}});var r={};n.r(r),n.d(r,{Hint:function(){return u},Hint__text:function(){return m},Hint__text__active:function(){return h},Hint__text__top:function(){return y}});var s={};n.r(s),n.d(s,{TrainerWord:function(){return k},TrainerWord__default:function(){return M},TrainerWord__invalid:function(){return I}});var i=n(8383),o="xikJpYWM",c=n(6540),a=n(1468),d=n(4848);const l=e=>{let{children:t,reducers:n,removeAfterUnmount:r=!0}=e;const s=(0,a.Pj)(),i=s.reducerManager.getMountedReducers();return(0,c.useEffect)((()=>(Object.entries(n).forEach((e=>{let[t,n]=e;i[t]||s.reducerManager.add(t,n)})),()=>{r&&Object.entries(n).forEach((e=>{let[t]=e;s.reducerManager.remove(t)}))})),[i,n,r,s.reducerManager]),(0,d.jsx)(d.Fragment,{children:t})};l.displayName="DynamicModuleLoader";var u="q8EozCQs",m="LpcIMF4O",h="GCrxjsBF",y="mE9OXUTJ";const f=(0,c.memo)((e=>{let{textClassName:t,text:n,textDirection:s="right"}=e;const[o,a]=(0,c.useState)(!1);return(0,d.jsxs)(i.s,{relative:!0,align:"start",gap:"10",children:[(0,d.jsx)(i.s,{onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),className:u,justify:"center",children:(0,d.jsx)("span",{children:"?"})}),(0,d.jsx)("p",{className:`${m}\n              ${o&&h}\n              ${r[`Hint__text__${s}`]}\n              ${t}`,children:n})]})}));f.displayName="Hint";var p=n(7294),x=n(5337),w=n(3800),j=n(6491),g="VR6nnRel",T="XVOH8ddq";const W=e=>{const{setWords:t}=(0,j.MR)();return{initializeWords:(0,c.useCallback)((()=>{const n=JSON.parse(JSON.stringify(e));for(const e of n)e.probability=1,e.uncorrectTimes=0,e.consecutivelyTimes=0,e.inProgress=!1;t(n)}),[t,e])}};var v=n(1118);const b=(0,c.memo)((e=>{let{updateRandomWord:t,words:n,theme:r}=e;const{isCheckMode:s,isOneLifeMode:o,allAttemptsCount:a,setAllAttemptsCount:l}=(0,c.useContext)(x.U),u=(0,w.n)(),{setWords:m}=(0,j.MR)(),{totalTime:h,setTotalTime:y,isErrorWork:f,setIsErrorWork:p}=(0,c.useContext)(x.U),b=(0,c.useMemo)((()=>Math.round(h/6e4)),[h]),C=(0,c.useMemo)((()=>Math.round(h/1e3%60)),[h]),k=(0,c.useMemo)((()=>u.filter((e=>e.uncorrectTimes>0)).sort(((e,t)=>t.uncorrectTimes-e.uncorrectTimes))),[u]),M=(0,c.useCallback)((()=>{p(!0);const e=k.map((e=>({...e,probability:1,uncorrectTimes:0,consecutivelyTimes:0,inProgress:!1})));m(e),y(0),l(0),t(e)}),[l,p,y,m,t,k]),{initializeWords:I}=W(n.items),N=(0,c.useCallback)((()=>{I(),y(0),p(!1),l(0)}),[I,l,p,y]);return(0,d.jsxs)(i.s,{className:"SZbvI01N",justify:"between",direction:"column",width:"100",maxHeight:!0,children:[(0,d.jsxs)("span",{className:T,children:["Общее время:"," ",`${b<10?"0":""}${b}`,":",`${C<10?"0":""}${C}`]}),o&&(0,d.jsxs)("span",{className:g,children:["Количество попыток: ",a]}),(0,d.jsxs)("span",{className:g,children:["Тема: ",r]}),(s||o)&&(0,d.jsxs)("span",{className:g,children:["Режим: «",s?"Проверка":"Одна жизнь","»"]}),k.length>0&&!o?(0,d.jsxs)(i.s,{className:"KQIgMBSl",gap:"20",maxHeight:!0,justify:"between",direction:"column",children:[(0,d.jsxs)(i.s,{direction:"column",children:[(0,d.jsx)("span",{className:T,children:"Ошибки:"}),(0,d.jsx)(i.s,{direction:"column",gap:"3",width:"100",children:k.map((e=>(0,d.jsxs)("span",{className:"JCvfyDc1",children:["primary"===n.type&&(0,d.jsxs)(d.Fragment,{children:[e.valid," -"," ",e.uncorrectTimes," ",[2,3,4].includes(e.uncorrectTimes)?"раза":"раз"]}),"unions"===n.type&&(0,d.jsxs)(d.Fragment,{children:[e.word," -"," ",e.uncorrectTimes," ",[2,3,4].includes(e.uncorrectTimes)?"раза":"раз"," ","(Правильно: ",e.unionType,")"]}),"choice"===n.type&&(0,d.jsxs)(d.Fragment,{children:[e.word," -"," ",e.uncorrectTimes," ",[2,3,4].includes(e.uncorrectTimes)?"раза":"раз"," ","(Правильно: ",e.choiceWord,")"]})]},e.id)))})]}),!f&&(0,d.jsx)(v.$,{onClick:M,type:"button",children:"Работа над ошибками"})]}):(0,d.jsx)(v.$,{onClick:N,type:"button",children:"Повторить"})]})}));b.displayName="TrainerTotalResult";var C=n(2411),k="rxqnQXoT",M="RcYBccp8",I="ywWLKwMM";const N=(0,c.memo)((e=>{let{className:t,style:n,dataTestId:r,onClick:o,children:c,type:a="default"}=e;return(0,d.jsx)(i.s,{justify:"center","data-testid":r,width:"100",onClick:()=>{const e=document.querySelectorAll('[data-name="TrainerWord"]');e.forEach((e=>{e.style.transitionDuration="0ms"}));const t=setTimeout((()=>{clearTimeout(t),e.forEach((e=>{e.style.transitionDuration="var(--transition-duration-default)"}))}),100);o&&o()},className:`${k} ${t} ${s[`TrainerWord__${a}`]}`,style:n,"data-name":"TrainerWord",children:c})}));N.displayName="TrainerWord";const _=["Сочинительный","Подчинительный"],S=(0,c.memo)((e=>{let{randomWord:t,wordOnSuccess:n,wordOnFail:r}=e;const s=(0,w.n)(),{isIncorrect:o,isErrorWork:a}=(0,c.useContext)(x.U);return(0,d.jsxs)(i.s,{width:"100",direction:"column",gap:"10",justify:"center",children:[(0,d.jsx)("span",{className:"lieLc2U5","data-testid":"TrainerUnionsWords__word",children:t.word}),(0,d.jsx)(i.s,{justify:"center",direction:C.LK.matches?"column":"row",width:"100",children:_.map(((e,i)=>(0,d.jsx)(N,{dataTestId:`TrainerUnionsWords__${e}`,onClick:e===t.unionType?()=>n(s,a,t.id):()=>r(s,a,t.id),type:o&&e!==t.unionType?"invalid":"default",style:0===i?{borderRightWidth:C.LK.matches?3:0,borderBottomWidth:C.LK.matches?0:3}:{},children:e},e)))})]})}));S.displayName="TrainerUnionsWords";const O=(e,t,n)=>{const r=(0,w.n)(),s=(0,c.useMemo)((()=>r.find((t=>t.id===e))),[e,r]);return{updateRandomWord:(0,c.useCallback)((s=>{const i=(s||r).filter((t=>t.id!==e&&0!==t.probability)),o=[!0,!1][Math.floor(2*Math.random())];if(t(o),0===i.length)return;const c=i.reduce(((e,t)=>e+(t.probability||1)),0)*Math.random();for(let e=0,t=0;;e++)if(t+=i[e].probability||1,t>c)return void n(i[e].id)}),[e,n,t,r]),randomWord:s}},L=(0,c.memo)((e=>{let{randomWord:t,randomWordsIsReverse:n,wordOnFail:r,wordOnSuccess:s}=e;const o=(0,w.n)(),{isIncorrect:a,isErrorWork:l}=(0,c.useContext)(x.U),u=e=>(0,d.jsx)(d.Fragment,{children:t.differenceIndexes?(0,d.jsx)(i.s,{children:e.split("").map(((n,r)=>(0,d.jsx)(c.Fragment,{children:" "===n?(0,d.jsx)("span",{style:{width:7}}):(0,d.jsx)("span",{style:{fontWeight:t.differenceIndexes&&t.differenceIndexes.includes(r+1)?"bold":"normal"},children:n},e+n+r)},e+n+r)))}):e});return(0,d.jsx)(d.Fragment,{children:t.valid&&(0,d.jsxs)(i.s,{justify:"center",direction:C.LK.matches?n?"columnReverse":"column":n?"rowReverse":"row",width:"100",children:[(0,d.jsx)(N,{dataTestId:"TrainerPrimaryWords__valid",onClick:()=>s(o,l,t.id),style:{borderRightWidth:C.LK.matches||n||a?3:0,borderBottomWidth:C.LK.matches?n||a?3:0:3,fontSize:t.valid.length>=10?20:36},children:u(t.valid)}),(0,d.jsx)(N,{dataTestId:"TrainerPrimaryWords__invalid",onClick:()=>r(o,l,t.id),type:a?"invalid":"default",style:{borderRightWidth:C.LK.matches?3:n?0:3,borderBottomWidth:C.LK.matches&&n?0:3,fontSize:t.valid.length>=10?20:36},children:u(t.invalid)})]})})}));L.displayName="TrainerPrimaryWords";var E,F=n(2980);function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(null,arguments)}var A=e=>c.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",width:21,height:18,fill:"none"},e),E||(E=c.createElement("path",{stroke:"var(--color-white)",strokeWidth:3,d:"M2 10.5 6.5 15l13-13"})));const P=(0,c.memo)((e=>{let{name:t,onClick:n,modeIsOn:r,setModeIsOn:s,hintText:o}=e;const a=(0,c.useCallback)((()=>{s(!r),n()}),[n,r,s]),[l,u]=(0,c.useState)(!1);return(0,d.jsxs)(i.s,{direction:"column",relative:!0,children:[(0,d.jsxs)(i.s,{className:`SsHLGFH8\n        ${r&&"asGKPX1D"}`,children:[(0,d.jsx)(i.s,{onClick:a,className:"m0UHa6ZK",justify:"center","data-testid":`ModeSwitcherItem__${t}`,"data-selected":r,children:(0,d.jsx)(A,{className:"d_cw2q17"})}),(0,d.jsx)("span",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:"d9iTjNx0",children:t})]}),o&&(0,d.jsx)(i.s,{justify:"center",className:`dPvMNF15 \n        ${l&&"VBHbPcMg"}`,children:o})]})}));P.displayName="ModeSwitcherItem";const $=(0,c.memo)((e=>{let{items:t}=e;return(0,d.jsx)(i.s,{justify:"end",width:"100",gap:"10",relative:!0,children:(0,d.jsx)(i.s,{direction:"column",gap:"10",children:t.map((e=>(0,d.jsx)(P,{...e},e.name)))})})}));$.displayName="ModeSwitcher";const U=(0,c.memo)((()=>{const[e,t]=(0,c.useState)(!0),{focusModeItem:n}=((e,t)=>{const n=(0,w.n)(),{changeWordProbability:r,changeWordConsecutivelyTimes:s,changeWordInProgressStatus:i}=(0,j.MR)(),o=(0,c.useCallback)((()=>{for(const e of n)r({id:e.id,probability:1}),s({id:e.id,consecutivelyTimes:0}),i({id:e.id,inProgress:!1})}),[s,i,r,n]),a=(0,c.useCallback)((()=>{document.hidden&&o()}),[o]),d=(0,c.useCallback)((()=>{e?document.onvisibilitychange=null:(o(),document.onvisibilitychange=a)}),[o,a,e]);return e&&(document.onvisibilitychange=a),{focusModeItem:{name:"Фокусировка",onClick:d,modeIsOn:e,setModeIsOn:t,hintText:"Обнуляет прогресс каждый раз, когда вы покидаете сайт."}}})(e,t),{OneLifeModeItem:r}=(()=>{const{setIsOneLifeMode:e,isOneLifeMode:t,setIsCheckMode:n}=(0,c.useContext)(x.U);return{OneLifeModeItem:{name:"Одна жизнь",onClick:(0,c.useCallback)((()=>{t||n(!1),e(!t)}),[t,n,e]),modeIsOn:t,setModeIsOn:e,hintText:"Прогресс обнуляется при первой же ошибке"}}})(),{CheckModeItem:s}=(()=>{const{setIsCheckMode:e,isCheckMode:t,setIsOneLifeMode:n}=(0,c.useContext)(x.U);return{CheckModeItem:{name:"Проверка",onClick:(0,c.useCallback)((()=>{t||n(!1),e(!t)}),[t,e,n]),modeIsOn:t,setModeIsOn:e,hintText:"Слово не будут повторяться даже при допущении ошибки"}}})(),i=[n,r,s];return(0,d.jsx)($,{items:i})}));U.displayName="TrainerModeSwitcher";var H=n(2025),B=n(1599);const K=(e,t,n,r)=>{const{changeWordProbability:s,changeWordUncorrectTimes:i,changeWordConsecutivelyTimes:o,changeWordInProgressStatus:a}=(0,j.MR)(),d=(0,w.n)(),{initializeWords:l}=W(d),{isOneLifeMode:u,isCheckMode:m,setAllAttemptsCount:h}=(0,c.useContext)(x.U),[y,f]=(0,c.useState)(!1),{updateRandomWord:p}=O(e,t,n),g=(0,c.useCallback)(((e,t,n)=>{u&&(l(),h((e=>e+1))),f(!1),r(!1);const c=e.find((e=>e.id===n));if(!c)return;t||(s({probability:.2,id:c.id}),i({id:c.id,uncorrectTimes:c.uncorrectTimes+1})),o({id:c.id,consecutivelyTimes:0}),a({id:c.id,inProgress:!1}),m&&(s({id:c.id,probability:0}),a({id:c.id,inProgress:!0})),p();const d=document.querySelector("main");(0,B.a)()||(d.style.pointerEvents="all"),document.onclick=null}),[o,a,s,i,l,m,u,h,r,p]),T=(0,c.useCallback)((function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document;if(y)return;(0,H.A)("FailSound"),r(!0),f(!0);const i=document.querySelector("main"),o=setTimeout((()=>{(0,B.a)()||(i.style.pointerEvents="none"),s.onclick=()=>g(e,t,n),clearTimeout(o)}),C.Fd)}),[r,g,y]),v=(0,c.useCallback)(((e,t,n)=>{if(y)return;const r=e.find((e=>e.id===n));if(!r)return;if(t){const e=r.consecutivelyTimes+1;o({id:r.id,consecutivelyTimes:e}),3===e&&(a({id:r.id,inProgress:!0}),s({probability:.05,id:r.id}))}else.2===r.probability?s({id:r.id,probability:.1}):.1===r.probability?s({id:r.id,probability:.05}):(s({id:r.id,probability:u?0:.01}),a({id:r.id,inProgress:!0}));m&&(s({id:r.id,probability:0}),a({id:r.id,inProgress:!0}));const i=setTimeout((()=>{p(),clearTimeout(i)}),C.vn.matches?150:0)}),[o,a,s,m,u,p,y]);return{showNewWord:g,wordOnSuccess:v,wordOnFail:T,waitRepeatedClickInFail:y}};var q="a_vJLFXY",D="_5IIrRsY";const X=(0,c.memo)((e=>{let{randomWord:t,categories:n,wordOnFail:r,wordOnSuccess:s,showNewWord:o}=e;const a=(0,w.n)(),{isErrorWork:l}=(0,c.useContext)(x.U);return(0,c.useEffect)((()=>{document.querySelectorAll('[data-name="TrainerChoiceWords_choiceWord"]').forEach((e=>{e.classList.remove(D),e.classList.remove(q)}))}),[t]),(0,d.jsxs)(i.s,{className:"XWH31nyh",maxHeight:!0,width:"100",direction:"column",gap:"20",justify:"center",children:[(0,d.jsx)("span",{"data-testid":"TrainerChoiceWords_word",className:"BTdnXgeo",children:t.word}),(0,d.jsx)(i.s,{width:"100",justify:"center",direction:"column",gap:"50",children:n.map((e=>(0,d.jsxs)(i.s,{width:"100",children:[e.category&&(0,d.jsx)("span",{className:"ngsSVCdM",children:e.category}),(0,d.jsx)(i.s,{width:"100",wrap:!0,gap:"10",children:e.choiceWords.map((n=>(0,d.jsx)("span",{onClick:e=>((e,t,n,r,s,i,o,c)=>{const a=setTimeout((()=>{"none"!==document.querySelector("main").style.pointerEvents?t.choiceWord===n?r(o,i,t.id):((e,t,n,r,s)=>{const i=document.querySelectorAll('[data-name="TrainerChoiceWords_choiceWord"]');i.forEach((n=>{n.getAttribute("data-value")!==t.choiceWord&&(e.target===n&&n.classList.add(D),n.classList.add(q))}));const o=Array.from(i).find((e=>e.getAttribute("data-value")===t.choiceWord));n(r,s,t.id,o)})(e,t,s,o,i):c(o,i,t.id),clearTimeout(a)}),C.Fd)})(e,t,n,s,r,l,a,o),className:`\n                    EIQxCRzu\n                    ${e.category?"":"snlgLyxv"}\n                    `,"data-name":"TrainerChoiceWords_choiceWord","data-value":n,"data-testid":"TrainerChoiceWords_choiceWord",children:n},n)))})]},e.choiceWords.join(""))))})]})}));X.displayName="TrainerChoiceWords";const z=(0,c.memo)((e=>{let{words:t,theme:n}=e;const[r,s]=(0,c.useState)(null),[a,l]=(0,c.useState)(!1),{randomWord:u,updateRandomWord:m}=O(r,l,s),{totalTime:h,setIsIncorrect:y,isIncorrect:j,setIsErrorWork:g,setTotalTime:T}=(0,c.useContext)(x.U);(0,c.useEffect)((()=>{u||s(0)}),[u,r]);const{wordOnFail:v,wordOnSuccess:k,showNewWord:M}=K(r,l,s,y),I=(0,w.n)();(0,c.useEffect)((()=>{I.length&&null===r&&m()}),[r,I,m]);const{checkArrowsPress:N}=((e,t,n,r,s)=>{const{totalTime:i,isIncorrect:o,isErrorWork:a}=(0,c.useContext)(x.U),{showNewWord:d,waitRepeatedClickInFail:l}=K(e,n,t,r);return{checkArrowsPress:(t,n)=>{if(i)return;l&&o&&d(n.items,a,e);const r=document.querySelectorAll('[data-name="TrainerWord"]'),c=e=>{if("unions"!==n.type)if(s){const t=r[0===e?1:0];t&&t.click()}else r[e].click();else r[e].click()};C.LK.matches?"ArrowUp"===t.key?c(0):"ArrowDown"===t.key&&c(1):"ArrowLeft"===t.key?c(0):"ArrowRight"===t.key&&c(1)}}})(r,s,l,y,a);(0,c.useEffect)((()=>(document.onkeydown=e=>N(e,t),()=>{document.onkeydown=null})),[N,t]);const{initializeWords:_}=W(t.items);return(0,c.useEffect)((()=>{const e=setTimeout((()=>{y(!1),g(!1),T(0),_(),clearTimeout(e)}),C.Fd)}),[_,g,y,T]),(0,d.jsx)(p.YW,{className:"JNyDWZu7",children:I.length>0&&(0,d.jsx)(d.Fragment,{children:h?(0,d.jsx)(b,{words:t,updateRandomWord:m,theme:n}):(0,d.jsxs)(d.Fragment,{children:["primary"===t.type&&(0,d.jsx)(i.s,{width:"100",children:(0,d.jsx)(f,{text:"Выбирайте ответ, а система будет предлагать новые слова или\n                    те, в которых были допущены ошибки. Когда вы перестанете их\n                    допускать, шкала полностью заполнится. Заполните шкалу\n                    несколько раз, сделайте работу над ошибками - и вы готовы.",textClassName:o})}),"unions"===t.type&&(0,d.jsx)(i.s,{width:"100",children:(0,d.jsx)(f,{text:"В этом тренажере под подчинительным союзом понимается любое\n                    средство подчинительной связи, т.е. союз, союзное слово,\n                    частица",textClassName:o})}),j&&(0,d.jsx)(i.s,{className:"Ts9_k9h3","data-testid":"Trainer__uncorrect",justify:"center",children:"Неверно"}),u&&(0,d.jsxs)(d.Fragment,{children:["primary"===t.type&&(0,d.jsx)(L,{randomWord:u,randomWordsIsReverse:a,wordOnFail:v,wordOnSuccess:k}),"unions"===t.type&&(0,d.jsx)(S,{randomWord:u,wordOnSuccess:k,wordOnFail:v}),"choice"===t.type&&(0,d.jsx)(X,{randomWord:u,categories:t.categories,wordOnSuccess:k,wordOnFail:v,showNewWord:M})]}),(0,d.jsx)(F.i,{}),(0,d.jsx)(U,{})]})})})}));z.displayName="TrainerInner";const J=(0,c.memo)((e=>{let{words:t,theme:n}=e;const[r,s]=(0,c.useState)(0),[i,o]=(0,c.useState)(!1),[a,u]=(0,c.useState)(!1),[m,h]=(0,c.useState)(!1),[y,f]=(0,c.useState)(!1),[p,w]=(0,c.useState)(0);return(0,d.jsx)(x.U.Provider,{value:{totalTime:r,setTotalTime:s,isIncorrect:i,setIsIncorrect:o,isErrorWork:a,setIsErrorWork:u,isOneLifeMode:m,setIsOneLifeMode:h,isCheckMode:y,setIsCheckMode:f,allAttemptsCount:p,setAllAttemptsCount:w},children:(0,d.jsx)(l,{removeAfterUnmount:!1,reducers:{Trainer:j.a3},children:(0,d.jsx)(z,{words:t,theme:n})})})}));J.displayName="TrainerPage"},1118:function(e,t,n){n.d(t,{$:function(){return d}});var r={};n.r(r),n.d(r,{Button:function(){return s},Button__big:function(){return i},Button__medium:function(){return o}});var s="Zcv0nPBe",i="tRD9g3We",o="XA0XHP5S",c=n(6540),a=n(4848);const d=(0,c.memo)((e=>{let{className:t,children:n,variant:i="medium",...o}=e;return(0,a.jsx)("button",{...o,className:`${s} ${r[`Button__${i}`]} ${t}`,children:n})}));d.displayName="Button"}}]);