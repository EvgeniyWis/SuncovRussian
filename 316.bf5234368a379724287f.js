"use strict";(self.webpackChunksuncov_russian=self.webpackChunksuncov_russian||[]).push([[316],{2411:function(e,t,n){n.d(t,{L:function(){return r},v:function(){return s}}),window.matchMedia=window.matchMedia||function(){return{matches:!1,addListener:function(){},removeListener:function(){}}};const r=window.matchMedia("(max-width: 1000px)"),s=window.matchMedia("(max-width: 600px)")},7660:function(e,t,n){n.d(t,{T:function(){return r}});const r=e=>{new Audio(`/SuncovRussian/sounds/${e}.mp3`).play()}},8316:function(e,t,n){n.r(t),n.d(t,{TrainerPage:function(){return D}});var r={};n.r(r),n.d(r,{Hint:function(){return m},Hint__text:function(){return h},Hint__text__active:function(){return f},Hint__text__top:function(){return y}});var s={};n.r(s),n.d(s,{TrainerWord:function(){return W},TrainerWord__default:function(){return C},TrainerWord__invalid:function(){return I}});var i=n(2990),o="xikJpYWM",a=n(2411),c=n(6540),d=n(1468),l=n(4848);const u=e=>{let{children:t,reducers:n,removeAfterUnmount:r=!0}=e;const s=(0,d.Pj)(),i=s.reducerManager.getMountedReducers();return(0,c.useEffect)((()=>(Object.entries(n).forEach((e=>{let[t,n]=e;i[t]||s.reducerManager.add(t,n)})),()=>{r&&Object.entries(n).forEach((e=>{let[t]=e;s.reducerManager.remove(t)}))})),[i,n,r,s.reducerManager]),(0,l.jsx)(l.Fragment,{children:t})};u.displayName="DynamicModuleLoader";var m="q8EozCQs",h="LpcIMF4O",f="GCrxjsBF",y="mE9OXUTJ";const x=(0,c.memo)((e=>{let{textClassName:t,text:n,textDirection:s="right"}=e;const[o,a]=(0,c.useState)(!1);return(0,l.jsxs)(i.so,{relative:!0,align:"start",gap:"10",children:[(0,l.jsx)(i.so,{onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),className:m,justify:"center",children:(0,l.jsx)("span",{children:"?"})}),(0,l.jsx)("p",{className:`${h}\n              ${o&&f}\n              ${r[`Hint__text__${s}`]}\n              ${t}`,children:n})]})}));x.displayName="Hint";var p=n(3519),T=n(5337),j=n(3800),w=n(6491),b="XVOH8ddq";const v=["ударения","cловарные слова","наречия","н/нн","морфологические нормы","пре-при"],g=e=>{const{setWords:t}=(0,w.MR)();return{initializeWords:(0,c.useCallback)((()=>{const n=JSON.parse(JSON.stringify(e));for(const e of n)e.probability=1,e.uncorrectTimes=0,e.consecutivelyTimes=0,e.inProgress=!1;t(n)}),[t,e])}};var k=n(1118);const M=(0,c.memo)((e=>{let{updateRandomWord:t,words:n}=e;const r=(0,j.n)(),{setWords:s}=(0,w.MR)(),{totalTime:o,setTotalTime:a,isErrorWork:d,setIsErrorWork:u}=(0,c.useContext)(T.U),m=(0,c.useMemo)((()=>Math.round(o/6e4)),[o]),h=(0,c.useMemo)((()=>Math.round(o/1e3%60)),[o]),f=(0,c.useMemo)((()=>r.filter((e=>e.uncorrectTimes>0)).sort(((e,t)=>t.uncorrectTimes-e.uncorrectTimes))),[r]),y=(0,c.useCallback)((()=>{u(!0);const e=f.map((e=>({...e,probability:1,uncorrectTimes:0,consecutivelyTimes:0,inProgress:!1})));s(e),a(0),t(e)}),[u,a,s,t,f]),{initializeWords:x}=g(n),p=(0,c.useCallback)((()=>{x(),a(0),u(!1)}),[x,u,a]),{isCheckMode:M,isOneLifeMode:W}=(0,c.useContext)(T.U);return(0,l.jsxs)(i.so,{className:"SZbvI01N",justify:"between",direction:"column",width:"100",maxHeight:!0,children:[(0,l.jsxs)("span",{className:b,children:["Общее время:"," ",`${m<10?"0":""}${m}`,":",`${h<10?"0":""}${h}`]}),f.length>0?(0,l.jsxs)(i.so,{className:"KQIgMBSl",gap:"20",maxHeight:!0,justify:"between",direction:"column",children:[(0,l.jsxs)(i.so,{direction:"column",children:[(0,l.jsx)("span",{className:b,children:"Ошибки:"}),(0,l.jsxs)(i.so,{direction:"column",gap:"3",width:"100",children:[f.map((e=>(0,l.jsxs)("span",{className:"JCvfyDc1",children:[v.includes(e.trainerType)&&(0,l.jsxs)(l.Fragment,{children:[e.valid," -"," ",e.uncorrectTimes," ",[2,3,4].includes(e.uncorrectTimes)?"раза":"раз"]}),"виды союзов"===e.trainerType&&(0,l.jsxs)(l.Fragment,{children:[e.word," -"," ",e.uncorrectTimes," ",[2,3,4].includes(e.uncorrectTimes)?"раза":"раз"," ","(Правильно: ",e.unionType,")"]})]},e.id))),(M||W)&&(0,l.jsxs)("span",{className:"SPOpt4ww",children:["Режим, который использовался при прохождении: «",M?"Проверка":"Одна жизнь","»"]})]})]}),!d&&(0,l.jsx)(k.$,{onClick:y,type:"button",children:"Работа над ошибками"})]}):(0,l.jsx)(k.$,{onClick:p,type:"button",children:"Повторить"})]})}));M.displayName="TrainerTotalResult";var W="rxqnQXoT",C="RcYBccp8",I="ywWLKwMM";const N=(0,c.memo)((e=>{let{className:t,style:n,dataTestId:r,onClick:o,children:a,type:c="default"}=e;return(0,l.jsx)(i.so,{justify:"center","data-testid":r,width:"100",onClick:()=>{const e=document.querySelectorAll(".TrainerWord");e.forEach((e=>{e.style.transitionDuration="0ms"}));const t=setTimeout((()=>{clearTimeout(t),e.forEach((e=>{e.style.transitionDuration="var(--transition-duration-default)"}))}),100);o&&o()},className:`TrainerWord ${W} ${t} ${s[`TrainerWord__${c}`]}`,style:n,children:a})}));N.displayName="TrainerWord";var _=n(1364);const O=(0,c.memo)((e=>{let{randomWord:t,wordOnSuccess:n,wordOnFail:r}=e;const s=(0,j.n)(),{isIncorrect:o,isErrorWork:d}=(0,c.useContext)(T.U);return(0,l.jsxs)(i.so,{width:"100",direction:"column",gap:"10",justify:"center",children:[(0,l.jsx)("span",{className:"hRRLbvjX","data-testid":"UnionsTrainerWords__word",children:t.word}),(0,l.jsx)(i.so,{justify:"center",direction:a.L.matches?"column":"row",width:"100",children:_.F.map(((e,i)=>(0,l.jsx)(N,{dataTestId:`UnionsTrainerWords__${e}`,onClick:e===t.unionType?()=>n(s,d,t.id):()=>r(s,d,t.id),type:o&&e!==t.unionType?"invalid":"default",style:0===i?{borderRightWidth:a.L.matches?3:0,borderBottomWidth:a.L.matches?0:3}:{},children:e},e)))})]})}));O.displayName="UnionsTrainerWords";const S=(e,t,n)=>{const r=(0,j.n)(),s=(0,c.useMemo)((()=>r.find((t=>t.id===e))),[e,r]);return{updateRandomWord:(0,c.useCallback)((s=>{const i=(s||r).filter((t=>t.id!==e&&0!==t.probability)),o=[!0,!1][Math.floor(2*Math.random())];if(t(o),0===i.length)return;const a=i.reduce(((e,t)=>e+(t.probability||1)),0)*Math.random();for(let e=0,t=0;;e++)if(t+=i[e].probability||1,t>a)return void n(i[e].id)}),[e,n,t,r]),randomWord:s}};var L=n(7660);const P=(0,c.memo)((e=>{let{randomWord:t,randomWordsIsReverse:n,wordOnFail:r,wordOnSuccess:s}=e;const o=(0,j.n)(),{isIncorrect:d,isErrorWork:u}=(0,c.useContext)(T.U),m=e=>(0,l.jsx)(l.Fragment,{children:["cловарные слова","пре-при"].includes(t.trainerType)?(0,l.jsx)(i.so,{children:e.split("").map(((n,r)=>(0,l.jsx)(l.Fragment,{children:" "===n?(0,l.jsx)("span",{style:{width:7}}):(0,l.jsx)("span",{style:{fontWeight:t.differenceIndexes&&t.differenceIndexes.includes(r+1)?"bold":"normal"},children:n},e+r+n)})))}):e});return(0,l.jsxs)(i.so,{justify:"center",direction:a.L.matches?n?"columnReverse":"column":n?"rowReverse":"row",width:"100",children:[(0,l.jsx)(N,{dataTestId:"PrimaryTrainerWords__valid",onClick:()=>s(o,u,t.id),style:{borderRightWidth:a.L.matches||n||d?3:0,borderBottomWidth:a.L.matches?n||d?3:0:3,fontSize:t.valid.length>=10?20:36},children:m(t.valid)}),(0,l.jsx)(N,{dataTestId:"PrimaryTrainerWords__invalid",onClick:()=>r(o,u,t.id),type:d?"invalid":"default",style:{borderRightWidth:a.L.matches?3:n?0:3,borderBottomWidth:a.L.matches&&n?0:3,fontSize:t.valid.length>=10?20:36},children:m(t.invalid)})]})}));P.displayName="PrimaryTrainerWords";var R,E=n(2980);function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(null,arguments)}var F=e=>c.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",width:21,height:18,fill:"none"},e),R||(R=c.createElement("path",{stroke:"var(--color-white)",strokeWidth:3,d:"M2 10.5 6.5 15l13-13"})));const U=(0,c.memo)((e=>{let{name:t,onClick:n,modeIsOn:r,setModeIsOn:s,hintText:o}=e;const a=(0,c.useCallback)((()=>{s(!r),n()}),[n,r,s]),[d,u]=(0,c.useState)(!1);return(0,l.jsxs)(i.so,{direction:"column",relative:!0,children:[(0,l.jsxs)(i.so,{className:`SsHLGFH8\n        ${r&&"asGKPX1D"}`,children:[(0,l.jsx)(i.so,{onClick:a,className:"m0UHa6ZK",justify:"center","data-testid":`ModeSwitcherItem__${t}`,"data-selected":r,children:(0,l.jsx)(F,{className:"d_cw2q17"})}),(0,l.jsx)("span",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:"d9iTjNx0",children:t})]}),o&&(0,l.jsx)(i.so,{justify:"center",className:`dPvMNF15 \n        ${d&&"VBHbPcMg"}`,children:o})]})}));U.displayName="ModeSwitcherItem";const H=(0,c.memo)((e=>{let{items:t}=e;return(0,l.jsx)(i.so,{justify:"end",width:"100",gap:"10",relative:!0,children:(0,l.jsx)(i.so,{direction:"column",gap:"10",children:t.map((e=>(0,l.jsx)(U,{...e},e.name)))})})}));H.displayName="ModeSwitcher";const B=(0,c.memo)((()=>{const[e,t]=(0,c.useState)(!0),{strictModeItem:n}=((e,t)=>{const n=(0,j.n)(),{changeWordProbability:r,changeWordConsecutivelyTimes:s,changeWordInProgressStatus:i}=(0,w.MR)(),o=(0,c.useCallback)((()=>{for(const e of n)r({id:e.id,probability:1}),s({id:e.id,consecutivelyTimes:0}),i({id:e.id,inProgress:!1})}),[s,i,r,n]),a=(0,c.useCallback)((()=>{document.hidden&&o()}),[o]);return{strictModeItem:{name:"Строгий",onClick:(0,c.useCallback)((()=>{e?document.onvisibilitychange=null:(o(),document.onvisibilitychange=a)}),[o,a,e]),modeIsOn:e,setModeIsOn:t,hintText:"Обнуляет прогресс каждый раз, когда вы покидаете сайт."}}})(e,t),{OneLifeModeItem:r}=(()=>{const{setIsOneLifeMode:e,isOneLifeMode:t,setIsCheckMode:n}=(0,c.useContext)(T.U);return{OneLifeModeItem:{name:"Одна жизнь",onClick:(0,c.useCallback)((()=>{t||n(!1),e(!t)}),[t,n,e]),modeIsOn:t,setModeIsOn:e,hintText:"Прогресс обнуляется при первой же ошибке"}}})(),{CheckModeItem:s}=(()=>{const{setIsCheckMode:e,isCheckMode:t,setIsOneLifeMode:n}=(0,c.useContext)(T.U);return{CheckModeItem:{name:"Проверка",onClick:(0,c.useCallback)((()=>{t||n(!1),e(!t)}),[t,e,n]),modeIsOn:t,setModeIsOn:e,hintText:"Слово не будут повторяться даже при допущении ошибки"}}})(),i=[n,r,s];return(0,l.jsx)(H,{items:i})}));B.displayName="TrainerModeSwitcher";const A=(0,c.memo)((e=>{let{words:t}=e;const[n,r]=(0,c.useState)(null),[s,d]=(0,c.useState)(!1),{randomWord:u,updateRandomWord:m}=S(n,d,r),{totalTime:h,setIsIncorrect:f,isIncorrect:y,isErrorWork:b,setIsErrorWork:k,setTotalTime:W}=(0,c.useContext)(T.U);(0,c.useEffect)((()=>{u||r(0)}),[u,n]);const{wordOnFail:C,wordOnSuccess:I,showNewWord:N,waitRepeatedClickInFail:_}=((e,t,n,r)=>{const{changeWordProbability:s,changeWordUncorrectTimes:i,changeWordConsecutivelyTimes:o,changeWordInProgressStatus:a}=(0,w.MR)(),d=(0,j.n)(),{initializeWords:l}=g(d),{isOneLifeMode:u,isCheckMode:m}=(0,c.useContext)(T.U),[h,f]=(0,c.useState)(!1),{updateRandomWord:y}=S(e,t,n),x=(0,c.useCallback)(((e,t,n)=>{f(!1),r(!1);const c=e.find((e=>e.id===n));c&&(t||(s({probability:.2,id:c.id}),i({id:c.id,uncorrectTimes:c.uncorrectTimes+1})),o({id:c.id,consecutivelyTimes:0}),a({id:c.id,inProgress:!1}),m&&(s({id:c.id,probability:0}),a({id:c.id,inProgress:!0})),y(),document.querySelector("main").style.pointerEvents="all",document.onclick=null)}),[o,a,s,i,m,r,y]),p=(0,c.useCallback)(((e,t,n)=>{if(h)return;u&&l(),(0,L.T)("FailSound"),r(!0),f(!0);const s=document.querySelector("main"),i=setTimeout((()=>{s.style.pointerEvents="none",document.onclick=()=>x(e,t,n),clearTimeout(i)}),0)}),[l,u,r,x,h]),b=(0,c.useCallback)(((e,t,n)=>{if(h)return;const r=e.find((e=>e.id===n));if(r){if(t){const e=r.consecutivelyTimes+1;o({id:r.id,consecutivelyTimes:e}),3===e&&(a({id:r.id,inProgress:!0}),s({probability:.05,id:r.id}))}else.2===r.probability?s({id:r.id,probability:.1}):.1===r.probability?s({id:r.id,probability:.05}):(s({id:r.id,probability:.01}),a({id:r.id,inProgress:!0}));m&&(s({id:r.id,probability:0}),a({id:r.id,inProgress:!0})),y()}}),[o,a,s,m,y,h]);return{showNewWord:x,wordOnSuccess:b,wordOnFail:p,waitRepeatedClickInFail:h}})(n,d,r,f),R=(0,j.n)();(0,c.useEffect)((()=>{R.length&&null===n&&m()}),[n,R,m]),(0,c.useEffect)((()=>(document.onkeydown=e=>((e,t)=>{if(h)return;_&&y&&N(t,b,n);const r=document.querySelectorAll(".TrainerWord"),i=e=>{if("виды союзов"!==t[0].trainerType)if(s){const t=r[0===e?1:0];t&&t.click()}else r[e].click();else r[e].click()};a.L.matches?"ArrowUp"===e.key?i(0):"ArrowDown"===e.key&&i(1):"ArrowLeft"===e.key?i(0):"ArrowRight"===e.key&&i(1)})(e,R),()=>{document.onkeydown=null})),[b,y,n,s,N,R,h,_,C,I]);const{initializeWords:$}=g(t);return(0,c.useEffect)((()=>{const e=setTimeout((()=>{f(!1),k(!1),W(0),$(),clearTimeout(e)}),0)}),[$,k,f,W]),(0,l.jsx)(p.YW,{className:"JNyDWZu7",children:R.length>0&&(0,l.jsx)(l.Fragment,{children:h?(0,l.jsx)(M,{words:t,updateRandomWord:m}):(0,l.jsxs)(l.Fragment,{children:[v.includes(R[0].trainerType)&&(0,l.jsx)(i.so,{width:"100",children:(0,l.jsx)(x,{text:"Выбирайте ответ, а система будет предлагать новые слова или\n                    те, в которых были допущены ошибки. Когда вы перестанете их\n                    допускать, шкала полностью заполнится. Заполните шкалу\n                    несколько раз, сделайте работу над ошибками - и вы готовы.",textClassName:o})}),"виды союзов"===R[0].trainerType&&(0,l.jsx)(i.so,{width:"100",children:(0,l.jsx)(x,{text:"В этом тренажере под подчинительным союзом понимается любое\n                    средство подчинительной связи, т.е. союз, союзное слово,\n                    частица",textClassName:o})}),y&&(0,l.jsx)(i.so,{className:"Ts9_k9h3","data-testid":"Trainer__uncorrect",justify:"center",children:"Неверно"}),u&&(0,l.jsxs)(l.Fragment,{children:[v.includes(R[0].trainerType)&&(0,l.jsx)(P,{randomWord:u,randomWordsIsReverse:s,wordOnFail:C,wordOnSuccess:I}),"виды союзов"===t[0].trainerType&&(0,l.jsx)(O,{randomWord:u,wordOnSuccess:I,wordOnFail:C})]}),(0,l.jsx)(E.i,{}),(0,l.jsx)(B,{})]})})})}));A.displayName="TrainerInner";const D=(0,c.memo)((e=>{let{words:t}=e;const[n,r]=(0,c.useState)(0),[s,i]=(0,c.useState)(!1),[o,a]=(0,c.useState)(!1),[d,m]=(0,c.useState)(!1),[h,f]=(0,c.useState)(!1);return(0,l.jsx)(T.U.Provider,{value:{totalTime:n,setTotalTime:r,isIncorrect:s,setIsIncorrect:i,isErrorWork:o,setIsErrorWork:a,isOneLifeMode:d,setIsOneLifeMode:m,isCheckMode:h,setIsCheckMode:f},children:(0,l.jsx)(u,{removeAfterUnmount:!1,reducers:{Trainer:w.a3},children:(0,l.jsx)(A,{words:t})})})}));D.displayName="TrainerPage"},1118:function(e,t,n){n.d(t,{$:function(){return d}});var r={};n.r(r),n.d(r,{Button:function(){return s},Button__big:function(){return i},Button__medium:function(){return o}});var s="Zcv0nPBe",i="tRD9g3We",o="XA0XHP5S",a=n(6540),c=n(4848);const d=(0,a.memo)((e=>{let{className:t,children:n,variant:i="medium",...o}=e;return(0,c.jsx)("button",{...o,className:`${s} ${r[`Button__${i}`]} ${t}`,children:n})}));d.displayName="Button"}}]);