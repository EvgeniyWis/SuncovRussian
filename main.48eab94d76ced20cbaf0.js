/*! For license information please see main.48eab94d76ced20cbaf0.js.LICENSE.txt */
!function(){"use strict";var e,t,n={10:function(e,t,n){n.d(t,{P:function(){return r},h:function(){return a}});const i=n(265).a.injectEndpoints({endpoints:e=>({getAllTheories:e.mutation({query:()=>({url:"/v6/listFiles",method:"POST",body:{}})}),getTheory:e.query({query:e=>({url:`/v6/pollUpload/${e}`}),keepUnusedDataFor:120})})}),{useGetAllTheoriesMutation:r,useGetTheoryQuery:a}=i},7:function(e,t,n){n.d(t,{e:function(){return i}});const i=(0,n(540).createContext)({selectedSection:"",setSelectedSection:()=>{}})},337:function(e,t,n){n.d(t,{U:function(){return i}});const i=(0,n(540).createContext)({totalTime:0,setTotalTime:()=>{},isIncorrect:!1,setIsIncorrect:()=>{},isErrorWork:!1,setIsErrorWork:()=>{}})},800:function(e,t,n){n.d(t,{n:function(){return r}});var i=n(120);const[r,a]=(0,i.y1)((e=>e.Trainer?e.Trainer.words:[]),!0)},491:function(e,t,n){n.d(t,{MR:function(){return s},a3:function(){return a}});const i=(0,n(120).pR)({name:"TrainerPageSlice",initialState:{words:[]},reducers:{setWords:(e,t)=>{let{payload:n}=t;e.words=n},changeWordProbability:(e,t)=>{let{payload:n}=t;e.words=e.words.filter((e=>(e.id===n.id&&(e.probability=n.probability),e)))},changeWordUncorrectTimes:(e,t)=>{let{payload:n}=t;e.words=e.words.filter((e=>(e.id===n.id&&(e.uncorrectTimes=n.uncorrectTimes),e)))},changeWordConsecutivelyTimes:(e,t)=>{let{payload:n}=t;e.words=e.words.filter((e=>(e.id===n.id&&(e.consecutivelyTimes=n.consecutivelyTimes),e)))},changeWordInProgressStatus:(e,t)=>{let{payload:n}=t;e.words=e.words.filter((e=>(e.id===n.id&&(e.inProgress=n.inProgress),e)))}}}),{actions:r,reducer:a,useActions:s}=i},364:function(e,t,n){n.d(t,{F:function(){return i},Q:function(){return r}});const i=["Сочинительный","Подчинительный"],r=[{word:"И",unionType:"Сочинительный",id:0,trainerType:"виды союзов"},{word:"ДА",unionType:"Сочинительный",id:1,trainerType:"виды союзов"},{word:"НИ…НИ",unionType:"Сочинительный",id:2,trainerType:"виды союзов"},{word:"ТОЖЕ",unionType:"Сочинительный",id:3,trainerType:"виды союзов"},{word:"ТАКЖЕ",unionType:"Сочинительный",id:4,trainerType:"виды союзов"},{word:"А",unionType:"Сочинительный",id:5,trainerType:"виды союзов"},{word:"НО",unionType:"Сочинительный",id:6,trainerType:"виды союзов"},{word:"ЗАТО",unionType:"Сочинительный",id:7,trainerType:"виды союзов"},{word:"ОДНАКО",unionType:"Сочинительный",id:8,trainerType:"виды союзов"},{word:"ИЛИ",unionType:"Сочинительный",id:9,trainerType:"виды союзов"},{word:"ЛИБО",unionType:"Сочинительный",id:10,trainerType:"виды союзов"},{word:"ТО…ТО",unionType:"Сочинительный",id:11,trainerType:"виды союзов"},{word:"НЕ ТО…НЕ ТО",unionType:"Сочинительный",id:12,trainerType:"виды союзов"},{word:"КАК",unionType:"Подчинительный",id:13,trainerType:"виды союзов"},{word:"ЧТОБЫ",unionType:"Подчинительный",id:14,trainerType:"виды союзов"},{word:"БУДТО",unionType:"Подчинительный",id:15,trainerType:"виды союзов"},{word:"КОГДА",unionType:"Подчинительный",id:16,trainerType:"виды союзов"},{word:"КАК ТОЛЬКО",unionType:"Подчинительный",id:17,trainerType:"виды союзов"},{word:"МЕЖДУ ТЕМ",unionType:"Подчинительный",id:18,trainerType:"виды союзов"},{word:"ЛИШЬ",unionType:"Подчинительный",id:19,trainerType:"виды союзов"},{word:"ЕДВА",unionType:"Подчинительный",id:20,trainerType:"виды союзов"},{word:"ПОКА",unionType:"Подчинительный",id:21,trainerType:"виды союзов"},{word:"ИБО",unionType:"Подчинительный",id:22,trainerType:"виды союзов"},{word:"ПОТОМУ",unionType:"Подчинительный",id:23,trainerType:"виды союзов"},{word:"ТАК КАК",unionType:"Подчинительный",id:24,trainerType:"виды союзов"},{word:"ЧТОБЫ",unionType:"Подчинительный",id:25,trainerType:"виды союзов"},{word:"ЕСЛИ",unionType:"Подчинительный",id:26,trainerType:"виды союзов"},{word:"ХОТЯ",unionType:"Подчинительный",id:27,trainerType:"виды союзов"},{word:"ПУСТЬ",unionType:"Подчинительный",id:28,trainerType:"виды союзов"},{word:"НЕСМОТРЯ НА ТО ЧТО",unionType:"Подчинительный",id:29,trainerType:"виды союзов"},{word:"БУДТО",unionType:"Подчинительный",id:30,trainerType:"виды союзов"},{word:"СЛОВНО",unionType:"Подчинительный",id:31,trainerType:"виды союзов"},{word:"КОТОРЫЙ",unionType:"Подчинительный",id:32,trainerType:"виды союзов"},{word:"ЛИ",unionType:"Подчинительный",id:33,trainerType:"виды союзов"},{word:"КАКОЙ",unionType:"Подчинительный",id:34,trainerType:"виды союзов"},{word:"ЧЕЙ",unionType:"Подчинительный",id:35,trainerType:"виды союзов"},{word:"ГДЕ",unionType:"Подчинительный",id:36,trainerType:"виды союзов"},{word:"КУДА",unionType:"Подчинительный",id:37,trainerType:"виды союзов"},{word:"ОТКУДА",unionType:"Подчинительный",id:38,trainerType:"виды союзов"},{word:"ПОЧЕМУ",unionType:"Подчинительный",id:39,trainerType:"виды союзов"},{word:"ЗАЧЕМ",unionType:"Подчинительный",id:40,trainerType:"виды союзов"},{word:"КТО",unionType:"Подчинительный",id:41,trainerType:"виды союзов"},{word:"НАСКОЛЬКО",unionType:"Подчинительный",id:42,trainerType:"виды союзов"},{word:"КАКОВ",unionType:"Подчинительный",id:43,trainerType:"виды союзов"}]},265:function(e,t,n){n.d(t,{a:function(){return ye}});var i=n(644),r=n(307),a=n(932);var s=e=>Array.isArray(e)?e:[e];Symbol(),Object.getPrototypeOf({});var o="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function l(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:i}=t;let r,a=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const i=e.get(n);void 0===i?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=i}else{let e=t.p;null===e&&(t.p=e=new Map);const i=e.get(n);void 0===i?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=i}}const l=t;let c;if(1===t.s)c=t.v;else if(c=e.apply(null,arguments),a++,i){const e=r?.deref?.()??r;null!=e&&i(e,c)&&(c=e,0!==a&&a--),r="object"==typeof c&&null!==c||"function"==typeof c?new o(c):c}return l.s=1,l.v=c,c}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function c(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,i=(...e)=>{let t,i=0,r=0,a={},o=e.pop();"object"==typeof o&&(a=o,o=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(o,`createSelector expects an output function after the inputs, but received: [${typeof o}]`);const c={...n,...a},{memoize:u,memoizeOptions:d=[],argsMemoize:h=l,argsMemoizeOptions:p=[],devModeChecks:f={}}=c,g=s(d),m=s(p),v=function(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}(e),y=u((function(){return i++,o.apply(null,arguments)}),...g),b=h((function(){r++;const e=function(e,t){const n=[],{length:i}=e;for(let r=0;r<i;r++)n.push(e[r].apply(null,t));return n}(v,arguments);return t=y.apply(null,e),t}),...m);return Object.assign(b,{resultFunc:o,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>r,resetDependencyRecomputations:()=>{r=0},lastResult:()=>t,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:u,argsMemoize:h})};return Object.assign(i,{withTypes:()=>i}),i}var u=c(l),d=Object.assign(((e,t=u)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map((t=>e[t])),((...e)=>e.reduce(((e,t,i)=>(e[n[i]]=t,e)),{})))}),{withTypes:()=>d}),h=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(h||{}),p=i.Qd;function f(e,t){if(e===t||!(p(e)&&p(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),i=Object.keys(e);let r=n.length===i.length;const a=Array.isArray(t)?[]:{};for(const i of n)a[i]=f(e[i],t[i]),r&&(r=e[i]===a[i]);return r?e:a}function g(e){let t=0;for(const n in e)t++;return t}var m=e=>[].concat(...e);function v(e){return null!=e}var y=(...e)=>fetch(...e),b=e=>e.status>=200&&e.status<=299,w=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function A(e){if(!(0,i.Qd)(e))return e;const t={...e};for(const[e,n]of Object.entries(t))void 0===n&&delete t[e];return t}var S=class{constructor(e,t=void 0){this.value=e,this.meta=t}},x=(0,r.VP)("__rtkq/focused"),T=(0,r.VP)("__rtkq/unfocused"),_=(0,r.VP)("__rtkq/online"),E=(0,r.VP)("__rtkq/offline");function k(e){return"query"===e.type}function C(e,t,n,i,r,a){return"function"==typeof e?e(t,n,i,r).filter(v).map(M).map(a):Array.isArray(e)?e.map(M).map(a):[]}function M(e){return"string"==typeof e?{type:e}:e}var P=Symbol("forceQueryFn"),R=e=>"function"==typeof e[P];function L(e){return e}function I(e,t,n,i){return C(n[e.meta.arg.endpointName][t],(0,r.sf)(e)?e.payload:void 0,(0,r.WA)(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,i)}function D(e,t,n){const i=e[t];i&&n(i)}function N(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function F(e,t,n){const i=e[N(t)];i&&n(i)}var O={};function z({reducerPath:e,queryThunk:t,mutationThunk:n,serializeQueryArgs:s,context:{endpointDefinitions:o,apiUid:l,extractRehydrationInfo:c,hasRehydrationInfo:u},assertTagType:d,config:h}){const p=(0,r.VP)(`${e}/resetApiState`);function g(e,t,n,i){e[t.queryCacheKey]??={status:"uninitialized",endpointName:t.endpointName},D(e,t.queryCacheKey,(e=>{e.status="pending",e.requestId=n&&e.requestId?e.requestId:i.requestId,void 0!==t.originalArgs&&(e.originalArgs=t.originalArgs),e.startedTimeStamp=i.startedTimeStamp}))}function m(e,t,n){D(e,t.arg.queryCacheKey,(e=>{if(e.requestId!==t.requestId&&!R(t.arg))return;const{merge:i}=o[t.arg.endpointName];if(e.status="fulfilled",i)if(void 0!==e.data){const{fulfilledTimeStamp:r,arg:s,baseQueryMeta:o,requestId:l}=t;let c=(0,a.jM)(e.data,(e=>i(e,n,{arg:s.originalArgs,baseQueryMeta:o,fulfilledTimeStamp:r,requestId:l})));e.data=c}else e.data=n;else e.data=o[t.arg.endpointName].structuralSharing??1?f((0,a.Qx)(e.data)?(0,a.c2)(e.data):e.data,n):n;delete e.error,e.fulfilledTimeStamp=t.fulfilledTimeStamp}))}const v=(0,r.Z0)({name:`${e}/queries`,initialState:O,reducers:{removeQueryResult:{reducer(e,{payload:{queryCacheKey:t}}){delete e[t]},prepare:(0,r.aA)()},cacheEntriesUpserted:{reducer(e,t){for(const n of t.payload){const{queryDescription:i,value:r}=n;g(e,i,!0,{arg:i,requestId:t.meta.requestId,startedTimeStamp:t.meta.timestamp}),m(e,{arg:i,requestId:t.meta.requestId,fulfilledTimeStamp:t.meta.timestamp,baseQueryMeta:{}},r)}},prepare:e=>({payload:e.map((e=>{const{endpointName:t,arg:n,value:i}=e,r=o[t];return{queryDescription:{type:"query",endpointName:t,originalArgs:e.arg,queryCacheKey:s({queryArgs:n,endpointDefinition:r,endpointName:t})},value:i}})),meta:{[r.cN]:!0,requestId:(0,r.Ak)(),timestamp:Date.now()}})},queryResultPatched:{reducer(e,{payload:{queryCacheKey:t,patches:n}}){D(e,t,(e=>{e.data=(0,a.$i)(e.data,n.concat())}))},prepare:(0,r.aA)()}},extraReducers(e){e.addCase(t.pending,((e,{meta:t,meta:{arg:n}})=>{g(e,n,R(n),t)})).addCase(t.fulfilled,((e,{meta:t,payload:n})=>{m(e,t,n)})).addCase(t.rejected,((e,{meta:{condition:t,arg:n,requestId:i},error:r,payload:a})=>{D(e,n.queryCacheKey,(e=>{if(t);else{if(e.requestId!==i)return;e.status="rejected",e.error=a??r}}))})).addMatcher(u,((e,t)=>{const{queries:n}=c(t);for(const[t,i]of Object.entries(n))"fulfilled"!==i?.status&&"rejected"!==i?.status||(e[t]=i)}))}}),y=(0,r.Z0)({name:`${e}/mutations`,initialState:O,reducers:{removeMutationResult:{reducer(e,{payload:t}){const n=N(t);n in e&&delete e[n]},prepare:(0,r.aA)()}},extraReducers(e){e.addCase(n.pending,((e,{meta:t,meta:{requestId:n,arg:i,startedTimeStamp:r}})=>{i.track&&(e[N(t)]={requestId:n,status:"pending",endpointName:i.endpointName,startedTimeStamp:r})})).addCase(n.fulfilled,((e,{payload:t,meta:n})=>{n.arg.track&&F(e,n,(e=>{e.requestId===n.requestId&&(e.status="fulfilled",e.data=t,e.fulfilledTimeStamp=n.fulfilledTimeStamp)}))})).addCase(n.rejected,((e,{payload:t,error:n,meta:i})=>{i.arg.track&&F(e,i,(e=>{e.requestId===i.requestId&&(e.status="rejected",e.error=t??n)}))})).addMatcher(u,((e,t)=>{const{mutations:n}=c(t);for(const[t,i]of Object.entries(n))"fulfilled"!==i?.status&&"rejected"!==i?.status||t===i?.requestId||(e[t]=i)}))}}),b=(0,r.Z0)({name:`${e}/invalidation`,initialState:O,reducers:{updateProvidedBy:{reducer(e,t){const{queryCacheKey:n,providedTags:i}=t.payload;for(const t of Object.values(e))for(const e of Object.values(t)){const t=e.indexOf(n);-1!==t&&e.splice(t,1)}for(const{type:t,id:r}of i){const i=(e[t]??={})[r||"__internal_without_id"]??=[];i.includes(n)||i.push(n)}},prepare:(0,r.aA)()}},extraReducers(e){e.addCase(v.actions.removeQueryResult,((e,{payload:{queryCacheKey:t}})=>{for(const n of Object.values(e))for(const e of Object.values(n)){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}})).addMatcher(u,((e,t)=>{const{provided:n}=c(t);for(const[t,i]of Object.entries(n))for(const[n,r]of Object.entries(i)){const i=(e[t]??={})[n||"__internal_without_id"]??=[];for(const e of r)i.includes(e)||i.push(e)}})).addMatcher((0,r.i0)((0,r.sf)(t),(0,r.WA)(t)),((e,t)=>{const n=I(t,"providesTags",o,d),{queryCacheKey:i}=t.meta.arg;b.caseReducers.updateProvidedBy(e,b.actions.updateProvidedBy({queryCacheKey:i,providedTags:n}))}))}}),w=(0,r.Z0)({name:`${e}/subscriptions`,initialState:O,reducers:{updateSubscriptionOptions(e,t){},unsubscribeQueryResult(e,t){},internal_getRTKQSubscriptions(){}}}),A=(0,r.Z0)({name:`${e}/internalSubscriptions`,initialState:O,reducers:{subscriptionsUpdated:{reducer(e,t){return(0,a.$i)(e,t.payload)},prepare:(0,r.aA)()}}}),S=(0,r.Z0)({name:`${e}/config`,initialState:{online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"==typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1,...h},reducers:{middlewareRegistered(e,{payload:t}){e.middlewareRegistered="conflict"!==e.middlewareRegistered&&l===t||"conflict"}},extraReducers:e=>{e.addCase(_,(e=>{e.online=!0})).addCase(E,(e=>{e.online=!1})).addCase(x,(e=>{e.focused=!0})).addCase(T,(e=>{e.focused=!1})).addMatcher(u,(e=>({...e})))}}),k=(0,i.HY)({queries:v.reducer,mutations:y.reducer,provided:b.reducer,subscriptions:A.reducer,config:S.reducer});return{reducer:(e,t)=>k(p.match(t)?void 0:e,t),actions:{...S.actions,...v.actions,...w.actions,...A.actions,...y.actions,...b.actions,resetApiState:p}}}var j=Symbol.for("RTKQ/skipToken"),B={status:"uninitialized"},H=(0,a.jM)(B,(()=>{})),U=(0,a.jM)(B,(()=>{})),$=WeakMap?new WeakMap:void 0,q=({endpointName:e,queryArgs:t})=>{let n="";const r=$?.get(t);if("string"==typeof r)n=r;else{const e=JSON.stringify(t,((e,t)=>(t="bigint"==typeof t?{$bigint:t.toString()}:t,t=(0,i.Qd)(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t)));(0,i.Qd)(t)&&$?.set(t,e),n=e}return`${e}(${n})`};function W(...e){return function(t){const n=l((e=>t.extractRehydrationInfo?.(e,{reducerPath:t.reducerPath??"api"}))),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...t,extractRehydrationInfo:n,serializeQueryArgs(e){let n=q;if("serializeQueryArgs"in e.endpointDefinition){const t=e.endpointDefinition.serializeQueryArgs;n=e=>{const n=t(e);return"string"==typeof n?n:q({...e,queryArgs:n})}}else t.serializeQueryArgs&&(n=t.serializeQueryArgs);return n(e)},tagTypes:[...t.tagTypes||[]]},a={endpointDefinitions:{},batch(e){e()},apiUid:(0,r.Ak)(),extractRehydrationInfo:n,hasRehydrationInfo:l((e=>null!=n(e)))},s={injectEndpoints:function(e){const t=e.endpoints({query:e=>({...e,type:"query"}),mutation:e=>({...e,type:"mutation"})});for(const[n,i]of Object.entries(t))if(!0!==e.overrideExisting&&n in a.endpointDefinitions){if("throw"===e.overrideExisting)throw new Error((0,r.gk)(39))}else{a.endpointDefinitions[n]=i;for(const e of o)e.injectEndpoint(n,i)}return s},enhanceEndpoints({addTagTypes:e,endpoints:t}){if(e)for(const t of e)i.tagTypes.includes(t)||i.tagTypes.push(t);if(t)for(const[e,n]of Object.entries(t))"function"==typeof n?n(a.endpointDefinitions[e]):Object.assign(a.endpointDefinitions[e]||{},n);return s}},o=e.map((e=>e.init(s,i,a)));return s.injectEndpoints({endpoints:t.endpoints})}}function V(e,...t){return Object.assign(e,...t)}var G=({reducerPath:e,api:t,queryThunk:n,context:i,internalState:a})=>{const{removeQueryResult:s,unsubscribeQueryResult:o,cacheEntriesUpserted:l}=t.internalActions,c=(0,r.i0)(o.match,n.fulfilled,n.rejected,l.match);function u(e){const t=a.currentSubscriptions[e];return!!t&&!function(e){for(const t in e)return!1;return!0}(t)}const d={};function h(e,t,n,r){const a=i.endpointDefinitions[t],o=a?.keepUnusedDataFor??r.keepUnusedDataFor;if(o===1/0)return;const l=Math.max(0,Math.min(o,2147482.647));if(!u(e)){const t=d[e];t&&clearTimeout(t),d[e]=setTimeout((()=>{u(e)||n.dispatch(s({queryCacheKey:e})),delete d[e]}),1e3*l)}}return(n,r,a)=>{if(c(n)){const t=r.getState()[e];let i;if(l.match(n))i=n.payload.map((e=>e.queryDescription.queryCacheKey));else{const{queryCacheKey:e}=o.match(n)?n.payload:n.meta.arg;i=[e]}for(const e of i)h(e,t.queries[e]?.endpointName,r,t.config)}if(t.util.resetApiState.match(n))for(const[e,t]of Object.entries(d))t&&clearTimeout(t),delete d[e];if(i.hasRehydrationInfo(n)){const t=r.getState()[e],{queries:a}=i.extractRehydrationInfo(n);for(const[e,n]of Object.entries(a))h(e,n?.endpointName,r,t.config)}}},K=new Error("Promise never resolved before cacheEntryRemoved."),Q=({api:e,reducerPath:t,context:n,queryThunk:i,mutationThunk:a,internalState:s})=>{const o=(0,r.$S)(i),l=(0,r.$S)(a),c=(0,r.sf)(i,a),u={};function d(e,t,n){const i=u[e];i?.valueResolved&&(i.valueResolved({data:t,meta:n}),delete i.valueResolved)}function h(e){const t=u[e];t&&(delete u[e],t.cacheEntryRemoved())}function p(t,i,r,a,s){const o=n.endpointDefinitions[t],l=o?.onCacheEntryAdded;if(!l)return;const c={},d=new Promise((e=>{c.cacheEntryRemoved=e})),h=Promise.race([new Promise((e=>{c.valueResolved=e})),d.then((()=>{throw K}))]);h.catch((()=>{})),u[r]=c;const p=e.endpoints[t].select("query"===o.type?i:r),f=a.dispatch(((e,t,n)=>n)),g={...a,getCacheEntry:()=>p(a.getState()),requestId:s,extra:f,updateCachedData:"query"===o.type?n=>a.dispatch(e.util.updateQueryData(t,i,n)):void 0,cacheDataLoaded:h,cacheEntryRemoved:d},m=l(i,g);Promise.resolve(m).catch((e=>{if(e!==K)throw e}))}return(n,r,s)=>{const f=function(t){return o(t)?t.meta.arg.queryCacheKey:l(t)?t.meta.arg.fixedCacheKey??t.meta.requestId:e.internalActions.removeQueryResult.match(t)?t.payload.queryCacheKey:e.internalActions.removeMutationResult.match(t)?N(t.payload):""}(n);function g(e,n,i,a){const o=s[t].queries[n],l=r.getState()[t].queries[n];!o&&l&&p(e,a,n,r,i)}if(i.pending.match(n))g(n.meta.arg.endpointName,f,n.meta.requestId,n.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(n))for(const{queryDescription:e,value:t}of n.payload){const{endpointName:i,originalArgs:r,queryCacheKey:a}=e;g(i,a,n.meta.requestId,r),d(a,t,{})}else if(a.pending.match(n))r.getState()[t].mutations[f]&&p(n.meta.arg.endpointName,n.meta.arg.originalArgs,f,r,n.meta.requestId);else if(c(n))d(f,n.payload,n.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(n)||e.internalActions.removeMutationResult.match(n))h(f);else if(e.util.resetApiState.match(n))for(const e of Object.keys(u))h(e)}},X=({api:e,context:{apiUid:t},reducerPath:n})=>(n,i)=>{e.util.resetApiState.match(n)&&i.dispatch(e.internalActions.middlewareRegistered(t))},Y=({reducerPath:e,context:t,context:{endpointDefinitions:n},mutationThunk:i,queryThunk:a,api:s,assertTagType:o,refetchQuery:l,internalState:c})=>{const{removeQueryResult:u}=s.internalActions,d=(0,r.i0)((0,r.sf)(i),(0,r.WA)(i)),h=(0,r.i0)((0,r.sf)(i,a),(0,r.TK)(i,a));let p=[];function f(n,i){const r=i.getState(),a=r[e];if(p.push(...n),"delayed"===a.config.invalidationBehavior&&function(e){for(const t in e.queries)if("pending"===e.queries[t]?.status)return!0;for(const t in e.mutations)if("pending"===e.mutations[t]?.status)return!0;return!1}(a))return;const o=p;if(p=[],0===o.length)return;const d=s.util.selectInvalidatedBy(r,o);t.batch((()=>{const e=Array.from(d.values());for(const{queryCacheKey:t}of e){const e=a.queries[t],n=c.currentSubscriptions[t]??{};e&&(0===g(n)?i.dispatch(u({queryCacheKey:t})):"uninitialized"!==e.status&&i.dispatch(l(e)))}}))}return(e,t)=>{d(e)?f(I(e,"invalidatesTags",n,o),t):h(e)?f([],t):s.util.invalidateTags.match(e)&&f(C(e.payload,void 0,void 0,void 0,void 0,o),t)}},J=({reducerPath:e,queryThunk:t,api:n,refetchQuery:i,internalState:r})=>{const a={};function s({queryCacheKey:t},n){const o=n.getState()[e],l=o.queries[t],u=r.currentSubscriptions[t];if(!l||"uninitialized"===l.status)return;const{lowestPollingInterval:d,skipPollingIfUnfocused:h}=c(u);if(!Number.isFinite(d))return;const p=a[t];p?.timeout&&(clearTimeout(p.timeout),p.timeout=void 0);const f=Date.now()+d;a[t]={nextPollTimestamp:f,pollingInterval:d,timeout:setTimeout((()=>{!o.config.focused&&h||n.dispatch(i(l)),s({queryCacheKey:t},n)}),d)}}function o({queryCacheKey:t},n){const i=n.getState()[e].queries[t],o=r.currentSubscriptions[t];if(!i||"uninitialized"===i.status)return;const{lowestPollingInterval:u}=c(o);if(!Number.isFinite(u))return void l(t);const d=a[t],h=Date.now()+u;(!d||h<d.nextPollTimestamp)&&s({queryCacheKey:t},n)}function l(e){const t=a[e];t?.timeout&&clearTimeout(t.timeout),delete a[e]}function c(e={}){let t=!1,n=Number.POSITIVE_INFINITY;for(let i in e)e[i].pollingInterval&&(n=Math.min(e[i].pollingInterval,n),t=e[i].skipPollingIfUnfocused||t);return{lowestPollingInterval:n,skipPollingIfUnfocused:t}}return(e,i)=>{(n.internalActions.updateSubscriptionOptions.match(e)||n.internalActions.unsubscribeQueryResult.match(e))&&o(e.payload,i),(t.pending.match(e)||t.rejected.match(e)&&e.meta.condition)&&o(e.meta.arg,i),(t.fulfilled.match(e)||t.rejected.match(e)&&!e.meta.condition)&&s(e.meta.arg,i),n.util.resetApiState.match(e)&&function(){for(const e of Object.keys(a))l(e)}()}},Z=({api:e,context:t,queryThunk:n,mutationThunk:i})=>{const a=(0,r.mm)(n,i),s=(0,r.TK)(n,i),o=(0,r.sf)(n,i),l={};return(n,i)=>{if(a(n)){const{requestId:r,arg:{endpointName:a,originalArgs:s}}=n.meta,o=t.endpointDefinitions[a],c=o?.onQueryStarted;if(c){const t={},n=new Promise(((e,n)=>{t.resolve=e,t.reject=n}));n.catch((()=>{})),l[r]=t;const u=e.endpoints[a].select("query"===o.type?s:r),d=i.dispatch(((e,t,n)=>n)),h={...i,getCacheEntry:()=>u(i.getState()),requestId:r,extra:d,updateCachedData:"query"===o.type?t=>i.dispatch(e.util.updateQueryData(a,s,t)):void 0,queryFulfilled:n};c(s,h)}}else if(o(n)){const{requestId:e,baseQueryMeta:t}=n.meta;l[e]?.resolve({data:n.payload,meta:t}),delete l[e]}else if(s(n)){const{requestId:e,rejectedWithValue:t,baseQueryMeta:i}=n.meta;l[e]?.reject({error:n.payload??n.error,isUnhandledError:!t,meta:i}),delete l[e]}}};function ee(e){const{reducerPath:t,queryThunk:n,api:s,context:o}=e,{apiUid:l}=o,c={invalidateTags:(0,r.VP)(`${t}/invalidateTags`)},u=e=>e.type.startsWith(`${t}/`),d=[X,G,Y,J,Q,Z];return{middleware:n=>{let r=!1;const c={...e,internalState:{currentSubscriptions:{}},refetchQuery:h,isThisApiSliceAction:u},p=d.map((e=>e(c))),f=(({api:e,queryThunk:t,internalState:n})=>{const i=`${e.reducerPath}/subscriptions`;let r=null,s=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:l}=e.internalActions,c=()=>n.currentSubscriptions,u={getSubscriptions:c,getSubscriptionCount:e=>g(c()[e]??{}),isRequestSubscribed:(e,t)=>{const n=c();return!!n?.[e]?.[t]}};return(c,d)=>{if(r||(r=JSON.parse(JSON.stringify(n.currentSubscriptions))),e.util.resetApiState.match(c))return r=n.currentSubscriptions={},s=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(c))return[!1,u];const h=((n,i)=>{if(o.match(i)){const{queryCacheKey:e,requestId:t,options:r}=i.payload;return n?.[e]?.[t]&&(n[e][t]=r),!0}if(l.match(i)){const{queryCacheKey:e,requestId:t}=i.payload;return n[e]&&delete n[e][t],!0}if(e.internalActions.removeQueryResult.match(i))return delete n[i.payload.queryCacheKey],!0;if(t.pending.match(i)){const{meta:{arg:e,requestId:t}}=i,r=n[e.queryCacheKey]??={};return r[`${t}_running`]={},e.subscribe&&(r[t]=e.subscriptionOptions??r[t]??{}),!0}let r=!1;if(t.fulfilled.match(i)||t.rejected.match(i)){const e=n[i.meta.arg.queryCacheKey]||{},t=`${i.meta.requestId}_running`;r||=!!e[t],delete e[t]}if(t.rejected.match(i)){const{meta:{condition:e,arg:t,requestId:a}}=i;if(e&&t.subscribe){const e=n[t.queryCacheKey]??={};e[a]=t.subscriptionOptions??e[a]??{},r=!0}}return r})(n.currentSubscriptions,c);let p=!0;if(h){s||(s=setTimeout((()=>{const t=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,i]=(0,a.vI)(r,(()=>t));d.next(e.internalActions.subscriptionsUpdated(i)),r=t,s=null}),500));const o="string"==typeof c.type&&!!c.type.startsWith(i),l=t.rejected.match(c)&&c.meta.condition&&!!c.meta.arg.subscribe;p=!o&&!l}return[p,!1]}})(c),m=(({reducerPath:e,context:t,api:n,refetchQuery:i,internalState:r})=>{const{removeQueryResult:a}=n.internalActions;function s(n,s){const o=n.getState()[e],l=o.queries,c=r.currentSubscriptions;t.batch((()=>{for(const e of Object.keys(c)){const t=l[e],r=c[e];r&&t&&(Object.values(r).some((e=>!0===e[s]))||Object.values(r).every((e=>void 0===e[s]))&&o.config[s])&&(0===g(r)?n.dispatch(a({queryCacheKey:e})):"uninitialized"!==t.status&&n.dispatch(i(t)))}}))}return(e,t)=>{x.match(e)&&s(t,"refetchOnFocus"),_.match(e)&&s(t,"refetchOnReconnect")}})(c);return e=>a=>{if(!(0,i.ve)(a))return e(a);r||(r=!0,n.dispatch(s.internalActions.middlewareRegistered(l)));const c={...n,next:e},d=n.getState(),[h,g]=f(a,c,d);let v;if(v=h?e(a):g,n.getState()[t]&&(m(a,c,d),u(a)||o.hasRehydrationInfo(a)))for(const e of p)e(a,c,d);return v}},actions:c};function h(t){return e.api.endpoints[t.endpointName].initiate(t.originalArgs,{subscribe:!1,forceRefetch:!0})}}var te=Symbol(),ne=({createSelector:e=u}={})=>({name:te,init(t,{baseQuery:n,tagTypes:i,reducerPath:s,serializeQueryArgs:o,keepUnusedDataFor:l,refetchOnMountOrArgChange:c,refetchOnFocus:u,refetchOnReconnect:d,invalidationBehavior:h},p){(0,a.YT)();const f=e=>e;Object.assign(t,{reducerPath:s,endpoints:{},internalActions:{onOnline:_,onOffline:E,onFocus:x,onFocusLost:T},util:{}});const{queryThunk:y,mutationThunk:b,patchQueryData:w,updateQueryData:A,upsertQueryData:I,prefetch:D,buildMatchThunkActions:F}=function({reducerPath:e,baseQuery:t,context:{endpointDefinitions:n},serializeQueryArgs:i,api:s,assertTagType:o}){const l=async(e,{signal:i,abort:a,rejectWithValue:s,fulfillWithValue:o,dispatch:l,getState:u,extra:d})=>{const h=n[e.endpointName];try{let n,s=L;const p={signal:i,abort:a,dispatch:l,getState:u,extra:d,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?c(e,u()):void 0,queryCacheKey:"query"===e.type?e.queryCacheKey:void 0},f="query"===e.type?e[P]:void 0;if(f?n=f():h.query?(n=await t(h.query(e.originalArgs),p,h.extraOptions),h.transformResponse&&(s=h.transformResponse)):n=await h.queryFn(e.originalArgs,p,h.extraOptions,(e=>t(e,p,h.extraOptions))),n.error)throw new S(n.error,n.meta);return o(await s(n.data,n.meta,e.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:n.meta,[r.cN]:!0})}catch(t){let n=t;if(n instanceof S){let t=L;h.query&&h.transformErrorResponse&&(t=h.transformErrorResponse);try{return s(await t(n.value,n.meta,e.originalArgs),{baseQueryMeta:n.meta,[r.cN]:!0})}catch(e){n=e}}throw console.error(n),n}};function c(t,n){const i=n[e]?.queries?.[t.queryCacheKey],r=n[e]?.config.refetchOnMountOrArgChange,a=i?.fulfilledTimeStamp,s=t.forceRefetch??(t.subscribe&&r);return!!s&&(!0===s||(Number(new Date)-Number(a))/1e3>=s)}function u(e){return t=>t?.meta?.arg?.endpointName===e}return{queryThunk:(0,r.zD)(`${e}/executeQuery`,l,{getPendingMeta(){return{startedTimeStamp:Date.now(),[r.cN]:!0}},condition(t,{getState:i}){const r=i(),a=r[e]?.queries?.[t.queryCacheKey],s=a?.fulfilledTimeStamp,o=t.originalArgs,l=a?.originalArgs,u=n[t.endpointName];return!(!R(t)&&("pending"===a?.status||!c(t,r)&&(!k(u)||!u?.forceRefetch?.({currentArg:o,previousArg:l,endpointState:a,state:r}))&&s))},dispatchConditionRejection:!0}),mutationThunk:(0,r.zD)(`${e}/executeMutation`,l,{getPendingMeta(){return{startedTimeStamp:Date.now(),[r.cN]:!0}}}),prefetch:(e,t,n)=>(i,r)=>{const a=(e=>"force"in e)(n)&&n.force,o=(e=>"ifOlderThan"in e)(n)&&n.ifOlderThan,l=(n=!0)=>{const i={forceRefetch:n,isPrefetch:!0};return s.endpoints[e].initiate(t,i)},c=s.endpoints[e].select(t)(r());if(a)i(l());else if(o){const e=c?.fulfilledTimeStamp;if(!e)return void i(l());(Number(new Date)-Number(new Date(e)))/1e3>=o&&i(l())}else i(l(!1))},updateQueryData:(e,t,n,i=!0)=>(r,o)=>{const l=s.endpoints[e].select(t)(o()),c={patches:[],inversePatches:[],undo:()=>r(s.util.patchQueryData(e,t,c.inversePatches,i))};if("uninitialized"===l.status)return c;let u;if("data"in l)if((0,a.a6)(l.data)){const[e,t,i]=(0,a.vI)(l.data,n);c.patches.push(...t),c.inversePatches.push(...i),u=e}else u=n(l.data),c.patches.push({op:"replace",path:[],value:u}),c.inversePatches.push({op:"replace",path:[],value:l.data});return 0===c.patches.length||r(s.util.patchQueryData(e,t,c.patches,i)),c},upsertQueryData:(e,t,n)=>i=>i(s.endpoints[e].initiate(t,{subscribe:!1,forceRefetch:!0,[P]:()=>({data:n})})),patchQueryData:(e,t,r,a)=>(l,c)=>{const u=n[e],d=i({queryArgs:t,endpointDefinition:u,endpointName:e});if(l(s.internalActions.queryResultPatched({queryCacheKey:d,patches:r})),!a)return;const h=s.endpoints[e].select(t)(c()),p=C(u.providesTags,h.data,void 0,t,{},o);l(s.internalActions.updateProvidedBy({queryCacheKey:d,providedTags:p}))},buildMatchThunkActions:function(e,t){return{matchPending:(0,r.f$)((0,r.mm)(e),u(t)),matchFulfilled:(0,r.f$)((0,r.sf)(e),u(t)),matchRejected:(0,r.f$)((0,r.TK)(e),u(t))}}}}({baseQuery:n,reducerPath:s,context:p,api:t,serializeQueryArgs:o,assertTagType:f}),{reducer:O,actions:B}=z({context:p,queryThunk:y,mutationThunk:b,serializeQueryArgs:o,reducerPath:s,assertTagType:f,config:{refetchOnFocus:u,refetchOnReconnect:d,refetchOnMountOrArgChange:c,keepUnusedDataFor:l,reducerPath:s,invalidationBehavior:h}});V(t.util,{patchQueryData:w,updateQueryData:A,upsertQueryData:I,prefetch:D,resetApiState:B.resetApiState,upsertQueryEntries:B.cacheEntriesUpserted}),V(t.internalActions,B);const{middleware:$,actions:q}=ee({reducerPath:s,context:p,queryThunk:y,mutationThunk:b,api:t,assertTagType:f});V(t.util,q),V(t,{reducer:O,middleware:$});const{buildQuerySelector:W,buildMutationSelector:G,selectInvalidatedBy:K,selectCachedArgsForQuery:Q}=function({serializeQueryArgs:e,reducerPath:t,createSelector:n}){const i=e=>H,r=e=>U;return{buildQuerySelector:function(t,r){return o=>{if(o===j)return n(i,a);const l=e({queryArgs:o,endpointDefinition:r,endpointName:t});return n((e=>s(e)?.queries?.[l]??H),a)}},buildMutationSelector:function(){return e=>{let t;return t="object"==typeof e?N(e)??j:e,n(t===j?r:e=>s(e)?.mutations?.[t]??U,a)}},selectInvalidatedBy:function(e,n){const i=e[t],r=new Set;for(const e of n.filter(v).map(M)){const t=i.provided[e.type];if(!t)continue;let n=(void 0!==e.id?t[e.id]:m(Object.values(t)))??[];for(const e of n)r.add(e)}return m(Array.from(r.values()).map((e=>{const t=i.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]})))},selectCachedArgsForQuery:function(e,n){return Object.values(e[t].queries).filter((e=>e?.endpointName===n&&"uninitialized"!==e.status)).map((e=>e.originalArgs))}};function a(e){return{...e,...(t=e.status,{status:t,isUninitialized:"uninitialized"===t,isLoading:"pending"===t,isSuccess:"fulfilled"===t,isError:"rejected"===t})};var t}function s(e){return e[t]}}({serializeQueryArgs:o,reducerPath:s,createSelector:e});V(t.util,{selectInvalidatedBy:K,selectCachedArgsForQuery:Q});const{buildInitiateQuery:X,buildInitiateMutation:Y,getRunningMutationThunk:J,getRunningMutationsThunk:Z,getRunningQueriesThunk:ne,getRunningQueryThunk:ie}=function({serializeQueryArgs:e,queryThunk:t,mutationThunk:n,api:i,context:r}){const a=new Map,s=new Map,{unsubscribeQueryResult:o,removeMutationResult:l,updateSubscriptionOptions:c}=i.internalActions;return{buildInitiateQuery:function(n,r){const s=(l,{subscribe:u=!0,forceRefetch:d,subscriptionOptions:h,[P]:p,...f}={})=>(m,v)=>{const y=e({queryArgs:l,endpointDefinition:r,endpointName:n}),b=t({...f,type:"query",subscribe:u,forceRefetch:d,subscriptionOptions:h,endpointName:n,originalArgs:l,queryCacheKey:y,[P]:p}),w=i.endpoints[n].select(l),A=m(b),S=w(v()),{requestId:x,abort:T}=A,_=S.requestId!==x,E=a.get(m)?.[y],k=()=>w(v()),C=Object.assign(p?A.then(k):_&&!E?Promise.resolve(S):Promise.all([E,A]).then(k),{arg:l,requestId:x,subscriptionOptions:h,queryCacheKey:y,abort:T,async unwrap(){const e=await C;if(e.isError)throw e.error;return e.data},refetch:()=>m(s(l,{subscribe:!1,forceRefetch:!0})),unsubscribe(){u&&m(o({queryCacheKey:y,requestId:x}))},updateSubscriptionOptions(e){C.subscriptionOptions=e,m(c({endpointName:n,requestId:x,queryCacheKey:y,options:e}))}});if(!E&&!_&&!p){const e=(R=m,L={},(M=a).has(R)?M.get(R):M.set(R,L).get(R));e[y]=C,C.then((()=>{delete e[y],g(e)||a.delete(m)}))}var M,R,L;return C};return s},buildInitiateMutation:function(e){return(t,{track:i=!0,fixedCacheKey:r}={})=>(a,o)=>{const c=n({type:"mutation",endpointName:e,originalArgs:t,track:i,fixedCacheKey:r}),u=a(c),{requestId:d,abort:h,unwrap:p}=u,f=(m=e=>({error:e}),u.unwrap().then((e=>({data:e}))).catch(m));var m;const v=Object.assign(f,{arg:u.arg,requestId:d,abort:h,unwrap:p,reset:()=>{a(l({requestId:d,fixedCacheKey:r}))}}),y=s.get(a)||{};return s.set(a,y),y[d]=v,v.then((()=>{delete y[d],g(y)||s.delete(a)})),r&&(y[r]=v,v.then((()=>{y[r]===v&&(delete y[r],g(y)||s.delete(a))}))),v}},getRunningQueryThunk:function(t,n){return i=>{const s=r.endpointDefinitions[t],o=e({queryArgs:n,endpointDefinition:s,endpointName:t});return a.get(i)?.[o]}},getRunningMutationThunk:function(e,t){return e=>s.get(e)?.[t]},getRunningQueriesThunk:function(){return e=>Object.values(a.get(e)||{}).filter(v)},getRunningMutationsThunk:function(){return e=>Object.values(s.get(e)||{}).filter(v)}}}({queryThunk:y,mutationThunk:b,api:t,serializeQueryArgs:o,context:p});return V(t.util,{getRunningMutationThunk:J,getRunningMutationsThunk:Z,getRunningQueryThunk:ie,getRunningQueriesThunk:ne}),{name:te,injectEndpoint(e,n){const i=t;i.endpoints[e]??={},k(n)?V(i.endpoints[e],{name:e,select:W(e,n),initiate:X(e,n)},F(y,e)):"mutation"===n.type&&V(i.endpoints[e],{name:e,select:G(),initiate:Y(e)},F(b,e))}}}}),ie=(ne(),n(468)),re=n(540);function ae(e){return e.replace(e[0],e[0].toUpperCase())}function se(e,...t){return Object.assign(e,...t)}var oe=WeakMap?new WeakMap:void 0,le=({endpointName:e,queryArgs:t})=>{let n="";const r=oe?.get(t);if("string"==typeof r)n=r;else{const e=JSON.stringify(t,((e,t)=>(t="bigint"==typeof t?{$bigint:t.toString()}:t,t=(0,i.Qd)(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t)));(0,i.Qd)(t)&&oe?.set(t,e),n=e}return`${e}(${n})`},ce=Symbol();function ue(e,t,n,i){const r=(0,re.useMemo)((()=>({queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:n,endpointName:i}):e})),[e,t,n,i]),a=(0,re.useRef)(r);return(0,re.useEffect)((()=>{a.current.serialized!==r.serialized&&(a.current=r)}),[r]),a.current.serialized===r.serialized?a.current.queryArgs:e}function de(e){const t=(0,re.useRef)(e);return(0,re.useEffect)((()=>{(0,ie.bN)(t.current,e)||(t.current=e)}),[e]),(0,ie.bN)(t.current,e)?t.current:e}var he=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),pe=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),fe=(()=>he||pe?re.useLayoutEffect:re.useEffect)(),ge=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:h.pending}:e,me=Symbol(),ve=W(ne(),(({batch:e=ie.vA,hooks:t={useDispatch:ie.wA,useSelector:ie.d4,useStore:ie.Pj},createSelector:n=u,unstable__sideEffectsInRender:i=!1,...a}={})=>({name:me,init(a,{serializeQueryArgs:s},o){const l=a,{buildQueryHooks:c,buildMutationHook:u,usePrefetch:d}=function({api:e,moduleOptions:{batch:t,hooks:{useDispatch:n,useSelector:i,useStore:a},unstable__sideEffectsInRender:s,createSelector:o},serializeQueryArgs:l,context:c}){const u=s?e=>e():re.useEffect;return{buildQueryHooks:function(s){const h=(t,{refetchOnReconnect:i,refetchOnFocus:a,refetchOnMountOrArgChange:o,skip:l=!1,pollingInterval:d=0,skipPollingIfUnfocused:h=!1}={})=>{const{initiate:p}=e.endpoints[s],f=n(),g=(0,re.useRef)(void 0);if(!g.current){const t=f(e.internalActions.internal_getRTKQSubscriptions());g.current=t}const m=ue(l?j:t,le,c.endpointDefinitions[s],s),v=de({refetchOnReconnect:i,refetchOnFocus:a,pollingInterval:d,skipPollingIfUnfocused:h}),y=(0,re.useRef)(!1),b=(0,re.useRef)(void 0);let{queryCacheKey:w,requestId:A}=b.current||{},S=!1;w&&A&&(S=g.current.isRequestSubscribed(w,A));const x=!S&&y.current;return u((()=>{y.current=S})),u((()=>{x&&(b.current=void 0)}),[x]),u((()=>{const e=b.current;if(m===j)return e?.unsubscribe(),void(b.current=void 0);const t=b.current?.subscriptionOptions;if(e&&e.arg===m)v!==t&&e.updateSubscriptionOptions(v);else{e?.unsubscribe();const t=f(p(m,{subscriptionOptions:v,forceRefetch:o}));b.current=t}}),[f,p,o,m,v,x]),(0,re.useEffect)((()=>()=>{b.current?.unsubscribe(),b.current=void 0}),[]),(0,re.useMemo)((()=>({refetch:()=>{if(!b.current)throw new Error((0,r.gk)(38));return b.current?.refetch()}})),[])},p=({refetchOnReconnect:i,refetchOnFocus:r,pollingInterval:a=0,skipPollingIfUnfocused:o=!1}={})=>{const{initiate:l}=e.endpoints[s],c=n(),[d,h]=(0,re.useState)(ce),p=(0,re.useRef)(void 0),f=de({refetchOnReconnect:i,refetchOnFocus:r,pollingInterval:a,skipPollingIfUnfocused:o});u((()=>{const e=p.current?.subscriptionOptions;f!==e&&p.current?.updateSubscriptionOptions(f)}),[f]);const g=(0,re.useRef)(f);u((()=>{g.current=f}),[f]);const m=(0,re.useCallback)((function(e,n=!1){let i;return t((()=>{p.current?.unsubscribe(),p.current=i=c(l(e,{subscriptionOptions:g.current,forceRefetch:!n})),h(e)})),i}),[c,l]),v=(0,re.useCallback)((()=>{p.current?.queryCacheKey&&c(e.internalActions.removeQueryResult({queryCacheKey:p.current?.queryCacheKey}))}),[c]);return(0,re.useEffect)((()=>()=>{p?.current?.unsubscribe()}),[]),(0,re.useEffect)((()=>{d===ce||p.current||m(d,!0)}),[d,m]),(0,re.useMemo)((()=>[m,d,{reset:v}]),[m,d,v])},f=(t,{skip:n=!1,selectFromResult:r}={})=>{const{select:u}=e.endpoints[s],h=ue(n?j:t,l,c.endpointDefinitions[s],s),p=(0,re.useRef)(void 0),f=(0,re.useMemo)((()=>o([u(h),(e,t)=>t,e=>h],d,{memoizeOptions:{resultEqualityCheck:ie.bN}})),[u,h]),g=(0,re.useMemo)((()=>r?o([f],r,{devModeChecks:{identityFunctionCheck:"never"}}):f),[f,r]),m=i((e=>g(e,p.current)),ie.bN),v=a(),y=f(v.getState(),p.current);return fe((()=>{p.current=y}),[y]),m};return{useQueryState:f,useQuerySubscription:h,useLazyQuerySubscription:p,useLazyQuery(e){const[t,n,{reset:i}]=p(e),r=f(n,{...e,skip:n===ce}),a=(0,re.useMemo)((()=>({lastArg:n})),[n]);return(0,re.useMemo)((()=>[t,{...r,reset:i},a]),[t,r,i,a])},useQuery(e,t){const n=h(e,t),i=f(e,{selectFromResult:e===j||t?.skip?void 0:ge,...t}),{data:r,status:a,isLoading:s,isSuccess:o,isError:l,error:c}=i;return(0,re.useDebugValue)({data:r,status:a,isLoading:s,isSuccess:o,isError:l,error:c}),(0,re.useMemo)((()=>({...i,...n})),[i,n])}}},buildMutationHook:function(r){return({selectFromResult:a,fixedCacheKey:s}={})=>{const{select:l,initiate:c}=e.endpoints[r],u=n(),[d,h]=(0,re.useState)();(0,re.useEffect)((()=>()=>{d?.arg.fixedCacheKey||d?.reset()}),[d]);const p=(0,re.useCallback)((function(e){const t=u(c(e,{fixedCacheKey:s}));return h(t),t}),[u,c,s]),{requestId:f}=d||{},g=(0,re.useMemo)((()=>l({fixedCacheKey:s,requestId:d?.requestId})),[s,d,l]),m=(0,re.useMemo)((()=>a?o([g],a):g),[a,g]),v=i(m,ie.bN),y=null==s?d?.arg.originalArgs:void 0,b=(0,re.useCallback)((()=>{t((()=>{d&&h(void 0),s&&u(e.internalActions.removeMutationResult({requestId:f,fixedCacheKey:s}))}))}),[u,s,d,f]),{endpointName:w,data:A,status:S,isLoading:x,isSuccess:T,isError:_,error:E}=v;(0,re.useDebugValue)({endpointName:w,data:A,status:S,isLoading:x,isSuccess:T,isError:_,error:E});const k=(0,re.useMemo)((()=>({...v,originalArgs:y,reset:b})),[v,y,b]);return(0,re.useMemo)((()=>[p,k]),[p,k])}},usePrefetch:function(t,i){const r=n(),a=de(i);return(0,re.useCallback)(((n,i)=>r(e.util.prefetch(t,n,{...a,...i}))),[t,r,a])}};function d(e,t,n){if(t?.endpointName&&e.isUninitialized){const{endpointName:e}=t,i=c.endpointDefinitions[e];n!==j&&l({queryArgs:t.originalArgs,endpointDefinition:i,endpointName:e})===l({queryArgs:n,endpointDefinition:i,endpointName:e})&&(t=void 0)}let i=e.isSuccess?e.data:t?.data;void 0===i&&(i=e.data);const r=void 0!==i,a=e.isLoading,s=(!t||t.isLoading||t.isUninitialized)&&!r&&a,o=e.isSuccess||r&&(a&&!t?.isError||e.isUninitialized);return{...e,data:i,currentData:e.data,isFetching:a,isLoading:s,isSuccess:o}}}({api:a,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:i,createSelector:n},serializeQueryArgs:s,context:o});return se(l,{usePrefetch:d}),se(o,{batch:e}),{injectEndpoint(e,t){if("query"===t.type){const{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:i,useQueryState:r,useQuerySubscription:s}=c(e);se(l.endpoints[e],{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:i,useQueryState:r,useQuerySubscription:s}),a[`use${ae(e)}Query`]=t,a[`useLazy${ae(e)}Query`]=n}else if("mutation"===t.type){const t=u(e);se(l.endpoints[e],{useMutation:t}),a[`use${ae(e)}Mutation`]=t}}}}}))());const ye=ve({reducerPath:"UTApi",baseQuery:function({baseUrl:e,prepareHeaders:t=e=>e,fetchFn:n=y,paramsSerializer:r,isJsonContentType:a=w,jsonContentType:s="application/json",jsonReplacer:o,timeout:l,responseHandler:c,validateStatus:u,...d}={}){return"undefined"==typeof fetch&&n===y&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(p,f,g)=>{const{getState:m,extra:v,endpoint:y,forced:w,type:S}=f;let x,T,{url:_,headers:E=new Headers(d.headers),params:k,responseHandler:C=c??"json",validateStatus:M=u??b,timeout:P=l,...R}="string"==typeof p?{url:p}:p,L=f.signal;P&&(T=new AbortController,f.signal.addEventListener("abort",T.abort),L=T.signal);let I={...d,signal:L,...R};E=new Headers(A(E)),I.headers=await t(E,{getState:m,arg:p,extra:v,endpoint:y,forced:w,type:S,extraOptions:g})||E;const D=e=>"object"==typeof e&&((0,i.Qd)(e)||Array.isArray(e)||"function"==typeof e.toJSON);if(!I.headers.has("content-type")&&D(I.body)&&I.headers.set("content-type",s),D(I.body)&&a(I.headers)&&(I.body=JSON.stringify(I.body,o)),k){const e=~_.indexOf("?")?"&":"?";_+=e+(r?r(k):new URLSearchParams(A(k)))}_=function(e,t){if(!e)return t;if(!t)return e;if(function(e){return new RegExp("(^|:)//").test(e)}(t))return t;const n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=(e=>e.replace(/\/$/,""))(e),`${e}${n}${t=(e=>e.replace(/^\//,""))(t)}`}(e,_);const N=new Request(_,I);x={request:new Request(_,I)};let F,O=!1,z=T&&setTimeout((()=>{O=!0,T.abort()}),P);try{F=await n(N)}catch(e){return{error:{status:O?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(e)},meta:x}}finally{z&&clearTimeout(z),T?.signal.removeEventListener("abort",T.abort)}const j=F.clone();let B;x.response=j;let H="";try{let e;if(await Promise.all([h(F,C).then((e=>B=e),(t=>e=t)),j.text().then((e=>H=e),(()=>{}))]),e)throw e}catch(e){return{error:{status:"PARSING_ERROR",originalStatus:F.status,data:H,error:String(e)},meta:x}}return M(F,B)?{data:B,meta:x}:{error:{status:F.status,data:B},meta:x}};async function h(e,t){if("function"==typeof t)return t(e);if("content-type"===t&&(t=a(e.headers)?"json":"text"),"json"===t){const t=await e.text();return t.length?JSON.parse(t):null}return e.text()}}({baseUrl:"https://api.uploadthing.com",prepareHeaders:e=>(e.set("Content-Type","application/json"),e.set("X-Uploadthing-Api-Key","sk_live_a67bd5fdcae20fad94e564b18dbadee61652b8a8a92d2a3d74e5164a4d40a213"),e)}),endpoints:()=>({})})},411:function(e,t,n){n.d(t,{L:function(){return i},v:function(){return r}}),window.matchMedia=window.matchMedia||function(){return{matches:!1,addListener:function(){},removeListener:function(){}}};const i=window.matchMedia("(max-width: 1000px)"),r=window.matchMedia("(max-width: 600px)")},990:function(e,t,n){n.d(t,{so:function(){return c}});var i=n(848);const r={start:"NpU5zSxW",center:"fwhZ26qV",end:"BzTvmOOl",between:"sdKBCb0K",evenly:"ifmMqurs",around:"JjehcUVD"},a={start:"DJpz5U2v",center:"A6VRoEyb",end:"C8QhaKIr",stretch:"iIbM4IAS"},s={row:"ccqhaMhR",column:"O0hp3Yaa",rowReverse:"wWHfhzLB",columnReverse:"YJrgZJEf"},o={0:"zvQgx1W5",3:"l31TX0Ch",5:"JkAD6mWD",10:"K8dfLg3u",15:"WJ50C52N",20:"WZDHPpmz",30:"WWHIOSeg",40:"vyHx1UMv",50:"Uk6Y7eDK"},l={5:"nRcxlAZs",10:"O8zbODc_",15:"hqJRrd6e",20:"wUVN1CIz",25:"NmsIITRT",30:"tof9BnPd",35:"PTMXnbCe",40:"vWPVL6uh",45:"ROOhce13",50:"ulpaIUX2",55:"M47O5jI2",60:"WSGuU5SX",65:"nIr8ecZK",70:"ohsAKqfE",75:"WuHpY3qT",80:"w2XflOQV",85:"OnUSeO6U",90:"cXSzl314",95:"kP4a4lMT",100:"dkKMqJLr"},c=e=>{const{className:t,children:n,justify:c="start",align:u="center",direction:d="row",gap:h,maxHeight:p,innerRef:f,wrap:g,width:m,relative:v,...y}=e,b=["zqmTGtLG",t,r[c],a[u],s[d],h&&o[h],m&&l[m],p&&"GKMaN6YN",v&&"t9uSFyno",g&&"_7Wla1ri"];return(0,i.jsx)("div",{ref:f,className:b.join(" "),...y,children:n})};c.displayName="Flex"},120:function(e,t,n){n.d(t,{y1:function(){return r},pR:function(){return d},M_:function(){return u}});var i=n(468);const r=(e,t)=>[function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];const s=t?i.bN:void 0;return(0,i.d4)((t=>e(t,...r)),s)},e];var a=n(307),s=n(644),o=n(540),l=n(265);const c=(e=>{const t={...e};let n=(0,s.HY)(t),i=[];const r={};return{getReducerMap:()=>t,getMountedReducers:()=>r,reduce:(e,t)=>(i.length>0&&(e={...e},i.forEach((t=>{delete e[t]})),i=[]),n(e,t)),add:(e,i)=>{e&&!t[e]&&(t[e]=i,r[e]=!0,n=(0,s.HY)(t))},remove:e=>{e&&t[e]&&(delete t[e],i.push(e),n=(0,s.HY)(t))}}})({[l.a.reducerPath]:l.a.reducer}),u=(0,a.U1)({reducer:c.reduce,middleware:e=>e().concat(l.a.middleware)});u.reducerManager=c;const d=e=>{const t=(0,a.Z0)(e);return{...t,useActions:()=>{const e=(0,i.wA)();return(0,o.useMemo)((()=>(0,s.zH)(t.actions,e)),[e])}}}},248:function(e,t,n){n.d(t,{A:function(){return o}});var i=n(540),r=n(990),a=n(519),s=n(848);const o=(0,i.memo)((e=>{let{withHeader:t=!0}=e;const n=(0,s.jsx)(r.so,{"data-testid":"ErrorComponent",maxHeight:!0,width:"100",justify:"center",children:"На сайте возникла непредвиденная ошибка. Приносим свои извинения."});return t?(0,s.jsx)(a.YW,{children:n}):n}));o.displayName="ErrorComponent"},670:function(e,t,n){n.d(t,{C:function(){return d}});var i={};n.r(i),n.d(i,{Hint:function(){return r},Hint__text:function(){return a},Hint__text__active:function(){return s},Hint__text__top:function(){return o}});var r="q8EozCQs",a="LpcIMF4O",s="GCrxjsBF",o="mE9OXUTJ",l=n(540),c=n(990),u=n(848);const d=(0,l.memo)((e=>{let{textClassName:t,text:n,textDirection:o="right"}=e;const[d,h]=(0,l.useState)(!1);return(0,u.jsxs)(c.so,{relative:!0,align:"start",gap:"10",children:[(0,u.jsx)(c.so,{onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),className:r,justify:"center",children:(0,u.jsx)("span",{children:"?"})}),(0,u.jsx)("p",{className:`${a}\n              ${d&&s}\n              ${i[`Hint__text__${o}`]}\n              ${t}`,children:n})]})}));d.displayName="Hint"},519:function(e,t,n){n.d(t,{YW:function(){return u}});var i=n(540),r=n(990);const a={"Диктанты":[],"Пунктуация":[],"Теория":[],"Тренажеры":["Ударения","Словарные слова","Виды союзов","Наречия","Н/НН","Морфологические нормы"],"Сочинения":[]},s={"Диктанты":"dictants","Пунктуация":"punctuation","Теория":"theory","Тренажеры":"trainers","Ударения":"accents","Словарные слова":"dictionary","Виды союзов":"unions","Наречия":"adverbs","Н/НН":"n/nn","Морфологические нормы":"morphological","Сочинения":"essays"};var o=n(527),l=n(848);const c=(0,i.memo)((()=>{const[e,t]=(0,i.useState)(null);return(0,l.jsx)("header",{className:"cJbokoem",children:Object.entries(a).map((n=>{let[i,a]=n;return(0,l.jsxs)(r.so,{onMouseLeave:()=>t(null),direction:"column",relative:!0,children:[(0,l.jsx)(r.so,{maxHeight:!0,justify:"center",onMouseEnter:()=>t(i),className:"WKfixQZw","data-testid":`Header__${i}`,children:a.length>0?(0,l.jsx)(l.Fragment,{children:i}):(0,l.jsx)(o.N_,{to:`/${s[i]}`,children:i})}),a.length>0&&(0,l.jsx)(r.so,{gap:"10",align:"start",className:`b1arZUnX \n            ${e===i&&"a9e5X6Ct"}`,direction:"column",children:a.map((e=>(0,l.jsx)(o.N_,{to:`/${s[i]}/${s[e]}`,className:"LZCIYRLw",children:e},e)))})]},i)}))})}));c.displayName="Header";const u=(0,i.memo)((e=>{let{children:t,"data-testid":n,className:i}=e;return(0,l.jsxs)("div",{"data-testid":n,children:[(0,l.jsx)(c,{}),(0,l.jsx)("main",{style:{justifyContent:"MISSING_ENV_VAR".STORYBOOK?"center":"space-between"},className:i,children:t})]})}));u.displayName="Page"},640:function(e,t,n){n.d(t,{D:function(){return xr}});var i={};n.r(i),n.d(i,{dU:function(){return bi},ng:function(){return wi},EA:function(){return Ai},Tm:function(){return Si},D6:function(){return xi},YE:function(){return Ti}});var r=n(10),a=n(540),s=n(450),o=n(248),l={d:(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},c=globalThis.pdfjsLib={};l.d(c,{AbortException:()=>z,AnnotationEditorLayer:()=>vi,AnnotationEditorParamsType:()=>m,AnnotationEditorType:()=>g,AnnotationEditorUIManager:()=>xe,AnnotationLayer:()=>ii,AnnotationMode:()=>f,ColorPicker:()=>pi,DOMSVGFactory:()=>_n,DrawLayer:()=>yi,FeatureTest:()=>U,GlobalWorkerOptions:()=>yt,ImageKind:()=>y,InvalidPDFException:()=>D,MissingPDFException:()=>N,OPS:()=>w,OutputScale:()=>fe,PDFDataRangeTransport:()=>cn,PDFDateString:()=>le,PDFWorker:()=>pn,PasswordResponses:()=>A,PermissionFlag:()=>v,PixelsPerInch:()=>X,RenderingCancelledException:()=>Z,TextLayer:()=>Jt,UnexpectedResponseException:()=>F,Util:()=>q,VerbosityLevel:()=>b,XfaLayer:()=>En,build:()=>wn,createValidAbsoluteUrl:()=>M,fetchData:()=>Y,getDocument:()=>sn,getFilenameFromUrl:()=>ne,getPdfFilenameFromUrl:()=>ie,getXfaPageViewport:()=>ce,isDataScheme:()=>ee,isPdfFile:()=>te,noContextMenu:()=>se,normalizeUnicode:()=>G,setLayerDimensions:()=>pe,shadow:()=>P,version:()=>bn});const u=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),d=[1,0,0,1,0,0],h=[.001,0,0,.001,0,0],p=1.35,f={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},g={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},m={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},v={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},b={ERRORS:0,WARNINGS:1,INFOS:5},w={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},A={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let S=b.WARNINGS;function x(e){Number.isInteger(e)&&(S=e)}function T(){return S}function _(e){S>=b.INFOS&&console.log(`Info: ${e}`)}function E(e){S>=b.WARNINGS&&console.log(`Warning: ${e}`)}function k(e){throw new Error(e)}function C(e,t){e||k(t)}function M(e,t=null,n=null){if(!e)return null;try{if(n&&"string"==typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t?.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch{}}const i=t?new URL(e,t):new URL(e);if(function(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch{}return null}function P(e,t,n,i=!1){return Object.defineProperty(e,t,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const R=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class L extends R{constructor(e,t){super(e,"PasswordException"),this.code=t}}class I extends R{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class D extends R{constructor(e){super(e,"InvalidPDFException")}}class N extends R{constructor(e){super(e,"MissingPDFException")}}class F extends R{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class O extends R{constructor(e){super(e,"FormatError")}}class z extends R{constructor(e){super(e,"AbortException")}}function j(e){"object"==typeof e&&void 0!==e?.length||k("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let r=0;r<t;r+=n){const a=Math.min(r+n,t),s=e.subarray(r,a);i.push(String.fromCharCode.apply(null,s))}return i.join("")}function B(e){"string"!=typeof e&&k("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n}function H(e){const t=Object.create(null);for(const[n,i]of e)t[n]=i;return t}class U{static get isLittleEndian(){return P(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return P(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return P(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}static get platform(){return"undefined"!=typeof navigator&&"string"==typeof navigator?.platform?P(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:"string"==typeof navigator?.userAgent&&navigator.userAgent.includes("Firefox")}):P(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return P(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const $=Array.from(Array(256).keys(),(e=>e.toString(16).padStart(2,"0")));class q{static makeHexColor(e,t,n){return`#${$[e]}${$[t]}${$[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),r=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],r[0],a[0]),Math.min(n[1],i[1],r[1],a[1]),Math.max(n[0],i[0],r[0],a[0]),Math.max(n[1],i[1],r[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],s=(n+a)/2,o=Math.sqrt((n+a)**2-4*(n*a-r*i))/2,l=s+o||1,c=s-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>a?null:[n,r,i,a]}static#e(e,t,n,i,r,a,s,o,l,c){if(l<=0||l>=1)return;const u=1-l,d=l*l,h=d*l,p=u*(u*(u*e+3*l*t)+3*d*n)+h*i,f=u*(u*(u*r+3*l*a)+3*d*s)+h*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],f),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],f)}static#t(e,t,n,i,r,a,s,o,l,c,u,d){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&this.#e(e,t,n,i,r,a,s,o,-u/c,d));const h=c**2-4*u*l;if(h<0)return;const p=Math.sqrt(h),f=2*l;this.#e(e,t,n,i,r,a,s,o,(-c+p)/f,d),this.#e(e,t,n,i,r,a,s,o,(-c-p)/f,d)}static bezierBoundingBox(e,t,n,i,r,a,s,o,l){return l?(l[0]=Math.min(l[0],e,s),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,s),l[3]=Math.max(l[3],t,o)):l=[Math.min(e,s),Math.min(t,o),Math.max(e,s),Math.max(t,o)],this.#t(e,n,r,s,t,i,a,o,3*(3*(n-r)-e+s),6*(e-2*n+r),3*(n-e),l),this.#t(e,n,r,s,t,i,a,o,3*(3*(i-a)-t+o),6*(t-2*i+a),3*(i-t),l),l}}let W=null,V=null;function G(e){return W||(W=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,V=new Map([["ﬅ","ſt"]])),e.replaceAll(W,((e,t,n)=>t?t.normalize("NFKC"):V.get(n)))}const K="pdfjs_internal_id_",Q="http://www.w3.org/2000/svg";class X{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Y(e,t="text"){if(ae(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,i)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE)if(200!==r.status&&0!==r.status)i(new Error(r.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(r.response)}n(r.responseText)}},r.send(null)}))}class J{constructor({viewBox:e,scale:t,rotation:n,offsetX:i=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=i,this.offsetY=r;const s=(e[2]+e[0])/2,o=(e[3]+e[1])/2;let l,c,u,d,h,p,f,g;switch((n%=360)<0&&(n+=360),n){case 180:l=-1,c=0,u=0,d=1;break;case 90:l=0,c=1,u=1,d=0;break;case 270:l=0,c=-1,u=-1,d=0;break;case 0:l=1,c=0,u=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(u=-u,d=-d),0===l?(h=Math.abs(o-e[1])*t+i,p=Math.abs(s-e[0])*t+r,f=(e[3]-e[1])*t,g=(e[2]-e[0])*t):(h=Math.abs(s-e[0])*t+i,p=Math.abs(o-e[1])*t+r,f=(e[2]-e[0])*t,g=(e[3]-e[1])*t),this.transform=[l*t,c*t,u*t,d*t,h-l*t*s-u*t*o,p-c*t*s-d*t*o],this.width=f,this.height=g}get rawDims(){const{viewBox:e}=this;return P(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new J({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){return q.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=q.applyTransform([e[0],e[1]],this.transform),n=q.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return q.applyInverseTransform([e,t],this.transform)}}class Z extends R{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function ee(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function te(e){return"string"==typeof e&&/\.pdf$/i.test(e)}function ne(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function ie(e,t="document.pdf"){if("string"!=typeof e)return t;if(ee(e))return E('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||t}class re{started=Object.create(null);times=[];time(e){e in this.started&&E(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||E(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:e}of this.times)t=Math.max(e.length,t);for(const{name:n,start:i,end:r}of this.times)e.push(`${n.padEnd(t)} ${r-i}ms\n`);return e.join("")}}function ae(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch{return!1}}function se(e){e.preventDefault()}function oe(e){console.log("Deprecated API usage: "+e)}class le{static#n;static toDateObject(e){if(!e||"string"!=typeof e)return null;this.#n||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#n.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(a+=c,s+=u):"+"===l&&(a-=c,s-=u),new Date(Date.UTC(n,i,r,a,s,o))}}function ce(e,{scale:t=1,rotation:n=0}){const{width:i,height:r}=e.attributes.style,a=[0,0,parseInt(i),parseInt(r)];return new J({viewBox:a,scale:t,rotation:n})}function ue(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):(E(`Not a valid color format: "${e}"`),[0,0,0])}function de(e){const{a:t,b:n,c:i,d:r,e:a,f:s}=e.getTransform();return[t,n,i,r,a,s]}function he(e){const{a:t,b:n,c:i,d:r,e:a,f:s}=e.getTransform().invertSelf();return[t,n,i,r,a,s]}function pe(e,t,n=!1,i=!0){if(t instanceof J){const{pageWidth:i,pageHeight:r}=t.rawDims,{style:a}=e,s=U.isCSSRoundSupported,o=`var(--scale-factor) * ${i}px`,l=`var(--scale-factor) * ${r}px`,c=s?`round(down, ${o}, var(--scale-round-x, 1px))`:`calc(${o})`,u=s?`round(down, ${l}, var(--scale-round-y, 1px))`:`calc(${l})`;n&&t.rotation%180!=0?(a.width=u,a.height=c):(a.width=c,a.height=u)}i&&e.setAttribute("data-main-rotation",t.rotation)}class fe{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}}class ge{#i=null;#r=null;#a;#s=null;#o=null;static#l=null;constructor(e){this.#a=e,ge.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){const e=this.#i=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#a._uiManager._signal;e.addEventListener("contextmenu",se,{signal:t}),e.addEventListener("pointerdown",ge.#c,{signal:t});const n=this.#s=document.createElement("div");n.className="buttons",e.append(n);const i=this.#a.toolbarPosition;if(i){const{style:t}=e,n="ltr"===this.#a._uiManager.direction?1-i[0]:i[0];t.insetInlineEnd=100*n+"%",t.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),e}get div(){return this.#i}static#c(e){e.stopPropagation()}#d(e){this.#a._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#h(e){this.#a._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#p(e){const t=this.#a._uiManager._signal;e.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",se,{signal:t})}hide(){this.#i.classList.add("hidden"),this.#r?.hideDropdown()}show(){this.#i.classList.remove("hidden"),this.#o?.shown()}#u(){const{editorType:e,_uiManager:t}=this.#a,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",ge.#l[e]),this.#p(n),n.addEventListener("click",(e=>{t.delete()}),{signal:t._signal}),this.#s.append(n)}get#f(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#p(t),this.#s.prepend(t,this.#f),this.#o=e}addColorPicker(e){this.#r=e;const t=e.renderButton();this.#p(t),this.#s.prepend(t,this.#f)}remove(){this.#i.remove(),this.#r?.destroy(),this.#r=null}}class me{#s=null;#i=null;#g;constructor(e){this.#g=e}#m(){const e=this.#i=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",se,{signal:this.#g._signal});const t=this.#s=document.createElement("div");return t.className="buttons",e.append(t),this.#v(),e}#y(e,t){let n=0,i=0;for(const r of e){const e=r.y+r.height;if(e<n)continue;const a=r.x+(t?r.width:0);e>n?(i=a,n=e):t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,n]}show(e,t,n){const[i,r]=this.#y(t,n),{style:a}=this.#i||=this.#m();e.append(this.#i),a.insetInlineEnd=100*i+"%",a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#i.remove()}#v(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#g._signal;e.addEventListener("contextmenu",se,{signal:n}),e.addEventListener("click",(()=>{this.#g.highlightSelection("floating_button")}),{signal:n}),this.#s.append(e)}}function ve(e,t,n){for(const i of n)t.addEventListener(i,e[i].bind(e))}class ye{#b=0;get id(){return"pdfjs_internal_editor_"+this.#b++}}class be{#w=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);if("undefined"!=typeof crypto&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(e);else for(let t=0;t<32;t++)e[t]=Math.floor(255*Math.random());return j(e)}();#b=0;#A=null;static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',P(this,"_isSVGFittingCanvas",t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]))))}async#S(e,t){this.#A||=new Map;let n=this.#A.get(e);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let e;if(n||={bitmap:null,id:`image_${this.#w}_${this.#b++}`,refCounter:0,isSvg:!1},"string"==typeof t?(n.url=t,e=await Y(t,"blob")):t instanceof File?e=n.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=be._isSVGFittingCanvas,i=new FileReader,r=new Image,a=new Promise(((e,a)=>{r.onload=()=>{n.bitmap=r,n.isSvg=!0,e()},i.onload=async()=>{const e=n.svgUrl=i.result;r.src=await t?`${e}#svgView(preserveAspectRatio(none))`:e},r.onerror=i.onerror=a}));i.readAsDataURL(e),await a}else n.bitmap=await createImageBitmap(e);n.refCounter=1}catch(e){console.error(e),n=null}return this.#A.set(e,n),n&&this.#A.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:i,type:r}=e;return this.#S(`${t}_${n}_${i}_${r}`,e)}async getFromUrl(e){return this.#S(e,e)}async getFromBlob(e,t){const n=await t;return this.#S(e,n)}async getFromId(e){this.#A||=new Map;const t=this.#A.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#A||=new Map;let n=this.#A.get(e);if(n?.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${this.#w}_${this.#b++}`,refCounter:1,isSvg:!1},this.#A.set(e,n),this.#A.set(n.id,n),n}getSvgUrl(e){const t=this.#A.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#A||=new Map;const t=this.#A.get(e);if(!t)return;if(t.refCounter-=1,0!==t.refCounter)return;const{bitmap:n}=t;if(!t.url&&!t.file){const e=new OffscreenCanvas(n.width,n.height);e.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=e.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#w}_`)}}class we{#x=[];#T=!1;#_;#E=-1;constructor(e=128){this.#_=e}add({cmd:e,undo:t,post:n,mustExec:i,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:s=!1}){if(i&&e(),this.#T)return;const o={cmd:e,undo:t,post:n,type:r};if(-1===this.#E)return this.#x.length>0&&(this.#x.length=0),this.#E=0,void this.#x.push(o);if(a&&this.#x[this.#E].type===r)return s&&(o.undo=this.#x[this.#E].undo),void(this.#x[this.#E]=o);const l=this.#E+1;l===this.#_?this.#x.splice(0,1):(this.#E=l,l<this.#x.length&&this.#x.splice(l)),this.#x.push(o)}undo(){if(-1===this.#E)return;this.#T=!0;const{undo:e,post:t}=this.#x[this.#E];e(),t?.(),this.#T=!1,this.#E-=1}redo(){if(this.#E<this.#x.length-1){this.#E+=1,this.#T=!0;const{cmd:e,post:t}=this.#x[this.#E];e(),t?.(),this.#T=!1}}hasSomethingToUndo(){return-1!==this.#E}hasSomethingToRedo(){return this.#E<this.#x.length-1}destroy(){this.#x=null}}class Ae{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=U.platform;for(const[n,i,r={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:i,options:r}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:i,options:r}),this.allKeys.add(e.split("+").at(-1)))}}#k(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#k(t));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:a=[],checker:s=null}}=n;s&&!s(e,t)||(i.bind(e,...a,t)(),r||(t.stopPropagation(),t.preventDefault()))}}class Se{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const i=window.getComputedStyle(t).color;e.set(n,ue(i))}t.remove()}(e),P(this,"_colors",e)}convert(e){const t=ue(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[e,n]of this._colors)if(n.every(((e,n)=>e===t[n])))return Se._colorsMapping.get(e);return t}getHexCode(e){const t=this._colors.get(e);return t?q.makeHexColor(...t):e}}class xe{#C=new AbortController;#M=null;#P=new Map;#R=new Map;#L=null;#I=null;#D=null;#N=new we;#F=null;#O=0;#z=new Set;#j=null;#B=null;#H=new Set;#U=!1;#$=!1;#q=!1;#W=null;#V=null;#G=null;#K=null;#Q=!1;#X=null;#Y=new ye;#J=!1;#Z=!1;#ee=null;#te=null;#ne=null;#ie=null;#re=g.NONE;#ae=new Set;#se=null;#oe=null;#le=null;#ce={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#ue=[0,0];#de=null;#he=null;#pe=null;#fe=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=xe.prototype,t=e=>e.#he.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,{target:t})=>{if(t instanceof HTMLInputElement){const{type:e}=t;return"text"!==e&&"number"!==e}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return P(this,"_keyboardManager",new Ae([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&e.#he.contains(t)&&!e.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&e.#he.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}constructor(e,t,n,i,r,a,s,o,l,c,u){const d=this._signal=this.#C.signal;this.#he=e,this.#pe=t,this.#L=n,this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:d}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:d}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:d}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:d}),i._on("setpreference",this.onSetPreference.bind(this),{signal:d}),i._on("switchannotationeditorparams",(e=>this.updateParams(e.type,e.value)),{signal:d}),this.#ge(),this.#me(),this.#ve(),this.#I=r.annotationStorage,this.#W=r.filterFactory,this.#oe=a,this.#K=s||null,this.#U=o,this.#$=l,this.#q=c,this.#ie=u||null,this.viewParameters={realScale:X.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#fe?.resolve(),this.#fe=null,this.#C?.abort(),this.#C=null,this._signal=null;for(const e of this.#R.values())e.destroy();this.#R.clear(),this.#P.clear(),this.#H.clear(),this.#M=null,this.#ae.clear(),this.#N.destroy(),this.#L?.destroy(),this.#X?.hide(),this.#X=null,this.#V&&(clearTimeout(this.#V),this.#V=null),this.#de&&(clearTimeout(this.#de),this.#de=null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#ie}get useNewAltTextFlow(){return this.#$}get useNewAltTextWhenAddingImage(){return this.#q}get hcmFilter(){return P(this,"hcmFilter",this.#oe?this.#W.addHCMFilter(this.#oe.foreground,this.#oe.background):"none")}get direction(){return P(this,"direction",getComputedStyle(this.#he).direction)}get highlightColors(){return P(this,"highlightColors",this.#K?new Map(this.#K.split(",").map((e=>e.split("=").map((e=>e.trim()))))):null)}get highlightColorNames(){return P(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(e=>e.reverse()))):null)}setMainHighlightColorPicker(e){this.#ne=e}editAltText(e,t=!1){this.#L?.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){"enableNewAltTextWhenAddingImage"===e&&(this.#q=t)}onPageChanging({pageNumber:e}){this.#O=e-1}focusMainContainer(){this.#he.focus()}findParent(e,t){for(const n of this.#R.values()){const{x:i,y:r,width:a,height:s}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=r&&t<=r+s)return n}return null}disableUserSelect(e=!1){this.#pe.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#H.add(e)}removeShouldRescale(e){this.#H.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*X.PDF_TO_CSS_UNITS;for(const e of this.#H)e.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#ye({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#be(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const t of this.#R.values())if(t.hasTextLayer(e))return t;return null}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:a}=t,s=t.toString(),o=this.#ye(t).closest(".textLayer"),l=this.getSelectionBoxes(o);if(!l)return;t.empty();const c=this.#be(o),u=this.#re===g.NONE,d=()=>{c?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:a,text:s}),u&&this.showAllEditors("highlight",!0,!0)};u?this.switchToMode(g.HIGHLIGHT,d):d()}#we(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=this.#ye(e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(this.#X||=new me(this),this.#X.show(t,n,"ltr"===this.direction))}addToAnnotationStorage(e){e.isEmpty()||!this.#I||this.#I.has(e.id)||this.#I.setValue(e.id,e)}#Ae(){const e=document.getSelection();if(!e||e.isCollapsed)return void(this.#se&&(this.#X?.hide(),this.#se=null,this.#Se({hasSelectedText:!1})));const{anchorNode:t}=e;if(t===this.#se)return;const n=this.#ye(e).closest(".textLayer");if(n){if(this.#X?.hide(),this.#se=t,this.#Se({hasSelectedText:!0}),(this.#re===g.HIGHLIGHT||this.#re===g.NONE)&&(this.#re===g.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#Q=this.isShiftKeyDown,!this.isShiftKeyDown)){const e=this.#re===g.HIGHLIGHT?this.#be(n):null;e?.toggleDrawing();const t=new AbortController,i=this.combinedSignal(t),r=n=>{"pointerup"===n.type&&0!==n.button||(t.abort(),e?.toggleDrawing(!0),"pointerup"===n.type&&this.#xe("main_toolbar"))};window.addEventListener("pointerup",r,{signal:i}),window.addEventListener("blur",r,{signal:i})}}else this.#se&&(this.#X?.hide(),this.#se=null,this.#Se({hasSelectedText:!1}))}#xe(e=""){this.#re===g.HIGHLIGHT?this.highlightSelection(e):this.#U&&this.#we()}#ge(){document.addEventListener("selectionchange",this.#Ae.bind(this),{signal:this._signal})}#Te(){if(this.#G)return;this.#G=new AbortController;const e=this.combinedSignal(this.#G);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#_e(){this.#G?.abort(),this.#G=null}blur(){if(this.isShiftKeyDown=!1,this.#Q&&(this.#Q=!1,this.#xe("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#ae)if(t.div.contains(e)){this.#te=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#te)return;const[e,t]=this.#te;this.#te=null,t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),t.focus()}#ve(){if(this.#ee)return;this.#ee=new AbortController;const e=this.combinedSignal(this.#ee);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#Ee(){this.#ee?.abort(),this.#ee=null}#ke(){if(this.#F)return;this.#F=new AbortController;const e=this.combinedSignal(this.#F);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#Ce(){this.#F?.abort(),this.#F=null}#me(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#ve(),this.#ke()}removeEditListeners(){this.#Ee(),this.#Ce()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#B)if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#B)if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#M?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const e of this.#ae){const n=e.serialize(!0);n&&t.push(n)}0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const e of t.items)for(const t of this.#B)if(t.isHandlingMimeForPasting(e.type))return void t.paste(e,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(e){return void E(`paste: "${e.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const e=[];for(const t of n){const n=await i.deserialize(t);if(!n)return;e.push(n)}const t=()=>{for(const t of e)this.#Me(t);this.#Pe(e)},r=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:r,mustExec:!0})}catch(e){E(`paste: "${e.message}".`)}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),this.#re===g.NONE||this.isEditorHandlingKeyboard||xe._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#Q&&(this.#Q=!1,this.#xe("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#Se(e){Object.entries(e).some((([e,t])=>this.#ce[e]!==t))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#ce,e)}),this.#re===g.HIGHLIGHT&&!1===e.hasSelectedEditor&&this.#Re([[m.HIGHLIGHT_FREE,!0]]))}#Re(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#Te(),this.#ke(),this.#Se({isEditing:this.#re!==g.NONE,isEmpty:this.#Le(),hasSomethingToUndo:this.#N.hasSomethingToUndo(),hasSomethingToRedo:this.#N.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#_e(),this.#Ce(),this.#Se({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#B){this.#B=e;for(const e of this.#B)this.#Re(e.defaultPropertiesToUpdate)}}getId(){return this.#Y.id}get currentLayer(){return this.#R.get(this.#O)}getLayer(e){return this.#R.get(e)}get currentPageIndex(){return this.#O}addLayer(e){this.#R.set(e.pageIndex,e),this.#J?e.enable():e.disable()}removeLayer(e){this.#R.delete(e.pageIndex)}async updateMode(e,t=null,n=!1){if(this.#re!==e&&(!this.#fe||(await this.#fe.promise,this.#fe))){if(this.#fe=Promise.withResolvers(),this.#re=e,e===g.NONE)return this.setEditingState(!1),this.#Ie(),void this.#fe.resolve();this.setEditingState(!0),await this.#De(),this.unselectAll();for(const t of this.#R.values())t.updateMode(e);if(!t)return n&&this.addNewEditorFromKeyboard(),void this.#fe.resolve();for(const e of this.#P.values())e.annotationElementId===t?(this.setSelected(e),e.enterInEditMode()):e.unselect();this.#fe.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#re&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#B){switch(e){case m.CREATE:return void this.currentLayer.addNewEditor();case m.HIGHLIGHT_DEFAULT_COLOR:this.#ne?.updateColor(t);break;case m.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#le||=new Map).set(e,t),this.showAllEditors("highlight",t)}for(const n of this.#ae)n.updateParams(e,t);for(const n of this.#B)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const n of this.#P.values())n.editorType===e&&n.show(t);(this.#le?.get(m.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#Re([[m.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#Z!==e){this.#Z=e;for(const t of this.#R.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#De(){if(!this.#J){this.#J=!0;const e=[];for(const t of this.#R.values())e.push(t.enable());await Promise.all(e);for(const e of this.#P.values())e.enable()}}#Ie(){if(this.unselectAll(),this.#J){this.#J=!1;for(const e of this.#R.values())e.disable();for(const e of this.#P.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#P.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#P.get(e)}addEditor(e){this.#P.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#V&&clearTimeout(this.#V),this.#V=setTimeout((()=>{this.focusMainContainer(),this.#V=null}),0)),this.#P.delete(e.id),this.unselect(e),e.annotationElementId&&this.#z.has(e.annotationElementId)||this.#I?.remove(e.id)}addDeletedAnnotationElement(e){this.#z.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#z.has(e)}removeDeletedAnnotationElement(e){this.#z.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#Me(e){const t=this.#R.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#M!==e&&(this.#M=e,e&&this.#Re(e.propertiesToUpdate))}get#Ne(){let e=null;for(e of this.#ae);return e}updateUI(e){this.#Ne===e&&this.#Re(e.propertiesToUpdate)}toggleSelected(e){if(this.#ae.has(e))return this.#ae.delete(e),e.unselect(),void this.#Se({hasSelectedEditor:this.hasSelection});this.#ae.add(e),e.select(),this.#Re(e.propertiesToUpdate),this.#Se({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#ae)t!==e&&t.unselect();this.#ae.clear(),this.#ae.add(e),e.select(),this.#Re(e.propertiesToUpdate),this.#Se({hasSelectedEditor:!0})}isSelected(e){return this.#ae.has(e)}get firstSelectedEditor(){return this.#ae.values().next().value}unselect(e){e.unselect(),this.#ae.delete(e),this.#Se({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#ae.size}get isEnterHandled(){return 1===this.#ae.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#N.undo(),this.#Se({hasSomethingToUndo:this.#N.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Le()})}redo(){this.#N.redo(),this.#Se({hasSomethingToUndo:!0,hasSomethingToRedo:this.#N.hasSomethingToRedo(),isEmpty:this.#Le()})}addCommands(e){this.#N.add(e),this.#Se({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Le()})}#Le(){if(0===this.#P.size)return!0;if(1===this.#P.size)for(const e of this.#P.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#ae];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)this.#Me(t)},mustExec:!0})}commitOrRemove(){this.#M?.commitOrRemove()}hasSomethingToControl(){return this.#M||this.hasSelection}#Pe(e){for(const e of this.#ae)e.unselect();this.#ae.clear();for(const t of e)t.isEmpty()||(this.#ae.add(t),t.select());this.#Se({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#ae)e.commit();this.#Pe(this.#P.values())}unselectAll(){if((!this.#M||(this.#M.commitOrRemove(),this.#re===g.NONE))&&this.hasSelection){for(const e of this.#ae)e.unselect();this.#ae.clear(),this.#Se({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#ue[0]+=e,this.#ue[1]+=t;const[i,r]=this.#ue,a=[...this.#ae];this.#de&&clearTimeout(this.#de),this.#de=setTimeout((()=>{this.#de=null,this.#ue[0]=this.#ue[1]=0,this.addCommands({cmd:()=>{for(const e of a)this.#P.has(e.id)&&e.translateInPage(i,r)},undo:()=>{for(const e of a)this.#P.has(e.id)&&e.translateInPage(-i,-r)},mustExec:!1})}),1e3);for(const n of a)n.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#j=new Map;for(const e of this.#ae)this.#j.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#j)return!1;this.disableUserSelect(!1);const e=this.#j;this.#j=null;let t=!1;for(const[{x:n,y:i,pageIndex:r},a]of e)a.newX=n,a.newY=i,a.newPageIndex=r,t||=n!==a.savedX||i!==a.savedY||r!==a.savedPageIndex;if(!t)return!1;const n=(e,t,n,i)=>{if(this.#P.has(e.id)){const r=this.#R.get(i);r?e._setParentAndPosition(r,t,n):(e.pageIndex=i,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:i,newY:r,newPageIndex:a}]of e)n(t,i,r,a)},undo:()=>{for(const[t,{savedX:i,savedY:r,savedPageIndex:a}]of e)n(t,i,r,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#j)for(const n of this.#j.keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#ae.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#M===e}getActive(){return this.#M}getMode(){return this.#re}get imageManager(){return P(this,"imageManager",new be)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let n=0,i=t.rangeCount;n<i;n++)if(!e.contains(t.getRangeAt(n).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:a}=e.getBoundingClientRect();let s;switch(e.getAttribute("data-main-rotation")){case"90":s=(e,t,s,o)=>({x:(t-i)/a,y:1-(e+s-n)/r,width:o/a,height:s/r});break;case"180":s=(e,t,s,o)=>({x:1-(e+s-n)/r,y:1-(t+o-i)/a,width:s/r,height:o/a});break;case"270":s=(e,t,s,o)=>({x:1-(t+o-i)/a,y:(e-n)/r,width:o/a,height:s/r});break;default:s=(e,t,s,o)=>({x:(e-n)/r,y:(t-i)/a,width:s/r,height:o/a})}const o=[];for(let e=0,n=t.rangeCount;e<n;e++){const n=t.getRangeAt(e);if(!n.collapsed)for(const{x:e,y:t,width:i,height:r}of n.getClientRects())0!==i&&0!==r&&o.push(s(e,t,i,r))}return 0===o.length?null:o}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#D||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#D?.delete(e)}renderAnnotationElement(e){const t=this.#D?.get(e.data.id);if(!t)return;const n=this.#I.getRawValue(t);n&&(this.#re!==g.NONE||n.hasBeenModified)&&n.renderAnnotationElement(e)}}class Te{#o=null;#Fe=!1;#Oe=null;#ze=null;#je=null;#Be=null;#He=!1;#Ue=null;#a=null;#$e=null;#qe=null;#We=!1;static#Ve=null;static _l10n=null;constructor(e){this.#a=e,this.#We=e._uiManager.useNewAltTextFlow,Te.#Ve||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Te._l10n??=e}async render(){const e=this.#Oe=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#ze=document.createElement("span");e.append(t),this.#We?(e.classList.add("new"),e.setAttribute("data-l10n-id",Te.#Ve.missing),t.setAttribute("data-l10n-id",Te.#Ve["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#a._uiManager._signal;e.addEventListener("contextmenu",se,{signal:n}),e.addEventListener("pointerdown",(e=>e.stopPropagation()),{signal:n});const i=e=>{e.preventDefault(),this.#a._uiManager.editAltText(this.#a),this.#We&&this.#a._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#Ge}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&(this.#He=!0,i(t))}),{signal:n}),await this.#Ke(),e}get#Ge(){return(this.#o?"added":null===this.#o&&this.guessedText&&"review")||"missing"}finish(){this.#Oe&&(this.#Oe.focus({focusVisible:this.#He}),this.#He=!1)}isEmpty(){return this.#We?null===this.#o:!this.#o&&!this.#Fe}hasData(){return this.#We?null!==this.#o||!!this.#$e:this.isEmpty()}get guessedText(){return this.#$e}async setGuessedText(e){null===this.#o&&(this.#$e=e,this.#qe=await Te._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#Ke())}toggleAltTextBadge(e=!1){if(!this.#We||this.#o)return this.#Ue?.remove(),void(this.#Ue=null);if(!this.#Ue){const e=this.#Ue=document.createElement("div");e.className="noAltTextBadge",this.#a.div.append(e)}this.#Ue.classList.toggle("hidden",!e)}serialize(e){let t=this.#o;return e||this.#$e!==t||(t=this.#qe),{altText:t,decorative:this.#Fe,guessedText:this.#$e,textWithDisclaimer:this.#qe}}get data(){return{altText:this.#o,decorative:this.#Fe}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:r=!1}){n&&(this.#$e=n,this.#qe=i),this.#o===e&&this.#Fe===t||(r||(this.#o=e,this.#Fe=t),this.#Ke())}toggle(e=!1){this.#Oe&&(!e&&this.#Be&&(clearTimeout(this.#Be),this.#Be=null),this.#Oe.disabled=!e)}shown(){this.#a._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#Ge}})}destroy(){this.#Oe?.remove(),this.#Oe=null,this.#ze=null,this.#je=null,this.#Ue?.remove(),this.#Ue=null}async#Ke(){const e=this.#Oe;if(!e)return;if(this.#We){if(e.classList.toggle("done",!!this.#o),e.setAttribute("data-l10n-id",Te.#Ve[this.#Ge]),this.#ze?.setAttribute("data-l10n-id",Te.#Ve[`${this.#Ge}-label`]),!this.#o)return void this.#je?.remove()}else{if(!this.#o&&!this.#Fe)return e.classList.remove("done"),void this.#je?.remove();e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#je;if(!t){this.#je=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#a.id}`;const n=100,i=this.#a._uiManager._signal;i.addEventListener("abort",(()=>{clearTimeout(this.#Be),this.#Be=null}),{once:!0}),e.addEventListener("mouseenter",(()=>{this.#Be=setTimeout((()=>{this.#Be=null,this.#je.classList.add("show"),this.#a._reportTelemetry({action:"alt_text_tooltip"})}),n)}),{signal:i}),e.addEventListener("mouseleave",(()=>{this.#Be&&(clearTimeout(this.#Be),this.#Be=null),this.#je?.classList.remove("show")}),{signal:i})}this.#Fe?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#o),t.parentNode||e.append(t);const n=this.#a.getImageForAltText();n?.setAttribute("aria-describedby",t.id)}}class _e{#Qe=null;#Xe=null;#o=null;#Ye=!1;#Je=!1;#Ze=null;#et=null;#tt=null;#nt="";#it=!1;#rt=null;#at=!1;#st=!1;#ot=!1;#lt=null;#ct=0;#ut=0;#dt=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#ht=!1;#pt=_e._zIndex++;static _borderLineWidth=-1;static _colorManager=new Se;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=_e.prototype._resizeWithKeyboard,t=xe.TRANSLATE_SMALL,n=xe.TRANSLATE_BIG;return P(this,"_resizerKeyboardManager",new Ae([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],_e.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,a];const[s,o]=this.parentDimensions;this.x=e.x/s,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return P(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Ee({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(_e._l10n??=e,_e._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),-1!==_e._borderLineWidth)return;const n=getComputedStyle(document.documentElement);_e._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){k("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#ht}set _isDraggable(e){this.#ht=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#pt}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#ft(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#it?this.#it=!1:this.parent.setSelected(this))}focusout(e){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[r,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/r,this.y=(t+i)/a,this.fixAndSetPosition()}#gt([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this.fixAndSetPosition()}translate(e,t){this.#gt(this.parentDimensions,e,t)}translateInPage(e,t){this.#rt||=[this.x,this.y],this.#gt(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#rt||=[this.x,this.y];const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[s,o]=this.getBaseTranslation();r+=s,a+=o,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#rt&&(this.#rt[0]!==this.x||this.#rt[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=_e,i=n/e,r=n/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:i,y:r,width:a,height:s}=this;if(a*=t,s*=n,i*=t,r*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-a,i)),r=Math.max(0,Math.min(n-s,r));break;case 90:i=Math.max(0,Math.min(t-s,i)),r=Math.min(n,Math.max(a,r));break;case 180:i=Math.min(t,Math.max(a,i)),r=Math.min(n,Math.max(s,r));break;case 270:i=Math.min(t,Math.max(s,i)),r=Math.max(0,Math.min(n-a,r))}this.x=i/=t,this.y=r/=n;const[o,l]=this.getBaseTranslation();i+=o,r+=l;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}static#mt(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return _e.#mt(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return _e.#mt(e,t,360-this.parentRotation)}#vt(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,this.#Je||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),r=!this.#Je&&t.endsWith("%");if(i&&r)return;const[a,s]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),this.#Je||r||(e.height=`${(100*parseFloat(t)/s).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#yt(){if(this.#Ze)return;this.#Ze=document.createElement("div"),this.#Ze.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");this.#Ze.append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",this.#bt.bind(this,n),{signal:t}),e.addEventListener("contextmenu",se,{signal:t}),e.tabIndex=-1}this.div.prepend(this.#Ze)}#bt(e,t){t.preventDefault();const{isMac:n}=U.platform;if(0!==t.button||t.ctrlKey&&n)return;this.#o?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#wt.bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",se,{signal:a});const s=this.x,o=this.y,l=this.width,c=this.height,u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const h=()=>{r.abort(),this.parent.togglePointerEvents(!0),this.#o?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#At(s,o,l,c)};window.addEventListener("pointerup",h,{signal:a}),window.addEventListener("blur",h,{signal:a})}#At(e,t,n,i){const r=this.x,a=this.y,s=this.width,o=this.height;r===e&&a===t&&s===n&&o===i||this.addCommands({cmd:()=>{this.width=s,this.height=o,this.x=r,this.y=a;const[e,t]=this.parentDimensions;this.setDims(e*s,t*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=t;const[r,a]=this.parentDimensions;this.setDims(r*n,a*i),this.fixAndSetPosition()},mustExec:!0})}#wt(e,t){const[n,i]=this.parentDimensions,r=this.x,a=this.y,s=this.width,o=this.height,l=_e.MIN_SIZE/n,c=_e.MIN_SIZE/i,u=e=>Math.round(1e4*e)/1e4,d=this.#vt(this.rotation),h=(e,t)=>[d[0]*e+d[2]*t,d[1]*e+d[3]*t],p=this.#vt(360-this.rotation);let f,g,m=!1,v=!1;switch(e){case"topLeft":m=!0,f=(e,t)=>[0,0],g=(e,t)=>[e,t];break;case"topMiddle":f=(e,t)=>[e/2,0],g=(e,t)=>[e/2,t];break;case"topRight":m=!0,f=(e,t)=>[e,0],g=(e,t)=>[0,t];break;case"middleRight":v=!0,f=(e,t)=>[e,t/2],g=(e,t)=>[0,t/2];break;case"bottomRight":m=!0,f=(e,t)=>[e,t],g=(e,t)=>[0,0];break;case"bottomMiddle":f=(e,t)=>[e/2,t],g=(e,t)=>[e/2,0];break;case"bottomLeft":m=!0,f=(e,t)=>[0,t],g=(e,t)=>[e,0];break;case"middleLeft":v=!0,f=(e,t)=>[0,t/2],g=(e,t)=>[e,t/2]}const y=f(s,o),b=g(s,o);let w=h(...b);const A=u(r+w[0]),S=u(a+w[1]);let x=1,T=1,[_,E]=this.screenToPageTranslation(t.movementX,t.movementY);var k,C;if([_,E]=(k=_/n,C=E/i,[p[0]*k+p[2]*C,p[1]*k+p[3]*C]),m){const e=Math.hypot(s,o);x=T=Math.max(Math.min(Math.hypot(b[0]-y[0]-_,b[1]-y[1]-E)/e,1/s,1/o),l/s,c/o)}else v?x=Math.max(l,Math.min(1,Math.abs(b[0]-y[0]-_)))/s:T=Math.max(c,Math.min(1,Math.abs(b[1]-y[1]-E)))/o;const M=u(s*x),P=u(o*T);w=h(...g(M,P));const R=A-w[0],L=S-w[1];this.width=M,this.height=P,this.x=R,this.y=L,this.setDims(n*M,i*P),this.fixAndSetPosition()}altTextFinish(){this.#o?.finish()}async addEditToolbar(){return this._editToolbar||this.#st||(this._editToolbar=new ge(this),this.div.append(this._editToolbar.render()),this.#o&&await this._editToolbar.addAltText(this.#o)),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#o?.destroy())}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#o||(Te.initialize(_e._l10n),this.#o=new Te(this),this.#Qe&&(this.#o.data=this.#Qe,this.#Qe=null),await this.addEditToolbar())}get altTextData(){return this.#o?.data}set altTextData(e){this.#o&&(this.#o.data=e)}get guessedAltText(){return this.#o?.guessedText}async setGuessedAltText(e){await(this.#o?.setGuessedText(e))}serializeAltText(e){return this.#o?.serialize(e)}hasAltText(){return!!this.#o&&!this.#o.isEmpty()}hasAltTextData(){return this.#o?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#Ye?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#St();const[e,t]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),ve(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=U.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#it=!0,this._isDraggable?this.#xt(e):this.#Tt(e))}get isSelected(){return this._uiManager.isSelected(this)}#Tt(e){const{isMac:t}=U.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#xt(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,i=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),this.#ct=e.clientX,this.#ut=e.clientY;const t=e=>{const{clientX:t,clientY:n}=e,[i,r]=this.screenToPageTranslation(t-this.#ct,n-this.#ut);this.#ct=t,this.#ut=n,this._uiManager.dragSelectedEditors(i,r)};window.addEventListener("pointermove",t,{passive:!0,capture:!0,signal:i})}const r=()=>{n.abort(),t&&this.div.classList.remove("moving"),this.#it=!1,this._uiManager.endDragSession()||this.#Tt(e)};window.addEventListener("pointerup",r,{signal:i}),window.addEventListener("blur",r,{signal:i})}moveInDOM(){this.#lt&&clearTimeout(this.#lt),this.#lt=setTimeout((()=>{this.#lt=null,this.parent?.moveEditorInDOM(this)}),0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const i=this.parentScale,[r,a]=this.pageDimensions,[s,o]=this.pageTranslation,l=e/i,c=t/i,u=this.x*r,d=this.y*a,h=this.width*r,p=this.height*a;switch(n){case 0:return[u+l+s,a-d-c-p+o,u+l+h+s,a-d-c+o];case 90:return[u+c+s,a-d+l+o,u+c+p+s,a-d+l+h+o];case 180:return[u-l-h+s,a-d+c+o,u-l+s,a-d+c+p+o];case 270:return[u-c-p+s,a-d-l-h+o,u-c+s,a-d-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,r,a]=e,s=r-n,o=a-i;switch(this.rotation){case 0:return[n,t-a,s,o];case 90:return[n,t-i,o,s];case 180:return[r,t-i,s,o];case 270:return[r,t-a,o,s];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#st=!0}disableEditMode(){this.#st=!1}isInEditMode(){return this.#st}shouldGetKeyboardEvents(){return this.#ot}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#St(){if(this.#tt||!this.div)return;this.#tt=new AbortController;const e=this._uiManager.combinedSignal(this.#tt);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#St()}rotate(e){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){k("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation,i.#Qe=e.accessibilityData;const[r,a]=i.pageDimensions,[s,o,l,c]=i.getRectInCurrentCoords(e.rect,a);return i.x=s/r,i.y=o/a,i.width=l/r,i.height=c/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.#tt?.abort(),this.#tt=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#lt&&(clearTimeout(this.#lt),this.#lt=null),this.#ft(),this.removeEditToolbar(),this.#dt){for(const e of this.#dt.values())clearTimeout(e);this.#dt=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#yt(),this.#Ze.classList.remove("hidden"),ve(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),this.#et={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#Ze.children;if(!this.#Xe){this.#Xe=Array.from(t);const e=this.#_t.bind(this),n=this.#Et.bind(this),i=this._uiManager._signal;for(const t of this.#Xe){const r=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:i}),t.addEventListener("blur",n,{signal:i}),t.addEventListener("focus",this.#kt.bind(this,r),{signal:i}),t.setAttribute("data-l10n-id",_e._l10nResizer[r])}}const n=this.#Xe[0];let i=0;for(const e of t){if(e===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(this.#Xe.length/4);if(r!==i){if(r<i)for(let e=0;e<i-r;e++)this.#Ze.append(this.#Ze.firstChild);else if(r>i)for(let e=0;e<r-i;e++)this.#Ze.firstChild.before(this.#Ze.lastChild);let e=0;for(const n of t){const t=this.#Xe[e++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",_e._l10nResizer[t])}}this.#Ct(0),this.#ot=!0,this.#Ze.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#_t(e){_e._resizerKeyboardManager.exec(this,e)}#Et(e){this.#ot&&e.relatedTarget?.parentNode!==this.#Ze&&this.#ft()}#kt(e){this.#nt=this.#ot?e:""}#Ct(e){if(this.#Xe)for(const t of this.#Xe)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#ot&&this.#wt(this.#nt,{movementX:e,movementY:t})}#ft(){if(this.#ot=!1,this.#Ct(-1),this.#et){const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=this.#et;this.#At(e,t,n,i),this.#et=null}}_stopResizingWithKeyboard(){this.#ft(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this._editToolbar?(this._editToolbar?.show(),this.#o?.toggleAltTextBadge(!1)):this.addEditToolbar().then((()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()}))}unselect(){this.#Ze?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#o?.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#at}set isEditing(e){this.#at=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#Je=!0;const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#dt||=new Map;const{action:t}=e;let n=this.#dt.get(t);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(e),this.#dt.delete(t),0===this.#dt.size&&(this.#dt=null)}),_e._telemetryTimeout),void this.#dt.set(t,n)}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#Ye=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#Ye=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===t?.nodeName&&t.classList.contains("annotationContent")&&t.remove()}}class Ee extends _e{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const ke=3285377520,Ce=4294901760,Me=65535;class Pe{constructor(e){this.h1=e?4294967295&e:ke,this.h2=e?4294967295&e:ke}update(e){let t,n;if("string"==typeof e){t=new Uint8Array(2*e.length),n=0;for(let i=0,r=e.length;i<r;i++){const r=e.charCodeAt(i);r<=255?t[n++]=r:(t[n++]=r>>>8,t[n++]=255&r)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const i=n>>2,r=n-4*i,a=new Uint32Array(t.buffer,0,i);let s=0,o=0,l=this.h1,c=this.h2;const u=3432918353,d=461845907,h=11601,p=13715;for(let e=0;e<i;e++)1&e?(s=a[e],s=s*u&Ce|s*h&Me,s=s<<15|s>>>17,s=s*d&Ce|s*p&Me,l^=s,l=l<<13|l>>>19,l=5*l+3864292196):(o=a[e],o=o*u&Ce|o*h&Me,o=o<<15|o>>>17,o=o*d&Ce|o*p&Me,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(s=0,r){case 3:s^=t[4*i+2]<<16;case 2:s^=t[4*i+1]<<8;case 1:s^=t[4*i],s=s*u&Ce|s*h&Me,s=s<<15|s>>>17,s=s*d&Ce|s*p&Me,1&i?l^=s:c^=s}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&Ce|36045*e&Me,t=4283543511*t&Ce|(2950163797*(t<<16|e>>>16)&Ce)>>>16,e^=t>>>1,e=444984403*e&Ce|60499*e&Me,t=3301882366*t&Ce|(3120437893*(t<<16|e>>>16)&Ce)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Re=Object.freeze({map:null,hash:"",transfer:void 0});class Le{#Mt=!1;#Pt=null;#Rt=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#Rt.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this.#Rt.get(e)}remove(e){if(this.#Rt.delete(e),0===this.#Rt.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const e of this.#Rt.values())if(e instanceof _e)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#Rt.get(e);let i=!1;if(void 0!==n)for(const[e,r]of Object.entries(t))n[e]!==r&&(i=!0,n[e]=r);else i=!0,this.#Rt.set(e,t);i&&this.#Lt(),t instanceof _e&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#Rt.has(e)}getAll(){return this.#Rt.size>0?H(this.#Rt):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return this.#Rt.size}#Lt(){this.#Mt||(this.#Mt=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#Mt&&(this.#Mt=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new Ie(this)}get serializable(){if(0===this.#Rt.size)return Re;const e=new Map,t=new Pe,n=[],i=Object.create(null);let r=!1;for(const[n,a]of this.#Rt){const s=a instanceof _e?a.serialize(!1,i):a;s&&(e.set(n,s),t.update(`${n}:${JSON.stringify(s)}`),r||=!!s.bitmap)}if(r)for(const t of e.values())t.bitmap&&n.push(t.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Re}get editorStats(){let e=null;const t=new Map;for(const n of this.#Rt.values()){if(!(n instanceof _e))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:r}=i;t.has(r)||t.set(r,Object.getPrototypeOf(n).constructor),e||=Object.create(null);const a=e[r]||=new Map;for(const[e,t]of Object.entries(i)){if("type"===e)continue;let n=a.get(e);n||(n=new Map,a.set(e,n));const i=n.get(t)??0;n.set(t,i+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){this.#Pt=null}get modifiedIds(){if(this.#Pt)return this.#Pt;const e=[];for(const t of this.#Rt.values())t instanceof _e&&t.annotationElementId&&t.serialize()&&e.push(t.annotationElementId);return this.#Pt={ids:new Set(e),hash:e.join(",")}}}class Ie extends Le{#It;constructor(e){super();const{map:t,hash:n,transfer:i}=e.serializable,r=structuredClone(t,i?{transfer:i}:null);this.#It={map:r,hash:n,transfer:i}}get print(){k("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#It}get modifiedIds(){return P(this,"modifiedIds",{ids:new Set,hash:""})}}class De{#Dt=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#Dt.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(e&&!this.#Dt.has(e.loadedName))if(C(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:r}=e,a=new FontFace(n,i,r);this.addNativeFontFace(a);try{await a.load(),this.#Dt.add(n),t?.(e)}catch{E(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}}else k("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw E(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){return P(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let e=!1;return(u||"undefined"!=typeof navigator&&"string"==typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),P(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(C(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return P(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,i){return e.substring(0,t)+i+e.substring(t+n)}let r,a;const s=this._document.createElement("canvas");s.width=1,s.height=1;const o=s.getContext("2d");let l=0;const c=`lt${Date.now()}${this.loadTestFontId++}`;let u=this._loadTestFont;u=i(u,976,c.length,c);const d=1482184792;let h=n(u,16);for(r=0,a=c.length-3;r<a;r+=4)h=h-d+n(c,r)|0;var p;r<c.length&&(h=h-d+n(c+"XXX",r)|0),u=i(u,16,4,(p=h,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const f=`@font-face {font-family:"${c}";src:url(data:font/opentype;base64,${btoa(u)});}`;this.insertRule(f);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const t of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=t,g.append(e)}this._document.body.append(g),function e(t,n){if(++l>30)return E("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,(()=>{g.remove(),t.complete()}))}}class Ne{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const t in e)this[t]=e[t];this.disableFontFace=!0===t,this._inspectFont=n}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${t=this.data,Uint8Array.prototype.toBase64?t.toBase64():btoa(j(t))});`;var t;let n;if(this.cssFontInfo){let t=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(t+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${t}src:${e}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this._inspectFont?.(this,e),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(e){E(`getPathGenerator - ignoring character: "${e}".`)}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[t]=function(e,t){};const i=[];for(let e=0,t=n.length;e<t;)switch(n[e++]){case 0:{const[t,r,a,s,o,l]=n.slice(e,e+6);i.push((e=>e.bezierCurveTo(t,r,a,s,o,l))),e+=6}break;case 1:{const[t,r]=n.slice(e,e+2);i.push((e=>e.moveTo(t,r))),e+=2}break;case 2:{const[t,r]=n.slice(e,e+2);i.push((e=>e.lineTo(t,r))),e+=2}break;case 3:{const[t,r,a,s]=n.slice(e,e+4);i.push((e=>e.quadraticCurveTo(t,r,a,s))),e+=4}break;case 4:i.push((e=>e.restore()));break;case 5:i.push((e=>e.save()));break;case 6:C(2===i.length,"Scale command is only valid at the third position.");break;case 7:{const[t,r,a,s,o,l]=n.slice(e,e+6);i.push((e=>e.transform(t,r,a,s,o,l))),e+=6}break;case 8:{const[t,r]=n.slice(e,e+2);i.push((e=>e.translate(t,r))),e+=2}}return this.compiledGlyphs[t]=function(e,t){i[0](e),i[1](e),e.scale(t,-t);for(let t=2,n=i.length;t<n;t++)i[t](e)}}}class Fe{#Nt=!1;constructor({enableHWA:e=!1}){this.#Nt=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#Nt})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){k("Abstract method `_createCanvas` called.")}}class Oe{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then((e=>({cMapData:e,isCompressed:this.isCompressed}))).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)}))}async _fetch(e){k("Abstract method `_fetch` called.")}}class ze extends Oe{async _fetch(e){const t=await Y(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):B(t)}}class je{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,r){return"none"}destroy(e=!1){}}class Be{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch((e=>{throw new Error(`Unable to load font data at: ${t}`)}))}async _fetch(e){k("Abstract method `_fetch` called.")}}class He extends Be{async _fetch(e){const t=await Y(e,"arraybuffer");return new Uint8Array(t)}}if(u){var Ue=Promise.withResolvers(),$e=null;(async()=>{const e=await import("fs"),t=await import("http"),n=await import("https"),i=await import("url");return new Map(Object.entries({fs:e,http:t,https:n,url:i,canvas:void 0,path2d:void 0}))})().then((e=>{$e=e,Ue.resolve()}),(e=>{E(`loadPackages: ${e}`),$e=new Map,Ue.resolve()}))}class qe{static get promise(){return Ue.promise}static get(e){return $e?.get(e)}}async function We(e){const t=qe.get("fs"),n=await t.promises.readFile(e);return new Uint8Array(n)}const Ve="Fill",Ge="Stroke",Ke="Shading";function Qe(e,t){if(!t)return;const n=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],n,i),e.clip(r)}class Xe{getPattern(){k("Abstract method `getPattern` called.")}}class Ye extends Xe{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const e of this._colorStops)t.addColorStop(e[0],e[1]);return t}getPattern(e,t,n,i){let r;if(i===Ge||i===Ve){const a=t.current.getClippedPathBoundingBox(i,de(e))||[0,0,0,0],s=Math.ceil(a[2]-a[0])||1,o=Math.ceil(a[3]-a[1])||1,l=t.cachedCanvases.getCanvas("pattern",s,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=q.transform(n,[1,0,0,1,a[0],a[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),Qe(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),r=e.createPattern(l.canvas,"no-repeat");const u=new DOMMatrix(n);r.setTransform(u)}else Qe(e,this._bbox),r=this._createGradient(e);return r}}function Je(e,t,n,i,r,a,s,o){const l=t.coords,c=t.colors,u=e.data,d=4*e.width;let h;l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=a,a=s,s=h),l[i+1]>l[r+1]&&(h=i,i=r,r=h,h=s,s=o,o=h),l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=a,a=s,s=h);const p=(l[n]+t.offsetX)*t.scaleX,f=(l[n+1]+t.offsetY)*t.scaleY,g=(l[i]+t.offsetX)*t.scaleX,m=(l[i+1]+t.offsetY)*t.scaleY,v=(l[r]+t.offsetX)*t.scaleX,y=(l[r+1]+t.offsetY)*t.scaleY;if(f>=y)return;const b=c[a],w=c[a+1],A=c[a+2],S=c[s],x=c[s+1],T=c[s+2],_=c[o],E=c[o+1],k=c[o+2],C=Math.round(f),M=Math.round(y);let P,R,L,I,D,N,F,O;for(let e=C;e<=M;e++){if(e<m){const t=e<f?0:(f-e)/(f-m);P=p-(p-g)*t,R=b-(b-S)*t,L=w-(w-x)*t,I=A-(A-T)*t}else{let t;t=e>y?1:m===y?0:(m-e)/(m-y),P=g-(g-v)*t,R=S-(S-_)*t,L=x-(x-E)*t,I=T-(T-k)*t}let t;t=e<f?0:e>y?1:(f-e)/(f-y),D=p-(p-v)*t,N=b-(b-_)*t,F=w-(w-E)*t,O=A-(A-k)*t;const n=Math.round(Math.min(P,D)),i=Math.round(Math.max(P,D));let r=d*e+4*n;for(let e=n;e<=i;e++)t=(P-e)/(P-D),t<0?t=0:t>1&&(t=1),u[r++]=R-(R-N)*t|0,u[r++]=L-(L-F)*t|0,u[r++]=I-(I-O)*t|0,u[r++]=255}}function Ze(e,t,n){const i=t.coords,r=t.colors;let a,s;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(a=0;a<l;a++){let t=a*o;for(let a=0;a<c;a++,t++)Je(e,n,i[t],i[t+1],i[t+o],r[t],r[t+1],r[t+o]),Je(e,n,i[t+o+1],i[t+1],i[t+o],r[t+o+1],r[t+1],r[t+o])}break;case"triangles":for(a=0,s=i.length;a<s;a+=3)Je(e,n,i[a],i[a+1],i[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class et extends Xe{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const i=Math.floor(this._bounds[0]),r=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-i,s=Math.ceil(this._bounds[3])-r,o=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),c=a/o,u=s/l,d={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-r,scaleX:1/c,scaleY:1/u},h=o+4,p=l+4,f=n.getCanvas("mesh",h,p),g=f.context,m=g.createImageData(o,l);if(t){const e=m.data;for(let n=0,i=e.length;n<i;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const e of this._figures)Ze(m,e,d);return g.putImageData(m,2,2),{canvas:f.canvas,offsetX:i-2*c,offsetY:r-2*u,scaleX:c,scaleY:u}}getPattern(e,t,n,i){let r;if(Qe(e,this._bbox),i===Ke)r=q.singularValueDecompose2dScale(de(e));else if(r=q.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=q.singularValueDecompose2dScale(this.matrix);r=[r[0]*e[0],r[1]*e[1]]}const a=this._createMeshCanvas(r,i===Ke?null:this._background,t.cachedCanvases);return i!==Ke&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class tt extends Xe{getPattern(){return"hotpink"}}class nt{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,i,r){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:i,tilingType:r,color:a,canvasGraphicsFactory:s}=this;let{xstep:o,ystep:l}=this;o=Math.abs(o),l=Math.abs(l),_("TilingType: "+r);const c=t[0],u=t[1],d=t[2],h=t[3],p=d-c,f=h-u,g=q.singularValueDecompose2dScale(this.matrix),m=q.singularValueDecompose2dScale(this.baseTransform),v=g[0]*m[0],y=g[1]*m[1];let b=p,w=f,A=!1,S=!1;const x=Math.ceil(o*v),T=Math.ceil(l*y);x>=Math.ceil(p*v)?b=o:A=!0,T>=Math.ceil(f*y)?w=l:S=!0;const E=this.getSizeAndScale(b,this.ctx.canvas.width,v),k=this.getSizeAndScale(w,this.ctx.canvas.height,y),C=e.cachedCanvases.getCanvas("pattern",E.size,k.size),M=C.context,P=s.createCanvasGraphics(M);if(P.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(P,i,a),M.translate(-E.scale*c,-k.scale*u),P.transform(E.scale,0,0,k.scale,0,0),M.save(),this.clipBbox(P,c,u,d,h),P.baseTransform=de(P.ctx),P.executeOperatorList(n),P.endDrawing(),M.restore(),A||S){const t=C.canvas;A&&(b=o),S&&(w=l);const n=this.getSizeAndScale(b,this.ctx.canvas.width,v),i=this.getSizeAndScale(w,this.ctx.canvas.height,y),r=n.size,a=i.size,s=e.cachedCanvases.getCanvas("pattern-workaround",r,a),d=s.context,h=A?Math.floor(p/o):0,g=S?Math.floor(f/l):0;for(let e=0;e<=h;e++)for(let n=0;n<=g;n++)d.drawImage(t,r*e,a*n,r,a,0,0,r,a);return{canvas:s.canvas,scaleX:n.scale,scaleY:i.scale,offsetX:c,offsetY:u}}return{canvas:C.canvas,scaleX:E.scale,scaleY:k.scale,offsetX:c,offsetY:u}}getSizeAndScale(e,t,n){const i=Math.max(nt.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*n);return r>=i?r=i:n=r/e,{scale:n,size:r}}clipBbox(e,t,n,i,r){const a=i-t,s=r-n;e.ctx.rect(t,n,a,s),e.current.updateRectMinMax(de(e.ctx),[t,n,i,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,r=e.current;switch(t){case 1:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,r.fillColor=e.fillStyle,r.strokeColor=e.strokeStyle;break;case 2:const a=q.makeHexColor(n[0],n[1],n[2]);i.fillStyle=a,i.strokeStyle=a,r.fillColor=a,r.strokeColor=a;break;default:throw new O(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let r=n;i!==Ke&&(r=q.transform(r,t.baseTransform),this.matrix&&(r=q.transform(r,this.matrix)));const a=this.createPatternCanvas(t);let s=new DOMMatrix(r);s=s.translate(a.offsetX,a.offsetY),s=s.scale(1/a.scaleX,1/a.scaleY);const o=e.createPattern(a.canvas,"repeat");return o.setTransform(s),o}}function it({src:e,srcPos:t=0,dest:n,width:i,height:r,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=U.isLittleEndian?4278190080:255,[l,c]=s?[a,o]:[o,a],u=i>>3,d=7&i,h=e.length;n=new Uint32Array(n.buffer);let p=0;for(let i=0;i<r;i++){for(const i=t+u;t<i;t++){const i=t<h?e[t]:255;n[p++]=128&i?c:l,n[p++]=64&i?c:l,n[p++]=32&i?c:l,n[p++]=16&i?c:l,n[p++]=8&i?c:l,n[p++]=4&i?c:l,n[p++]=2&i?c:l,n[p++]=1&i?c:l}if(0===d)continue;const i=t<h?e[t++]:255;for(let e=0;e<d;e++)n[p++]=i&1<<7-e?c:l}return{srcPos:t,destPos:p}}const rt=16;class at{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function st(e,t,n,i,r,a,s,o,l,c){const[u,d,h,p,f,g]=de(e);if(0===d&&0===h){const m=s*u+f,v=Math.round(m),y=o*p+g,b=Math.round(y),w=(s+l)*u+f,A=Math.abs(Math.round(w)-v)||1,S=(o+c)*p+g,x=Math.abs(Math.round(S)-b)||1;return e.setTransform(Math.sign(u),0,0,Math.sign(p),v,b),e.drawImage(t,n,i,r,a,0,0,A,x),e.setTransform(u,d,h,p,f,g),[A,x]}if(0===u&&0===p){const m=o*h+f,v=Math.round(m),y=s*d+g,b=Math.round(y),w=(o+c)*h+f,A=Math.abs(Math.round(w)-v)||1,S=(s+l)*d+g,x=Math.abs(Math.round(S)-b)||1;return e.setTransform(0,Math.sign(d),Math.sign(h),0,v,b),e.drawImage(t,n,i,r,a,0,0,x,A),e.setTransform(u,d,h,p,f,g),[x,A]}return e.drawImage(t,n,i,r,a,s,o,l,c),[Math.hypot(u,d)*l,Math.hypot(h,p)*c]}class ot{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=d,this.textMatrixScale=1,this.fontMatrix=h,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=0,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=q.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=q.applyTransform(t,e),i=q.applyTransform(t.slice(2),e),r=q.applyTransform([t[0],t[3]],e),a=q.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],r[0],a[0]),this.minY=Math.min(this.minY,n[1],i[1],r[1],a[1]),this.maxX=Math.max(this.maxX,n[0],i[0],r[0],a[0]),this.maxY=Math.max(this.maxY,n[1],i[1],r[1],a[1])}updateScalingPathMinMax(e,t){q.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,r,a,s,o,l,c){const u=q.bezierBoundingBox(t,n,i,r,a,s,o,l,c);c||this.updateRectMinMax(e,u)}getPathBoundingBox(e=Ve,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ge){t||k("Stroke bounding box must include transform.");const e=q.singularValueDecompose2dScale(t),i=e[0]*this.lineWidth/2,r=e[1]*this.lineWidth/2;n[0]-=i,n[1]-=r,n[2]+=i,n[3]+=r}return n}updateClipFromPath(){const e=q.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Ve,t=null){return q.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function lt(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,i=t.width,r=n%rt,a=(n-r)/rt,s=0===r?a:a+1,o=e.createImageData(i,rt);let l,c=0;const u=t.data,d=o.data;let h,p,f,g;if(t.kind===y.GRAYSCALE_1BPP){const t=u.byteLength,n=new Uint32Array(d.buffer,0,d.byteLength>>2),g=n.length,m=i+7>>3,v=4294967295,y=U.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(f=h<a?rt:r,l=0,p=0;p<f;p++){const e=t-c;let r=0;const a=e>m?i:8*e-7,s=-8&a;let o=0,d=0;for(;r<s;r+=8)d=u[c++],n[l++]=128&d?v:y,n[l++]=64&d?v:y,n[l++]=32&d?v:y,n[l++]=16&d?v:y,n[l++]=8&d?v:y,n[l++]=4&d?v:y,n[l++]=2&d?v:y,n[l++]=1&d?v:y;for(;r<a;r++)0===o&&(d=u[c++],o=128),n[l++]=d&o?v:y,o>>=1}for(;l<g;)n[l++]=0;e.putImageData(o,0,h*rt)}}else if(t.kind===y.RGBA_32BPP){for(p=0,g=i*rt*4,h=0;h<a;h++)d.set(u.subarray(c,c+g)),c+=g,e.putImageData(o,0,p),p+=rt;h<s&&(g=i*r*4,d.set(u.subarray(c,c+g)),e.putImageData(o,0,p))}else{if(t.kind!==y.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(f=rt,g=i*f,h=0;h<s;h++){for(h>=a&&(f=r,g=i*f),l=0,p=g;p--;)d[l++]=u[c++],d[l++]=u[c++],d[l++]=u[c++],d[l++]=255;e.putImageData(o,0,h*rt)}}}function ct(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,i=t.width,r=n%rt,a=(n-r)/rt,s=0===r?a:a+1,o=e.createImageData(i,rt);let l=0;const c=t.data,u=o.data;for(let t=0;t<s;t++){const n=t<a?rt:r;({srcPos:l}=it({src:c,srcPos:l,dest:u,width:i,height:n,nonBlackColor:0})),e.putImageData(o,0,t*rt)}}function ut(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==e[i]&&(t[i]=e[i]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function dt(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!u){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function ht(e,t){if(t)return!0;const n=q.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*X.PDF_TO_CSS_UNITS);return n[0]<=i&&n[1]<=i}const pt=["butt","round","square"],ft=["miter","round","bevel"],gt={},mt={};class vt{constructor(e,t,n,i,r,{optionalContentConfig:a,markedContentStack:s=null},o,l){this.ctx=e,this.current=new ot(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=s||[],this.optionalContentConfig=a,this.cachedCanvases=new at(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=o,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,s=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=s,n){const e=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...de(this.compositeCtx))}this.ctx.save(),dt(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=de(this.ctx)}executeOperatorList(e,t,n,i){const r=e.argsArray,a=e.fnArray;let s=t||0;const o=r.length;if(o===s)return s;const l=o-s>10&&"function"==typeof n,c=l?Date.now()+15:0;let u=0;const d=this.commonObjs,h=this.objs;let p;for(;;){if(void 0!==i&&s===i.nextBreakPoint)return i.breakIt(s,n),s;if(p=a[s],p!==w.dependency)this[p].apply(this,r[s]);else for(const e of r[s]){const t=e.startsWith("g_")?d:h;if(!t.has(e))return t.get(e,n),s}if(s++,s===o)return s;if(l&&++u>10){if(Date.now()>c)return n(),s;u=0}}}#Ft(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#Ft(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#Ot()}#Ot(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let r,a,s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=i,u="prescale1";for(;s>2&&l>1||o>2&&c>1;){let t=l,n=c;s>2&&l>1&&(t=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/t),o>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/n),r=this.cachedCanvases.getCanvas(u,t,n),a=r.context,a.clearRect(0,0,t,n),a.drawImage(e,0,0,l,c,0,0,t,n),e=r.canvas,l=t,c=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,r=this.current.fillColor,a=this.current.patternFill,s=de(t);let o,l,c,u;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;l=JSON.stringify(a?s:[s.slice(0,4),r]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const n=o.get(l);if(n&&!a)return{canvas:n,offsetX:Math.round(Math.min(s[0],s[2])+s[4]),offsetY:Math.round(Math.min(s[1],s[3])+s[5])};c=n}c||(u=this.cachedCanvases.getCanvas("maskCanvas",n,i),ct(u.context,e));let d=q.transform(s,[1/n,0,0,-1/i,0,0]);d=q.transform(d,[1,0,0,1,0,-i]);const[h,p,f,g]=q.getAxialAlignedBoundingBox([0,0,n,i],d),m=Math.round(f-h)||1,v=Math.round(g-p)||1,y=this.cachedCanvases.getCanvas("fillCanvas",m,v),b=y.context,w=h,A=p;b.translate(-w,-A),b.transform(...d),c||(c=this._scaleImage(u.canvas,he(b)),c=c.img,o&&a&&o.set(l,c)),b.imageSmoothingEnabled=ht(de(b),e.interpolate),st(b,c,0,0,c.width,c.height,0,0,n,i),b.globalCompositeOperation="source-in";const S=q.transform(he(b),[1,0,0,1,-w,-A]);return b.fillStyle=a?r.getPattern(t,this,S,Ve):r,b.fillRect(0,0,n,i),o&&!a&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,y.canvas)),{canvas:y.canvas,offsetX:Math.round(w),offsetY:Math.round(A)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=pt[e]}setLineJoin(e){this.ctx.lineJoin=ft[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const r=this.ctx;r.setTransform(...de(this.suspendedCtx)),ut(this.suspendedCtx,r),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,i,r,a,s){t.transform(e,n,i,r,a,s),this.__originalTransform(e,n,i,r,a,s)},e.setTransform=function(e,n,i,r,a,s){t.setTransform(e,n,i,r,a,s),this.__originalSetTransform(e,n,i,r,a,s)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,i,r,a,s){t.bezierCurveTo(e,n,i,r,a,s),this.__originalBezierCurveTo(e,n,i,r,a,s)},e.rect=function(e,n,i,r){t.rect(e,n,i,r),this.__originalRect(e,n,i,r)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ut(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const r=i[0],a=i[1],s=i[2]-r,o=i[3]-a;0!==s&&0!==o&&(this.genericComposeSMask(t.context,n,s,o,t.subtype,t.backdrop,t.transferMap,r,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,r,a,s,o,l,c,u){let d=e.canvas,h=o-c,p=l-u;if(a){const t=q.makeHexColor(...a);if(h<0||p<0||h+n>d.width||p+i>d.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,i),r=e.context;r.drawImage(d,-h,-p),r.globalCompositeOperation="destination-atop",r.fillStyle=t,r.fillRect(0,0,n,i),r.globalCompositeOperation="source-over",d=e.canvas,h=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const r=new Path2D;r.rect(h,p,n,i),e.clip(r),e.globalCompositeOperation="destination-atop",e.fillStyle=t,e.fillRect(h,p,n,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===r&&s?t.filter=this.filterFactory.addAlphaFilter(s):"Luminosity"===r&&(t.filter=this.filterFactory.addLuminosityFilter(s));const f=new Path2D;f.rect(o,l,n,i),t.clip(f),t.globalCompositeOperation="destination-in",t.drawImage(d,h,p,n,i,o,l,n,i),t.restore()}save(){this.inSMaskMode?(ut(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ut(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,r,a){this.ctx.transform(e,t,n,i,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,r=this.current;let a,s,o=r.x,l=r.y;const c=de(i),u=0===c[0]&&0===c[3]||0===c[1]&&0===c[2],d=u?n.slice(0):null;for(let n=0,h=0,p=e.length;n<p;n++)switch(0|e[n]){case w.rectangle:o=t[h++],l=t[h++];const e=t[h++],n=t[h++],p=o+e,f=l+n;i.moveTo(o,l),0===e||0===n?i.lineTo(p,f):(i.lineTo(p,l),i.lineTo(p,f),i.lineTo(o,f)),u||r.updateRectMinMax(c,[o,l,p,f]),i.closePath();break;case w.moveTo:o=t[h++],l=t[h++],i.moveTo(o,l),u||r.updatePathMinMax(c,o,l);break;case w.lineTo:o=t[h++],l=t[h++],i.lineTo(o,l),u||r.updatePathMinMax(c,o,l);break;case w.curveTo:a=o,s=l,o=t[h+4],l=t[h+5],i.bezierCurveTo(t[h],t[h+1],t[h+2],t[h+3],o,l),r.updateCurvePathMinMax(c,a,s,t[h],t[h+1],t[h+2],t[h+3],o,l,d),h+=6;break;case w.curveTo2:a=o,s=l,i.bezierCurveTo(o,l,t[h],t[h+1],t[h+2],t[h+3]),r.updateCurvePathMinMax(c,a,s,o,l,t[h],t[h+1],t[h+2],t[h+3],d),o=t[h+2],l=t[h+3],h+=4;break;case w.curveTo3:a=o,s=l,o=t[h+2],l=t[h+3],i.bezierCurveTo(t[h],t[h+1],o,l,o,l),r.updateCurvePathMinMax(c,a,s,t[h],t[h+1],o,l,o,l,d),h+=4;break;case w.closePath:i.closePath()}u&&r.updateScalingPathMinMax(c,d),r.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof n&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,he(t),Ge),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor;let i=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,he(t),Ve),i=!0);const r=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==r&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=gt}eoClip(){this.pendingClip=mt}beginText(){this.current.textMatrix=d,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||h,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||E("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const r=n.loadedName||"sans-serif",a=n.systemFontInfo?.css||`"${r}", ${n.fallbackName}`;let s="normal";n.black?s="900":n.bold&&(s="bold");const o=n.italic?"italic":"normal";let l=t;t<16?l=16:t>100&&(l=100),this.current.fontSizeScale=t/l,this.ctx.font=`${o} ${s} ${l}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,r,a){this.current.textMatrix=[e,t,n,i,r,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i){const r=this.ctx,a=this.current,s=a.font,o=a.textRenderingMode,l=a.fontSize/a.fontSizeScale,c=3&o,u=!!(4&o),d=a.patternFill&&!s.missingFile;let h;(s.disableFontFace||u||d)&&(h=s.getPathGenerator(this.commonObjs,e)),s.disableFontFace||d?(r.save(),r.translate(t,n),r.beginPath(),h(r,l),i&&r.setTransform(...i),0!==c&&2!==c||r.fill(),1!==c&&2!==c||r.stroke(),r.restore()):(0!==c&&2!==c||r.fillText(e,t,n),1!==c&&2!==c||r.strokeText(e,t,n)),u&&(this.pendingTextPaths||=[]).push({transform:de(r),x:t,y:n,fontSize:l,addToPath:h})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let e=3;e<t.length;e+=4)if(t[e]>0&&t[e]<255){n=!0;break}return P(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(0===i)return;const r=this.ctx,a=t.fontSizeScale,s=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,u=e.length,d=n.vertical,h=d?1:-1,p=n.defaultVMetrics,f=i*t.fontMatrix[0],g=0===t.textRenderingMode&&!n.disableFontFace&&!t.patternFill;let m;if(r.save(),r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),l>0?r.scale(c,-1):r.scale(c,1),t.patternFill){r.save();const e=t.fillColor.getPattern(r,this,he(r),Ve);m=de(r),r.restore(),r.fillStyle=e}let v=t.lineWidth;const y=t.textMatrixScale;if(0===y||0===v){const e=3&t.textRenderingMode;1!==e&&2!==e||(v=this.getSinglePixelWidth())}else v/=y;if(1!==a&&(r.scale(a,a),v/=a),r.lineWidth=v,n.isInvalidPDFjsFont){const n=[];let i=0;for(const t of e)n.push(t.unicode),i+=t.width;return r.fillText(n.join(""),0,0),t.x+=i*f*c,r.restore(),void this.compose()}let b,w=0;for(b=0;b<u;++b){const t=e[b];if("number"==typeof t){w+=h*t*i/1e3;continue}let c=!1;const u=(t.isSpace?o:0)+s,v=t.fontChar,y=t.accent;let A,S,x=t.width;if(d){const e=t.vmetric||p,n=-(t.vmetric?e[1]:.5*x)*f,i=e[2]*f;x=e?-e[0]:x,A=n/a,S=(w+i)/a}else A=w/a,S=0;if(n.remeasure&&x>0){const e=1e3*r.measureText(v).width/i*a;if(x<e&&this.isFontSubpixelAAEnabled){const t=x/e;c=!0,r.save(),r.scale(t,1),A/=t}else x!==e&&(A+=(x-e)/2e3*i/a)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(g&&!y)r.fillText(v,A,S);else if(this.paintChar(v,A,S,m),y){const e=A+i*y.offset.x/a,t=S-i*y.offset.y/a;this.paintChar(y.fontChar,e,t,m)}w+=d?x*f-u*l:x*f+u*l,c&&r.restore()}d?t.y-=w:t.x+=w*c,r.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,r=n.fontSize,a=n.fontDirection,s=i.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*a,u=n.fontMatrix||h,d=e.length;let p,f,g,m;if(3!==n.textRenderingMode&&0!==r){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(c,a),p=0;p<d;++p){if(f=e[p],"number"==typeof f){m=s*f*r/1e3,this.ctx.translate(m,0),n.x+=m*c;continue}const a=(f.isSpace?l:0)+o,d=i.charProcOperatorList[f.operatorListId];d?(this.contentVisible&&(this.processingType3=f,this.save(),t.scale(r,r),t.transform(...u),this.executeOperatorList(d),this.restore()),g=q.applyTransform([f.width,0],u)[0]*r+a,t.translate(g,0),n.x+=g*c):E(`Type3 character "${f.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,r,a){this.ctx.rect(n,i,r-n,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],i=this.baseTransform||de(this.ctx),r={createCanvasGraphics:e=>new vt(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new nt(e,n,this.ctx,r,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=q.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=q.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=function(e){switch(e[0]){case"RadialAxial":return new Ye(e);case"Mesh":return new et(e);case"Dummy":return new tt}throw new Error(`Unknown IR type: ${e[0]}`)}(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,he(t),Ke);const i=he(t);if(i){const{width:e,height:n}=t.canvas,[r,a,s,o]=q.getAxialAlignedBoundingBox([0,0,e,n],i);this.ctx.fillRect(r,a,s-r,o-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){k("Should not call beginInlineImage")}beginImageData(){k("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=de(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax(de(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||_("TODO: Support non-isolated groups."),e.knockout&&E("Knockout groups not supported.");const n=de(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=q.getAxialAlignedBoundingBox(e.bbox,de(t));const r=[0,0,t.canvas.width,t.canvas.height];i=q.intersect(i,r)||[0,0,0,0];const a=Math.floor(i[0]),s=Math.floor(i[1]),o=Math.max(Math.ceil(i[2])-a,1),l=Math.max(Math.ceil(i[3])-s,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(c,o,l),d=u.context;d.translate(-a,-s),d.transform(...n),e.smask?this.smaskStack.push({canvas:u.canvas,context:d,offsetX:a,offsetY:s,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,s),t.save()),ut(t,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=de(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=q.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,i,r){if(this.#Ft(),dt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const i=t[2]-t[0],a=t[3]-t[1];if(r&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=i,t[3]=a;const[r,s]=q.singularValueDecompose2dScale(de(this.ctx)),{viewportScale:o}=this,l=Math.ceil(i*this.outputScaleX*o),c=Math.ceil(a*this.outputScaleY*o);this.annotationCanvas=this.canvasFactory.create(l,c);const{canvas:u,context:d}=this.annotationCanvas;this.annotationCanvasMap.set(e,u),this.annotationCanvas.savedCtx=this.ctx,this.ctx=d,this.ctx.save(),this.ctx.setTransform(r,0,0,-s,0,a*s),dt(this.ctx)}else dt(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],i,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new ot(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#Ot(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,i=this.processingType3;if(i&&(void 0===i.compiled&&(i.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=t+1;let a,s,o,l=new Uint8Array(r*(n+1));const c=t+7&-8;let u=new Uint8Array(c*n),d=0;for(const t of e.data){let e=128;for(;e>0;)u[d++]=t&e?0:255,e>>=1}let h=0;for(d=0,0!==u[d]&&(l[0]=1,++h),s=1;s<t;s++)u[d]!==u[d+1]&&(l[s]=u[d]?2:1,++h),d++;for(0!==u[d]&&(l[s]=2,++h),a=1;a<n;a++){d=a*c,o=a*r,u[d-c]!==u[d]&&(l[o]=u[d]?1:8,++h);let e=(u[d]?4:0)+(u[d-c]?8:0);for(s=1;s<t;s++)e=(e>>2)+(u[d+1]?4:0)+(u[d-c+1]?8:0),i[e]&&(l[o+s]=i[e],++h),d++;if(u[d-c]!==u[d]&&(l[o+s]=u[d]?2:4,++h),h>1e3)return null}for(d=c*(n-1),o=a*r,0!==u[d]&&(l[o]=8,++h),s=1;s<t;s++)u[d]!==u[d+1]&&(l[o+s]=u[d]?4:8,++h),d++;if(0!==u[d]&&(l[o+s]=4,++h),h>1e3)return null;const p=new Int32Array([0,r,-1,0,-r,0,0,0,1]),f=new Path2D;for(a=0;h&&a<=n;a++){let e=a*r;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;f.moveTo(e%r,a);const i=e;let s=l[e];do{const t=p[s];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(s=n,l[e]=0):(s=n&51*s>>4,l[e]&=s>>2|s<<2),f.lineTo(e%r,e/r|0),l[e]||--h}while(i!==e);--a}return u=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(f),e.beginPath(),e.restore()}}(e)),i.compiled))return void i.compiled(n);const r=this._createMaskCanvas(e),a=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,i=0,r,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const s=this.ctx;s.save();const o=de(s);s.transform(t,n,i,r,0,0);const l=this._createMaskCanvas(e);s.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let e=0,c=a.length;e<c;e+=2){const c=q.transform(o,[t,n,i,r,a[e],a[e+1]]),[u,d]=q.applyTransform([0,0],c);s.drawImage(l.canvas,u,d)}s.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const r of e){const{data:e,width:a,height:s,transform:o}=r,l=this.cachedCanvases.getCanvas("maskCanvas",a,s),c=l.context;c.save(),ct(c,this.getObject(e,r)),c.globalCompositeOperation="source-in",c.fillStyle=i?n.getPattern(c,this,he(t),Ve):n,c.fillRect(0,0,a,s),c.restore(),t.save(),t.transform(...o),t.scale(1,-1),st(t,l.canvas,0,0,a,s,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):E("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const r=this.getObject(e);if(!r)return void E("Dependent image isn't ready yet");const a=r.width,s=r.height,o=[];for(let e=0,r=i.length;e<r;e+=2)o.push({transform:[t,0,0,n,i[e],i[e+1]],x:0,y:0,w:a,h:s});this.paintInlineImageXObjectGroup(r,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",n,i),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!u){const{filter:e}=i;"none"!==e&&""!==e&&(i.filter="none")}let r;if(i.scale(1/t,-1/n),e.bitmap)r=this.applyTransferMapsToBitmap(e);else if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)r=e;else{const i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;lt(i,e),r=this.applyTransferMapsToCanvas(i)}const a=this._scaleImage(r,he(i));i.imageSmoothingEnabled=ht(de(i),e.interpolate),st(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const t=e.width,n=e.height,r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;lt(r,e),i=this.applyTransferMapsToCanvas(r)}for(const e of t)n.save(),n.transform(...e.transform),n.scale(1,-1),st(n,i,e.x,e.y,e.w,e.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===mt?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=de(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:r}=this.ctx.getTransform();let a,s;if(0===n&&0===i){const n=Math.abs(t),i=Math.abs(r);if(n===i)if(0===e)a=s=1/n;else{const t=n*e;a=s=t<1?1/t:1}else if(0===e)a=1/n,s=1/i;else{const t=n*e,r=i*e;a=t<1?1/t:1,s=r<1?1/r:1}}else{const o=Math.abs(t*r-n*i),l=Math.hypot(t,n),c=Math.hypot(i,r);if(0===e)a=c/o,s=l/o;else{const t=e*o;a=c>t?c/t:1,s=l>t?l/t:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,r]=this.getScaleForStroking();if(t.lineWidth=n||1,1===i&&1===r)return void t.stroke();const a=t.getLineDash();if(e&&t.save(),t.scale(i,r),a.length>0){const e=Math.max(i,r);t.setLineDash(a.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const e in w)void 0!==vt.prototype[e]&&(vt.prototype[w[e]]=vt.prototype[e]);class yt{static#zt=null;static#jt="";static get workerPort(){return this.#zt}static set workerPort(e){if(!("undefined"!=typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");this.#zt=e}static get workerSrc(){return this.#jt}static set workerSrc(e){if("string"!=typeof e)throw new Error("Invalid `workerSrc` type.");this.#jt=e}}function bt(e){switch(e instanceof Error||"object"==typeof e&&null!==e||k('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new z(e.message);case"MissingPDFException":return new N(e.message);case"PasswordException":return new L(e.message,e.code);case"UnexpectedResponseException":return new F(e.message,e.status);case"UnknownErrorException":return new I(e.message,e.details);default:return new I(e.message,e.toString())}}class wt{#Bt=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#Ht.bind(this),{signal:this.#Bt.signal})}#Ht({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream)return void this.#Ut(e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error(`Cannot resolve callback ${t}`);if(delete this.callbackCapabilities[t],1===e.callback)n.resolve(e.data);else{if(2!==e.callback)throw new Error("Unexpected callback case");n.reject(bt(e.reason))}return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,r=this.comObj;new Promise((function(n){n(t(e.data))})).then((function(t){r.postMessage({sourceName:n,targetName:i,callback:1,callbackId:e.callbackId,data:t})}),(function(t){r.postMessage({sourceName:n,targetName:i,callback:2,callbackId:e.callbackId,reason:bt(t)})}))}else e.streamId?this.#$t(e):t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(e){r.reject(e)}return r.promise}sendWithStream(e,t,n,i){const r=this.streamId++,a=this.sourceName,s=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[r]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:a,targetName:s,action:e,streamId:r,data:t,desiredSize:n.desiredSize},i),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[r].pullCall=t,o.postMessage({sourceName:a,targetName:s,stream:6,streamId:r,desiredSize:e.desiredSize}),t.promise},cancel:e=>{C(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[r].cancelCall=t,this.streamControllers[r].isClosed=!0,o.postMessage({sourceName:a,targetName:s,stream:1,streamId:r,reason:bt(e)}),t.promise}},n)}#$t(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,a=this,s=this.actionHandler[e.action],o={enqueue(e,a=1,s){if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=a,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:4,streamId:t,chunk:e},s)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:3,streamId:t}),delete a.streamSinks[t])},error(e){C(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:5,streamId:t,reason:bt(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,new Promise((function(t){t(s(e.data,o))})).then((function(){r.postMessage({sourceName:n,targetName:i,stream:8,streamId:t,success:!0})}),(function(e){r.postMessage({sourceName:n,targetName:i,stream:8,streamId:t,reason:bt(e)})}))}#Ut(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,a=this.streamControllers[t],s=this.streamSinks[t];switch(e.stream){case 8:e.success?a.startCall.resolve():a.startCall.reject(bt(e.reason));break;case 7:e.success?a.pullCall.resolve():a.pullCall.reject(bt(e.reason));break;case 6:if(!s){r.postMessage({sourceName:n,targetName:i,stream:7,streamId:t,success:!0});break}s.desiredSize<=0&&e.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=e.desiredSize,new Promise((function(e){e(s.onPull?.())})).then((function(){r.postMessage({sourceName:n,targetName:i,stream:7,streamId:t,success:!0})}),(function(e){r.postMessage({sourceName:n,targetName:i,stream:7,streamId:t,reason:bt(e)})}));break;case 4:if(C(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case 3:if(C(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#qt(a,t);break;case 5:C(a,"error should have stream controller"),a.controller.error(bt(e.reason)),this.#qt(a,t);break;case 2:e.success?a.cancelCall.resolve():a.cancelCall.reject(bt(e.reason)),this.#qt(a,t);break;case 1:if(!s)break;new Promise((function(t){t(s.onCancel?.(bt(e.reason)))})).then((function(){r.postMessage({sourceName:n,targetName:i,stream:2,streamId:t,success:!0})}),(function(e){r.postMessage({sourceName:n,targetName:i,stream:2,streamId:t,reason:bt(e)})})),s.sinkCapability.reject(bt(e.reason)),s.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#qt(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#Bt?.abort(),this.#Bt=null}}class At{#Wt;#Vt;constructor({parsedData:e,rawData:t}){this.#Wt=e,this.#Vt=t}getRaw(){return this.#Vt}get(e){return this.#Wt.get(e)??null}getAll(){return H(this.#Wt)}has(e){return this.#Wt.has(e)}}const St=Symbol("INTERNAL");class xt{#Gt=!1;#Kt=!1;#Qt=!1;#Xt=!0;constructor(e,{name:t,intent:n,usage:i,rbGroups:r}){this.#Gt=!!(2&e),this.#Kt=!!(4&e),this.name=t,this.intent=n,this.usage=i,this.rbGroups=r}get visible(){if(this.#Qt)return this.#Xt;if(!this.#Xt)return!1;const{print:e,view:t}=this.usage;return this.#Gt?"OFF"!==t?.viewState:!this.#Kt||"OFF"!==e?.printState}_setVisible(e,t,n=!1){e!==St&&k("Internal method `_setVisible` called."),this.#Qt=n,this.#Xt=t}}class Tt{#Yt=null;#Jt=new Map;#Zt=null;#en=null;constructor(e,t=2){if(this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#en=e.order;for(const n of e.groups)this.#Jt.set(n.id,new xt(t,n));if("OFF"===e.baseState)for(const e of this.#Jt.values())e._setVisible(St,!1);for(const t of e.on)this.#Jt.get(t)._setVisible(St,!0);for(const t of e.off)this.#Jt.get(t)._setVisible(St,!1);this.#Zt=this.getHash()}}#tn(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let r;if(Array.isArray(t))r=this.#tn(t);else{if(!this.#Jt.has(t))return E(`Optional content group not found: ${t}`),!0;r=this.#Jt.get(t).visible}switch(n){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===n}isVisible(e){if(0===this.#Jt.size)return!0;if(!e)return _("Optional content group not defined."),!0;if("OCG"===e.type)return this.#Jt.has(e.id)?this.#Jt.get(e.id).visible:(E(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#tn(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#Jt.has(t))return E(`Optional content group not found: ${t}`),!0;if(this.#Jt.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#Jt.has(t))return E(`Optional content group not found: ${t}`),!0;if(!this.#Jt.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#Jt.has(t))return E(`Optional content group not found: ${t}`),!0;if(!this.#Jt.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#Jt.has(t))return E(`Optional content group not found: ${t}`),!0;if(this.#Jt.get(t).visible)return!1}return!0}return E(`Unknown optional content policy ${e.policy}.`),!0}return E(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const i=this.#Jt.get(e);if(i){if(n&&t&&i.rbGroups.length)for(const t of i.rbGroups)for(const n of t)n!==e&&this.#Jt.get(n)?._setVisible(St,!1,!0);i._setVisible(St,!!t,!0),this.#Yt=null}else E(`Optional content group not found: ${e}`)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const e=this.#Jt.get(i);if(e)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!e.visible,t)}}this.#Yt=null}get hasInitialVisibility(){return null===this.#Zt||this.getHash()===this.#Zt}getOrder(){return this.#Jt.size?this.#en?this.#en.slice():[...this.#Jt.keys()]:null}getGroups(){return this.#Jt.size>0?H(this.#Jt):null}getGroup(e){return this.#Jt.get(e)||null}getHash(){if(null!==this.#Yt)return this.#Yt;const e=new Pe;for(const[t,n]of this.#Jt)e.update(`${t}:${n.visible}`);return this.#Yt=e.hexdigest()}}class _t{constructor(e,{disableRange:t=!1,disableStream:n=!1}){C(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:a,contentDispositionFilename:s}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=s,r?.length>0){const e=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),e.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),e.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),e.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;void 0===e?this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n):C(this._rangeReaders.some((function(t){return t._begin===e&&(t._enqueue(n),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){C(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Et(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new kt(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class Et{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=te(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const e of this._queuedChunks)this._loaded+=e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class kt{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Ct(e,t){const n=new Headers;if(!e||!t||"object"!=typeof t)return n;for(const e in t){const i=t[e];void 0!==i&&n.append(e,i)}return n}function Mt({responseHeaders:e,isHttp:t,rangeChunkSize:n,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e.get("Content-Length"),10);return Number.isInteger(a)?(r.suggestedLength=a,a<=2*n||i||!t||"bytes"!==e.get("Accept-Ranges")||"identity"!==(e.get("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r):r}function Pt(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=s(n);return e=unescape(e),e=o(e),e=l(e),a(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,i,r]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[i,r]}const a=[];for(let e=0;e<t.length&&e in t;++e){let[n,i]=t[e];i=s(i),n&&(i=unescape(i),0===e&&(i=o(i))),a.push(i)}return a.join("")}(e),n)return a(l(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=s(n);return e=l(e),a(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function r(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),r=B(n);n=i.decode(r),t=!1}catch{}}return n}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=r("utf-8",e),t&&(e=r("iso-8859-1",e))),e}function s(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:r(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,i){if("q"===n||"Q"===n)return r(t,i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{i=atob(i)}catch{}return r(t,i)}))}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(te(e))return e}return null}function Rt(e,t){return 404===e||0===e&&t.startsWith("file:")?new N('Missing PDF "'+t+'".'):new F(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function Lt(e){return 200===e||206===e}function It(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Dt(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(E(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class Nt{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Ct(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return C(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ft(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Ot(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Ft{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,It(n,this._withCredentials,this._abortController)).then((t=>{if(!Lt(t.status))throw Rt(t.status,i);this._reader=t.body.getReader(),this._headersCapability.resolve();const n=t.headers,{allowRangeRequests:r,suggestedLength:a}=Mt({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=Pt(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new z("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Dt(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Ot{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${n-1}`);const a=i.url;fetch(a,It(r,this._withCredentials,this._abortController)).then((e=>{if(!Lt(e.status))throw Rt(e.status,a);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Dt(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class zt{constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Ct(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const i={begin:e,end:t};for(const e in n)i[e]=n[e];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[e,n]of this.headers)t.setRequestHeader(e,n);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=206):i.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError?.(i.status);const r=i.status||200;if((200!==r||206!==n.expectedStatus)&&r!==n.expectedStatus)return void n.onError?.(i.status);const a=function(e){const t=e.response;return"string"!=typeof t?t:B(t).buffer}(i);if(206===r){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):n.onError?.(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class jt{constructor(e){this._source=e,this._manager=new zt(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return C(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Bt(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new Ht(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Bt{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map((e=>{const[t,...n]=e.split(": ");return[t,n.join(": ")]}))),{allowRangeRequests:i,suggestedLength:r}=Mt({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=Pt(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Rt(e,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ht{constructor(e,t,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Rt(e,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Ut=/^[a-z][a-z0-9\-+.]+:/i;function $t(e,t,n){return"http:"===e.protocol?qe.get("http").request(e,{headers:t},n):qe.get("https").request(e,{headers:t},n)}class qt{constructor(e){this.source=e,this.url=function(e){if(Ut.test(e))return new URL(e);const t=qe.get("url");return new URL(t.pathToFileURL(e))}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.headers=Ct(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return C(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Qt(this):new Gt(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new Xt(this,e,t):new Kt(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Wt{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new z("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Vt{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}class Gt extends Wt{constructor(e){super(e);const t=Object.fromEntries(e.headers);this._request=$t(this._url,t,(t=>{if(404===t.statusCode){const e=new N(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=new Headers(this._readableStream.headers),{allowRangeRequests:i,suggestedLength:r}=Mt({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=r||this._contentLength,this._filename=Pt(n)})),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class Kt extends Vt{constructor(e,t,n){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${n-1}`,this._request=$t(this._url,i,(e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new N(`Missing PDF "${this._url}".`);this._storedError=e}})),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class Qt extends Wt{constructor(e){super(e);const t=qe.get("fs");t.promises.lstat(this._url).then((e=>{this._contentLength=e.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()}),(e=>{"ENOENT"===e.code&&(e=new N(`Missing PDF "${this._url}".`)),this._storedError=e,this._headersCapability.reject(e)}))}}class Xt extends Vt{constructor(e,t,n){super(e);const i=qe.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:n-1}))}}const Yt=30;class Jt{#nn=Promise.withResolvers();#he=null;#in=!1;#rn=!!globalThis.FontInspector?.enabled;#an=null;#sn=null;#on=0;#ln=0;#cn=null;#un=null;#dn=0;#hn=0;#pn=Object.create(null);#fn=[];#gn=null;#mn=[];#vn=new WeakMap;#yn=null;static#bn=new Map;static#wn=new Map;static#An=new WeakMap;static#Sn=null;static#xn=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#gn=e;else{if("object"!=typeof e)throw new Error('No "textContentSource" parameter specified.');this.#gn=new ReadableStream({start(t){t.enqueue(e),t.close()}})}this.#he=this.#un=t,this.#hn=n.scale*(globalThis.devicePixelRatio||1),this.#dn=n.rotation,this.#sn={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:r,pageX:a,pageY:s}=n.rawDims;this.#yn=[1,0,0,-1,-a,s+r],this.#ln=i,this.#on=r,Jt.#Tn(),pe(t,n),this.#nn.promise.finally((()=>{Jt.#xn.delete(this),this.#sn=null,this.#pn=null})).catch((()=>{}))}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=U.platform;return P(this,"fontFamilyMap",new Map([["sans-serif",(e&&t?"Calibri, ":"")+"sans-serif"],["monospace",(e&&t?"Lucida Console, ":"")+"monospace"]]))}render(){const e=()=>{this.#cn.read().then((({value:t,done:n})=>{n?this.#nn.resolve():(this.#an??=t.lang,Object.assign(this.#pn,t.styles),this.#_n(t.items),e())}),this.#nn.reject)};return this.#cn=this.#gn.getReader(),Jt.#xn.add(this),e(),this.#nn.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==this.#dn&&(t?.(),this.#dn=i,pe(this.#un,{rotation:i})),n!==this.#hn){t?.(),this.#hn=n;const e={div:null,properties:null,ctx:Jt.#En(this.#an)};for(const t of this.#mn)e.properties=this.#vn.get(t),e.div=t,this.#kn(e)}}cancel(){const e=new z("TextLayer task cancelled.");this.#cn?.cancel(e).catch((()=>{})),this.#cn=null,this.#nn.reject(e)}get textDivs(){return this.#mn}get textContentItemsStr(){return this.#fn}#_n(e){if(this.#in)return;this.#sn.ctx??=Jt.#En(this.#an);const t=this.#mn,n=this.#fn;for(const i of e){if(t.length>1e5)return E("Ignoring additional textDivs for performance reasons."),void(this.#in=!0);if(void 0!==i.str)n.push(i.str),this.#Cn(i);else if("beginMarkedContentProps"===i.type||"beginMarkedContent"===i.type){const e=this.#he;this.#he=document.createElement("span"),this.#he.classList.add("markedContent"),null!==i.id&&this.#he.setAttribute("id",`${i.id}`),e.append(this.#he)}else"endMarkedContent"===i.type&&(this.#he=this.#he.parentNode)}}#Cn(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};this.#mn.push(t);const i=q.transform(this.#yn,e.transform);let r=Math.atan2(i[1],i[0]);const a=this.#pn[e.fontName];a.vertical&&(r+=Math.PI/2);let s=this.#rn&&a.fontSubstitution||a.fontFamily;s=Jt.fontFamilyMap.get(s)||s;const o=Math.hypot(i[2],i[3]),l=o*Jt.#Mn(s,this.#an);let c,u;0===r?(c=i[4],u=i[5]-l):(c=i[4]+l*Math.sin(r),u=i[5]-l*Math.cos(r));const d="calc(var(--scale-factor)*",h=t.style;this.#he===this.#un?(h.left=`${(100*c/this.#ln).toFixed(2)}%`,h.top=`${(100*u/this.#on).toFixed(2)}%`):(h.left=`${d}${c.toFixed(2)}px)`,h.top=`${d}${u.toFixed(2)}px)`),h.fontSize=`${d}${(Jt.#Sn*o).toFixed(2)}px)`,h.fontFamily=s,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#rn&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),0!==r&&(n.angle=r*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=a.vertical?e.height:e.width),this.#vn.set(t,n),this.#sn.div=t,this.#sn.properties=n,this.#kn(this.#sn),n.hasText&&this.#he.append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this.#he.append(e)}}#kn(e){const{div:t,properties:n,ctx:i}=e,{style:r}=t;let a="";if(Jt.#Sn>1&&(a=`scale(${1/Jt.#Sn})`),0!==n.canvasWidth&&n.hasText){const{fontFamily:e}=r,{canvasWidth:s,fontSize:o}=n;Jt.#Pn(i,o*this.#hn,e);const{width:l}=i.measureText(t.textContent);l>0&&(a=`scaleX(${s*this.#hn/l}) ${a}`)}0!==n.angle&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(r.transform=a)}static cleanup(){if(!(this.#xn.size>0)){this.#bn.clear();for(const{canvas:e}of this.#wn.values())e.remove();this.#wn.clear()}}static#En(e=null){let t=this.#wn.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#wn.set(e,t),this.#An.set(t,{size:0,family:""})}return t}static#Pn(e,t,n){const i=this.#An.get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)}static#Tn(){if(null!==this.#Sn)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#Sn=e.getBoundingClientRect().height,e.remove()}static#Mn(e,t){const n=this.#bn.get(e);if(n)return n;const i=this.#En(t);i.canvas.width=i.canvas.height=Yt,this.#Pn(i,Yt,e);const r=i.measureText("");let a=r.fontBoundingBoxAscent,s=Math.abs(r.fontBoundingBoxDescent);if(a){const t=a/(a+s);return this.#bn.set(e,t),i.canvas.width=i.canvas.height=0,t}i.strokeStyle="red",i.clearRect(0,0,Yt,Yt),i.strokeText("g",0,0);let o=i.getImageData(0,0,Yt,Yt).data;s=0;for(let e=o.length-1-3;e>=0;e-=4)if(o[e]>0){s=Math.ceil(e/4/Yt);break}i.clearRect(0,0,Yt,Yt),i.strokeText("A",0,Yt),o=i.getImageData(0,0,Yt,Yt).data,a=0;for(let e=0,t=o.length;e<t;e+=4)if(o[e]>0){a=Yt-Math.floor(e/4/Yt);break}i.canvas.width=i.canvas.height=0;const l=a?a/(a+s):.8;return this.#bn.set(e,l),l}}class Zt{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){if(!n)return;let i=null;const r=n.name;if("#text"===r)i=n.value;else{if(!Zt.shouldBuildText(r))return;n?.attributes?.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&t.push({str:i}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const en=65536,tn=u?class extends Fe{_createCanvas(e,t){return qe.get("canvas").createCanvas(e,t)}}:class extends Fe{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}},nn=u?class extends Oe{async _fetch(e){return We(e)}}:ze,rn=u?class extends je{}:class extends je{#Rn;#Ln;#In;#Dn;#Nn;#Fn;#b=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#Dn=e,this.#Nn=t}get#A(){return this.#Ln||=new Map}get#On(){return this.#Fn||=new Map}get#zn(){if(!this.#In){const e=this.#Nn.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#Nn.createElementNS(Q,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#In=this.#Nn.createElementNS(Q,"defs"),e.append(n),n.append(this.#In),this.#Nn.body.append(e)}return this.#In}#jn(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const i=n.join(",");return[i,i,i]}const[t,n,i]=e,r=new Array(256),a=new Array(256),s=new Array(256);for(let e=0;e<256;e++)r[e]=t[e]/255,a[e]=n[e]/255,s[e]=i[e]/255;return[r.join(","),a.join(","),s.join(",")]}#Bn(e){if(void 0===this.#Rn){this.#Rn="";const e=this.#Nn.URL;e!==this.#Nn.baseURI&&(ee(e)?E('#createUrl: ignore "data:"-URL for performance reasons.'):this.#Rn=e.split("#",1)[0])}return`url(${this.#Rn}#${e})`}addFilter(e){if(!e)return"none";let t=this.#A.get(e);if(t)return t;const[n,i,r]=this.#jn(e),a=1===e.length?n:`${n}${i}${r}`;if(t=this.#A.get(a),t)return this.#A.set(e,t),t;const s=`g_${this.#Dn}_transfer_map_${this.#b++}`,o=this.#Bn(s);this.#A.set(e,o),this.#A.set(a,o);const l=this.#Hn(s);return this.#Un(n,i,r,l),o}addHCMFilter(e,t){const n=`${e}-${t}`,i="base";let r=this.#On.get(i);if(r?.key===n)return r.url;if(r?(r.filter?.remove(),r.key=n,r.url="none",r.filter=null):(r={key:n,url:"none",filter:null},this.#On.set(i,r)),!e||!t)return r.url;const a=this.#$n(e);e=q.makeHexColor(...a);const s=this.#$n(t);if(t=q.makeHexColor(...s),this.#zn.style.color="","#000000"===e&&"#ffffff"===t||e===t)return r.url;const o=new Array(256);for(let e=0;e<=255;e++){const t=e/255;o[e]=t<=.03928?t/12.92:((t+.055)/1.055)**2.4}const l=o.join(","),c=`g_${this.#Dn}_hcm_filter`,u=r.filter=this.#Hn(c);this.#Un(l,l,l,u),this.#qn(u);const d=(e,t)=>{const n=a[e]/255,i=s[e]/255,r=new Array(t+1);for(let e=0;e<=t;e++)r[e]=n+e/t*(i-n);return r.join(",")};return this.#Un(d(0,5),d(1,5),d(2,5),u),r.url=this.#Bn(c),r.url}addAlphaFilter(e){let t=this.#A.get(e);if(t)return t;const[n]=this.#jn([e]),i=`alpha_${n}`;if(t=this.#A.get(i),t)return this.#A.set(e,t),t;const r=`g_${this.#Dn}_alpha_map_${this.#b++}`,a=this.#Bn(r);this.#A.set(e,a),this.#A.set(i,a);const s=this.#Hn(r);return this.#Wn(n,s),a}addLuminosityFilter(e){let t,n,i=this.#A.get(e||"luminosity");if(i)return i;if(e?([t]=this.#jn([e]),n=`luminosity_${t}`):n="luminosity",i=this.#A.get(n),i)return this.#A.set(e,i),i;const r=`g_${this.#Dn}_luminosity_map_${this.#b++}`,a=this.#Bn(r);this.#A.set(e,a),this.#A.set(n,a);const s=this.#Hn(r);return this.#Vn(s),e&&this.#Wn(t,s),a}addHighlightHCMFilter(e,t,n,i,r){const a=`${t}-${n}-${i}-${r}`;let s=this.#On.get(e);if(s?.key===a)return s.url;if(s?(s.filter?.remove(),s.key=a,s.url="none",s.filter=null):(s={key:a,url:"none",filter:null},this.#On.set(e,s)),!t||!n)return s.url;const[o,l]=[t,n].map(this.#$n.bind(this));let c=Math.round(.2126*o[0]+.7152*o[1]+.0722*o[2]),u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[d,h]=[i,r].map(this.#$n.bind(this));u<c&&([c,u,d,h]=[u,c,h,d]),this.#zn.style.color="";const p=(e,t,n)=>{const i=new Array(256),r=(u-c)/n,a=e/255,s=(t-e)/(255*n);let o=0;for(let e=0;e<=n;e++){const t=Math.round(c+e*r),n=a+e*s;for(let e=o;e<=t;e++)i[e]=n;o=t+1}for(let e=o;e<256;e++)i[e]=i[o-1];return i.join(",")},f=`g_${this.#Dn}_hcm_${e}_filter`,g=s.filter=this.#Hn(f);return this.#qn(g),this.#Un(p(d[0],h[0],5),p(d[1],h[1],5),p(d[2],h[2],5),g),s.url=this.#Bn(f),s.url}destroy(e=!1){e&&0!==this.#On.size||(this.#In&&(this.#In.parentNode.parentNode.remove(),this.#In=null),this.#Ln&&(this.#Ln.clear(),this.#Ln=null),this.#b=0)}#Vn(e){const t=this.#Nn.createElementNS(Q,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#qn(e){const t=this.#Nn.createElementNS(Q,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#Hn(e){const t=this.#Nn.createElementNS(Q,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#zn.append(t),t}#Gn(e,t,n){const i=this.#Nn.createElementNS(Q,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)}#Un(e,t,n,i){const r=this.#Nn.createElementNS(Q,"feComponentTransfer");i.append(r),this.#Gn(r,"feFuncR",e),this.#Gn(r,"feFuncG",t),this.#Gn(r,"feFuncB",n)}#Wn(e,t){const n=this.#Nn.createElementNS(Q,"feComponentTransfer");t.append(n),this.#Gn(n,"feFuncA",e)}#$n(e){return this.#zn.style.color=e,ue(getComputedStyle(this.#zn).getPropertyValue("color"))}},an=u?class extends Be{async _fetch(e){return We(e)}}:He;function sn(e={}){"string"==typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new ln,{docId:n}=t,i=e.url?function(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(u&&"string"==typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(e.url):null,r=e.data?function(e){if(u&&"undefined"!=typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"==typeof e)return B(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"==typeof e&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(e.data):null,a=e.httpHeaders||null,s=!0===e.withCredentials,o=e.password??null,l=e.range instanceof cn?e.range:null,c=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:en;let d=e.worker instanceof pn?e.worker:null;const h=e.verbosity,p="string"!=typeof e.docBaseUrl||ee(e.docBaseUrl)?null:e.docBaseUrl,f="string"==typeof e.cMapUrl?e.cMapUrl:null,g=!1!==e.cMapPacked,m=e.CMapReaderFactory||nn,v="string"==typeof e.standardFontDataUrl?e.standardFontDataUrl:null,y=e.StandardFontDataFactory||an,b=!0!==e.stopAtErrors,w=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,A=!1!==e.isEvalSupported,S="boolean"==typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!u,T="boolean"==typeof e.isChrome?e.isChrome:!U.platform.isFirefox&&"undefined"!=typeof window&&!!window?.chrome,_=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,E="boolean"==typeof e.disableFontFace?e.disableFontFace:u,k=!0===e.fontExtraProperties,C=!0===e.enableXfa,M=e.ownerDocument||globalThis.document,P=!0===e.disableRange,R=!0===e.disableStream,L=!0===e.disableAutoFetch,I=!0===e.pdfBug,D=e.CanvasFactory||tn,N=e.FilterFactory||rn,F=!0===e.enableHWA,O=l?l.length:e.length??NaN,z="boolean"==typeof e.useSystemFonts?e.useSystemFonts:!u&&!E,j="boolean"==typeof e.useWorkerFetch?e.useWorkerFetch:m===ze&&y===He&&f&&v&&ae(f,document.baseURI)&&ae(v,document.baseURI);e.canvasFactory&&oe("`canvasFactory`-instance option, please use `CanvasFactory` instead."),e.filterFactory&&oe("`filterFactory`-instance option, please use `FilterFactory` instead."),x(h);const H={canvasFactory:new D({ownerDocument:M,enableHWA:F}),filterFactory:new N({docId:n,ownerDocument:M}),cMapReaderFactory:j?null:new m({baseUrl:f,isCompressed:g}),standardFontDataFactory:j?null:new y({baseUrl:v})};if(!d){const e={verbosity:h,port:yt.workerPort};d=e.port?pn.fromPort(e):new pn(e),t._worker=d}const $={docId:n,apiVersion:"4.8.69",data:r,password:o,disableAutoFetch:L,rangeChunkSize:c,length:O,docBaseUrl:p,enableXfa:C,evaluatorOptions:{maxImageSize:w,disableFontFace:E,ignoreErrors:b,isEvalSupported:A,isOffscreenCanvasSupported:S,isChrome:T,canvasMaxAreaInBytes:_,fontExtraProperties:k,useSystemFonts:z,cMapUrl:j?f:null,standardFontDataUrl:j?v:null}},q={disableFontFace:E,fontExtraProperties:k,ownerDocument:M,pdfBug:I,styleElement:null,loadingParams:{disableAutoFetch:L,enableXfa:C}};return d.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const e=d.messageHandler.sendWithPromise("GetDocRequest",$,r?[r.buffer]:null);let o;if(l)o=new _t(l,{disableRange:P,disableStream:R});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");let e;e=u?"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&ae(i)?Nt:qt:ae(i)?Nt:jt,o=new e({url:i,length:O,httpHeaders:a,withCredentials:s,rangeChunkSize:c,disableRange:P,disableStream:R})}return e.then((e=>{if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const i=new wt(n,e,d.port),r=new fn(i,t,o,q,H);t._transport=r,i.send("Ready",null)}))})).catch(t._capability.reject),t}function on(e){return"object"==typeof e&&Number.isInteger(e?.num)&&e.num>=0&&Number.isInteger(e?.gen)&&e.gen>=0}class ln{static#Dn=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+ln.#Dn++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class cn{constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){k("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class un{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return P(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class dn{#Kn=null;#Qn=!1;constructor(e,t,n,i=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new re:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new mn,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}={}){return new J({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return P(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:i=f.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:s=null,annotationCanvasMap:o=null,pageColors:l=null,printAnnotationStorage:c=null,isEditing:u=!1}){this._stats?.time("Overall");const d=this._transport.getRenderingIntent(n,i,c,u),{renderingIntent:h,cacheKey:p}=d;this.#Qn=!1,this.#Xn(),s||=this._transport.getOptionalContentConfig(h);let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const m=!!(4&h);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(d));const v=e=>{g.renderTasks.delete(y),(this._maybeCleanupAfterRender||m)&&(this.#Qn=!0),this.#Yn(!m),e?(y.capability.reject(e),this._abortOperatorList({intentState:g,reason:e instanceof Error?e:new Error(e)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new yn({callback:v,params:{canvasContext:e,viewport:t,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:o,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!m,pdfBug:this._pdfBug,pageColors:l});(g.renderTasks||=new Set).add(y);const b=y.task;return Promise.all([g.displayReadyCapability.promise,s]).then((([e,t])=>{if(this.destroyed)v();else{if(this._stats?.time("Rendering"),!(t.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:e,optionalContentConfig:t}),y.operatorListChanged()}})).catch(v),b}getOperatorList({intent:e="display",annotationMode:t=f.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){const r=this._transport.getRenderingIntent(e,t,n,i,!0);let a,s=this._intentStates.get(r.cacheKey);return s||(s=Object.create(null),this._intentStates.set(r.cacheKey,s)),s.opListReadCapability||(a=Object.create(null),a.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(a))},s.opListReadCapability=Promise.withResolvers(),(s.renderTasks||=new Set).add(a),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),s.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size(e){return e.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then((e=>Zt.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const i=t.getReader(),r={items:[],styles:Object.create(null),lang:null};!function t(){i.read().then((function({value:n,done:i}){i?e(r):(r.lang??=n.lang,Object.assign(r.styles,n.styles),r.items.push(...n.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#Qn=!1,this.#Xn(),Promise.all(e)}cleanup(e=!1){this.#Qn=!0;const t=this.#Yn(!1);return e&&t&&(this._stats&&=new re),t}#Yn(e=!1){if(this.#Xn(),!this.#Qn||this.destroyed)return!1;if(e)return this.#Kn=setTimeout((()=>{this.#Kn=null,this.#Yn(!1)}),5e3),!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#Qn=!1,!0}#Xn(){this.#Kn&&(clearTimeout(this.#Kn),this.#Kn=null)}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const e of t.renderTasks)e.operatorListChanged();e.lastChunk&&this.#Yn(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:r,transfer:a}=n,s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:i},a).getReader(),o=this._intentStates.get(t);o.streamReader=s;const l=()=>{s.read().then((({value:e,done:t})=>{t?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,o),l())}),(e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const e of o.renderTasks)e.operatorListChanged();this.#Yn(!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}}))};l()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof Z){let n=100;return t.extraDelay>0&&t.extraDelay<1e3&&(n+=t.extraDelay),void(e.streamReaderCancelTimeout=setTimeout((()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})}),n))}}if(e.streamReader.cancel(new z(t.message)).catch((()=>{})),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}class hn{#Jn=new Map;#Zn=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#Zn.then((()=>{for(const[e]of this.#Jn)e.call(this,n)}))}addEventListener(e,t,n=null){let i=null;if(n?.signal instanceof AbortSignal){const{signal:r}=n;if(r.aborted)return void E("LoopbackPort - cannot use an `aborted` signal.");const a=()=>this.removeEventListener(e,t);i=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}this.#Jn.set(t,i)}removeEventListener(e,t){const n=this.#Jn.get(t);n?.(),this.#Jn.delete(t)}terminate(){for(const[,e]of this.#Jn)e?.();this.#Jn.clear()}}class pn{static#ei=0;static#ti=!1;static#ni;static{u&&(this.#ti=!0,yt.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch{return!1}const i=new URL(t,n);return n.origin===i.origin},this._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}}constructor({name:e=null,port:t=null,verbosity:n=T()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(pn.#ni?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(pn.#ni||=new WeakMap).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return u?Promise.all([qe.promise,this._readyCapability.promise]):this._readyCapability.promise}#ii(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new wt("main","worker",e),this._messageHandler.on("ready",(function(){})),this.#ii()}_initialize(){if(pn.#ti||pn.#ri)return void this._setupFakeWorker();let{workerSrc:e}=pn;try{pn._isSameOrigin(window.location.href,e)||(e=pn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new wt("main","worker",t),i=()=>{r.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;t.addEventListener("error",(()=>{this._webWorker||i()}),{signal:r.signal}),n.on("test",(e=>{r.abort(),!this.destroyed&&e?(this._messageHandler=n,this._port=t,this._webWorker=t,this.#ii()):i()})),n.on("ready",(e=>{if(r.abort(),this.destroyed)i();else try{a()}catch{this._setupFakeWorker()}}));const a=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void a()}catch{_("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){pn.#ti||(E("Setting up fake worker."),pn.#ti=!0),pn._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new hn;this._port=t;const n="fake"+pn.#ei++,i=new wt(n+"_worker",n,t);e.setup(i,t),this._messageHandler=new wt(n,n+"_worker",t),this.#ii()})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pn.#ni?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const t=this.#ni?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new pn(e)}static get workerSrc(){if(yt.workerSrc)return yt.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#ri(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return P(this,"_setupFakeWorkerGlobal",(async()=>this.#ri?this.#ri:(await import(this.workerSrc)).WorkerMessageHandler)())}}class fn{#ai=new Map;#si=new Map;#oi=new Map;#li=new Map;#ci=null;constructor(e,t,n,i,r){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new mn,this.fontLoader=new De({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#ui(e,t=null){const n=this.#ai.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return this.#ai.set(e,i),i}get annotationStorage(){return P(this,"annotationStorage",new Le)}getRenderingIntent(e,t=f.ENABLE,n=null,i=!1,r=!1){let a=2,s=Re;switch(e){case"any":a=1;break;case"display":break;case"print":a=4;break;default:E(`getRenderingIntent - invalid intent: ${e}`)}const o=4&a&&n instanceof Ie?n:this.annotationStorage;switch(t){case f.DISABLE:a+=64;break;case f.ENABLE:break;case f.ENABLE_FORMS:a+=16;break;case f.ENABLE_STORAGE:a+=32,s=o.serializable;break;default:E(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=128),r&&(a+=256);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:a,cacheKey:[a,s.hash,c].join("_"),annotationStorageSerializable:s,modifiedIds:l}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#ci?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const t of this.#si.values())e.push(t._destroy());this.#si.clear(),this.#oi.clear(),this.#li.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#ai.clear(),this.filterFactory.destroy(),Jt.cleanup(),this._networkStream?.cancelAllRequests(new z("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{C(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function({value:e,done:n}){n?t.close():(C(e instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(async e=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:i,contentLength:r}=this._fullReader;return n&&i||(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),{isStreamingSupported:n,isRangeSupported:i,contentLength:r}})),e.on("GetRangeReader",((e,t)=>{C(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function({value:e,done:n}){n?t.close():(C(e instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,t._capability.resolve(new un(e,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new L(e.message,e.code);break;case"InvalidPDFException":n=new D(e.message);break;case"MissingPDFException":n=new N(e.message);break;case"UnexpectedResponseException":n=new F(e.message,e.status);break;case"UnknownErrorException":n=new I(e.message,e.details);break;default:k("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this.#ci=Promise.withResolvers(),t.onPassword){const n=e=>{e instanceof Error?this.#ci.reject(e):this.#ci.resolve({password:e})};try{t.onPassword(n,e.code)}catch(e){this.#ci.reject(e)}}else this.#ci.reject(new L(e.message,e.code));return this.#ci.promise})),e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{this.destroyed||this.#si.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(([t,n,i])=>{if(this.destroyed)return null;if(this.commonObjs.has(t))return null;switch(n){case"Font":const{disableFontFace:r,fontExtraProperties:a,pdfBug:s}=this._params;if("error"in i){const e=i.error;E(`Error during font loading: ${e}`),this.commonObjs.resolve(t,e);break}const o=s&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,l=new Ne(i,{disableFontFace:r,inspectFont:o});this.fontLoader.bind(l).catch((()=>e.sendWithPromise("FontFallback",{id:t}))).finally((()=>{!a&&l.data&&(l.data=null),this.commonObjs.resolve(t,l)}));break;case"CopyLocalImage":const{imageRef:c}=i;C(c,"The imageRef must be defined.");for(const e of this.#si.values())for(const[,n]of e.objs)if(n?.ref===c)return n.dataLen?(this.commonObjs.resolve(t,structuredClone(n)),n.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(t,i);break;default:throw new Error(`Got unknown common object type ${n}`)}return null})),e.on("obj",(([e,t,n,i])=>{if(this.destroyed)return;const r=this.#si.get(t);if(!r.objs.has(e))if(0!==r._intentStates.size)switch(n){case"Image":r.objs.resolve(e,i),i?.dataLen>1e7&&(r._maybeCleanupAfterRender=!0);break;case"Pattern":r.objs.resolve(e,i);break;default:throw new Error(`Got unknown object type ${n}`)}else i?.bitmap?.close()})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(e)})),e.on("FetchStandardFontData",(async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(e)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&E("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#oi.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&this.#li.set(n.refStr,e);const i=new dn(t,n,this,this._params.pdfBug);return this.#si.set(t,i),i}));return this.#oi.set(t,i),i}getPageIndex(e){return on(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#ui("GetFieldObjects")}hasJSActions(){return this.#ui("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#ui("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#ui("GetOptionalContentConfig").then((t=>new Tt(t,e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#ai.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>({info:e[0],metadata:e[1]?new At(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#ai.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#si.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#ai.clear(),this.filterFactory.destroy(!0),Jt.cleanup()}}cachedPageNumber(e){if(!on(e))return null;const t=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return this.#li.get(t)??null}}const gn=Symbol("INITIAL_DATA");class mn{#di=Object.create(null);#hi(e){return this.#di[e]||={...Promise.withResolvers(),data:gn}}get(e,t=null){if(t){const n=this.#hi(e);return n.promise.then((()=>t(n.data))),null}const n=this.#di[e];if(!n||n.data===gn)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#di[e];return!!t&&t.data!==gn}resolve(e,t=null){const n=this.#hi(e);n.data=t,n.resolve()}clear(){for(const e in this.#di){const{data:t}=this.#di[e];t?.bitmap?.close()}this.#di=Object.create(null)}*[Symbol.iterator](){for(const e in this.#di){const{data:t}=this.#di[e];t!==gn&&(yield[e,t])}}}class vn{#pi=null;constructor(e){this.#pi=e,this.onContinue=null}get promise(){return this.#pi.capability.promise}cancel(e=0){this.#pi.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#pi.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#pi;return e.form||e.canvas&&t?.size>0}}class yn{#fi=null;static#gi=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:r,operatorList:a,pageIndex:s,canvasFactory:o,filterFactory:l,useRequestAnimationFrame:c=!1,pdfBug:u=!1,pageColors:d=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=s,this.canvasFactory=o,this.filterFactory=l,this._pdfBug=u,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!=typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new vn(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(yn.#gi.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");yn.#gi.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:r,background:a}=this.params;this.gfx=new vt(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#fi&&(window.cancelAnimationFrame(this.#fi),this.#fi=null),yn.#gi.delete(this._canvas),this.callback(e||new Z(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#fi=window.requestAnimationFrame((()=>{this.#fi=null,this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),yn.#gi.delete(this._canvas),this.callback())))}}const bn="4.8.69",wn="3634dab10";function An(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function Sn(e){return Math.max(0,Math.min(255,255*e))}class xn{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return[e=Sn(e),e,e]}static G_HTML([e]){const t=An(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Sn)}static RGB_HTML(e){return`#${e.map(An).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[Sn(1-Math.min(1,e+i)),Sn(1-Math.min(1,n+i)),Sn(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,r=1-t,a=1-n;return["CMYK",i,r,a,Math.min(i,r,a)]}}class Tn{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){k("Abstract method `_createSVG` called.")}}class _n extends Tn{_createSVG(e){return document.createElementNS(Q,e)}}class En{static setupStorage(e,t,n,i,r){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===r)break;e.addEventListener("input",(e=>{i.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===r)break;e.addEventListener("change",(e=>{i.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===r)break;e.addEventListener("input",(e=>{i.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==a.value){e.setAttribute("value",a.value);for(const e of n.children)e.attributes.value===a.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,r=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(t,{value:r})}))}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:r}){const{attributes:a}=t,s=e instanceof HTMLAnchorElement;"radio"===a.type&&(a.name=`${a.name}-${i}`);for(const[t,n]of Object.entries(a))if(null!=n)switch(t){case"class":n.length&&e.setAttribute(t,n.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",n);break;case"style":Object.assign(e.style,n);break;case"textContent":e.textContent=n;break;default:(!s||"href"!==t&&"newWindow"!==t)&&e.setAttribute(t,n)}s&&r.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,r=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:r,linkService:n});const s="richText"!==r,o=e.div;if(o.append(a),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;o.style.transform=t}s&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const e=document.createTextNode(i.value);a.append(e),s&&Zt.shouldBuildText(i.name)&&l.push(e)}return{textDivs:l}}const c=[[i,-1,a]];for(;c.length>0;){const[e,i,a]=c.at(-1);if(i+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:u}=o;if("#text"===u){const e=document.createTextNode(o.value);l.push(e),a.append(e);continue}const d=o?.attributes?.xmlns?document.createElementNS(o.attributes.xmlns,u):document.createElement(u);if(a.append(d),o.attributes&&this.setAttributes({html:d,element:o,storage:t,intent:r,linkService:n}),o.children?.length>0)c.push([o,-1,d]);else if(o.value){const e=document.createTextNode(o.value);s&&Zt.shouldBuildText(u)&&l.push(e),d.append(e)}}for(const e of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))e.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const kn=1e3,Cn=new WeakSet;function Mn(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class Pn{static create(e){switch(e.data.annotationType){case 2:return new Ln(e);case 1:return new In(e);case 20:switch(e.data.fieldType){case"Tx":return new Nn(e);case"Btn":return e.data.radioButton?new zn(e):e.data.checkBox?new On(e):new jn(e);case"Ch":return new Bn(e);case"Sig":return new Fn(e)}return new Dn(e);case 16:return new Hn(e);case 3:return new $n(e);case 4:return new qn(e);case 5:return new Wn(e);case 6:return new Vn(e);case 8:return new Gn(e);case 14:return new Qn(e);case 15:return new Xn(e);case 7:return new Kn(e);case 9:return new Yn(e);case 10:return new Jn(e);case 11:return new Zn(e);case 12:return new ei(e);case 13:return new ti(e);case 17:return new ni(e);default:return new Rn(e)}}}class Rn{#mi=null;#vi=!1;#yi=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e?.str||t?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Rn._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#mi||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#bi(t),this.#yi?.popup.updateEdited(e)}resetEdited(){this.#mi&&(this.#bi(this.#mi.rect),this.#yi?.popup.resetEdited(),this.#mi=null)}#bi(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:s,pageY:o}}}}=this;n?.splice(0,4,...e);const{width:l,height:c}=Mn(e);t.left=100*(e[0]-s)/r+"%",t.top=100*(a-e[3]+o)/a+"%",0===i?(t.width=100*l/r+"%",t.height=100*c/a+"%"):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof Dn||(r.tabIndex=kn);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof Hn){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,r),r}const{width:s,height:o}=Mn(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;a.borderRadius=t}else if(this instanceof zn){const e=`calc(${s}px * var(--scale-factor)) / calc(${o}px * var(--scale-factor))`;a.borderRadius=e}switch(t.borderStyle.style){case 1:a.borderStyle="solid";break;case 2:a.borderStyle="dashed";break;case 3:E("Unimplemented border style: beveled");break;case 4:E("Unimplemented border style: inset");break;case 5:a.borderBottomStyle="solid"}const i=t.borderColor||null;i?(this.#vi=!0,a.borderColor=q.makeHexColor(0|i[0],0|i[1],0|i[2])):a.borderWidth=0}const l=q.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:d,pageY:h}=i.rawDims;a.left=100*(l[0]-d)/c+"%",a.top=100*(l[1]-h)/u+"%";const{rotation:p}=t;return t.hasOwnCanvas||0===p?(a.width=100*s/c+"%",a.height=100*o/u+"%"):this.setRotation(p,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:r,height:a}=Mn(this.data.rect);let s,o;e%180==0?(s=100*r/n,o=100*a/i):(s=100*a/n,o=100*r/i),t.style.width=`${s}%`,t.style.height=`${o}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const i=n.detail[e],r=i[0],a=i.slice(1);n.target.style[t]=xn[`${r}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[t]:xn[`${r}_rgb`](a)})};return P(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2==1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const r=e[i]||n[i];r?.(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,r]of Object.entries(t)){const a=n[i];a&&(a({detail:{[i]:r},target:e}),delete t[i])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,r]=this.data.rect.map((e=>Math.fround(e)));if(8===e.length){const[a,s,o,l]=e.subarray(2,6);if(i===a&&r===s&&t===o&&n===l)return}const{style:a}=this.container;let s;if(this.#vi){const{borderColor:e,borderWidth:t}=a;a.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${e}" stroke-width="${t}">`],this.container.classList.add("hasBorder")}const o=i-t,l=r-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const d=c.createElement("defs");u.append(d);const h=c.createElement("clipPath"),p=`clippath_${this.data.id}`;h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox"),d.append(h);for(let n=2,i=e.length;n<i;n+=8){const i=e[n],a=e[n+1],u=e[n+2],d=e[n+3],p=c.createElement("rect"),f=(u-t)/o,g=(r-a)/l,m=(i-u)/o,v=(a-d)/l;p.setAttribute("x",f),p.setAttribute("y",g),p.setAttribute("width",m),p.setAttribute("height",v),h.append(p),s?.push(`<rect vector-effect="non-scaling-stroke" x="${f}" y="${g}" width="${m}" height="${v}"/>`)}this.#vi&&(s.push("</g></svg>')"),a.backgroundImage=s.join("")),this.container.append(u),this.container.style.clipPath=`url(#${p})`}_createPopup(){const{data:e}=this,t=this.#yi=new Hn({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]});this.parent.div.append(t.render())}render(){k("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:r,exportValues:a}of i){if(-1===e)continue;if(r===t)continue;const i="string"==typeof a?a:null,s=document.querySelector(`[data-element-id="${r}"]`);!s||Cn.has(s)?n.push({id:r,exportValue:i,domElement:s}):E(`_getElementsByName - element not allowed: ${r}`)}return n}for(const i of document.getElementsByName(e)){const{exportValue:e}=i,r=i.getAttribute("data-element-id");r!==t&&Cn.has(i)&&n.push({id:r,exportValue:e,domElement:i})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}class Ln extends Rn{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action),i=!0):e.attachment?(this.#wi(n,e.attachment,e.attachmentDest),i=!0):e.setOCGState?(this.#Ai(n,e.setOCGState),i=!0):e.dest?(this._bindLink(n,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}#Si(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#Si()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#Si()}#wi(e,t,n=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,n),!1),this.#Si()}#Ai(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#Si()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const r=n.get(i);r&&(e[r]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}e.onclick||(e.onclick=()=>!1),this.#Si()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#Si(),!this._fieldObjects)return E('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n?.();const{fields:e,refs:i,include:r}=t,a=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===r&&a.push(n)}else for(const e of Object.values(this._fieldObjects))a.push(...e);const s=this.annotationStorage,o=[];for(const e of a){const{id:t}=e;switch(o.push(t),e.type){case"text":{const n=e.defaultValue||"";s.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;s.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";s.setValue(t,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${t}"]`);n&&(Cn.has(n)?n.dispatchEvent(new Event("resetform")):E(`_bindResetFormAction - element not allowed: ${t}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}),!1}}}class In extends Rn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Dn extends Rn{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return U.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,r){n.includes("mouse")?e.addEventListener(n,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(e)}})}))}_setEventListeners(e,t,n,i){for(const[r,a]of n)("Action"===a||this.data.actions?.[a])&&("Focus"!==a&&"Blur"!==a||(t||={focused:!1}),this._setEventListener(e,t,r,a,i),"Focus"!==a||this.data.actions?.Blur?"Blur"!==a||this.data.actions?.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":q.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const{fontColor:t}=this.data.defaultAppearanceData,n=this.data.defaultAppearanceData.fontSize||9,i=e.style;let r;const a=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(p*n))||1);r=Math.min(n,a(t/p))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);r=Math.min(n,a(e/p))}i.fontSize=`calc(${r}px * var(--scale-factor))`,i.color=q.makeHexColor(t[0],t[1],t[2]),null!==this.data.textAlignment&&(i.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Nn extends Dn{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,i){const r=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),r.setValue(a.id,{[i]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let r=i.value||"";const a=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;a&&r.length>a&&(r=r.slice(0,a));let s=i.formattedValue||this.data.textContent?.join("\n")||null;s&&this.data.comb&&(s=s.replaceAll(/\s+/g,""));const o={userValue:r,formattedValue:s,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=s??r,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",s??r),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Cn.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=kn,this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",(i=>{e.setValue(t,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),o.formattedValue=null})),n.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue??"";n.value=o.userValue=t,o.formattedValue=null}));let l=e=>{const{formattedValue:t}=o;null!=t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{if(o.focused)return;const{target:t}=e;o.userValue&&(t.value=o.userValue),o.lastCommittedValue=t.value,o.commitKey=1,this.data.actions?.Focus||(o.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const i={value(n){o.userValue=n.detail.value??"",e.setValue(t,{value:o.userValue.toString()}),n.target.value=o.userValue},formattedValue(n){const{formattedValue:i}=n.detail;o.formattedValue=i,null!=i&&n.target!==document.activeElement&&(n.target.value=i),e.setValue(t,{formattedValue:i})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:i}=n.detail,{target:r}=n;if(0===i)return void r.removeAttribute("maxLength");r.setAttribute("maxLength",i);let a=o.userValue;!a||a.length<=i||(a=a.slice(0,i),r.value=o.userValue=a,e.setValue(t,{value:a}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:r.selectionStart,selEnd:r.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(e=>{o.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(o.commitKey=3):n=2,-1===n)return;const{value:i}=e.target;o.lastCommittedValue!==i&&(o.lastCommittedValue=i,o.userValue=i,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const i=l;l=null,n.addEventListener("blur",(e=>{if(!o.focused||!e.relatedTarget)return;this.data.actions?.Blur||(o.focused=!1);const{value:n}=e.target;o.userValue=n,o.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:o.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),i(e)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(e=>{o.lastCommittedValue=null;const{data:n,target:i}=e,{value:r,selectionStart:a,selectionEnd:s}=i;let l=a,c=s;switch(e.inputType){case"deleteWordBackward":{const e=r.substring(0,a).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=r.substring(a).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":a===s&&(l-=1);break;case"deleteContentForward":a===s&&(c+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,change:n||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(l&&n.addEventListener("blur",l),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Fn extends Dn{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class On extends Dn{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"==typeof i&&(i="Off"!==i,e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Cn.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=kn,r.addEventListener("change",(i=>{const{name:r,checked:a}=i.target;for(const i of this._getElementsByName(r,n)){const n=a&&i.exportValue===t.exportValue;i.domElement&&(i.domElement.checked=n),e.setValue(i.id,{value:n})}e.setValue(n,{value:a})})),r.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",(t=>{const i={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class zn extends Dn{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"==typeof i&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const i of this._getElementsByName(t.fieldName,n))e.setValue(i.id,{value:!1});const r=document.createElement("input");if(Cn.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=kn,r.addEventListener("change",(t=>{const{name:i,checked:r}=t.target;for(const t of this._getElementsByName(i,n))e.setValue(t.id,{value:!1});e.setValue(n,{value:r})})),r.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!=n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;r.addEventListener("updatefromsandbox",(t=>{const r={value:t=>{const r=i===t.detail.value;for(const i of this._getElementsByName(t.target.name)){const t=r&&i.id===n;i.domElement&&(i.domElement.checked=t),e.setValue(i.id,{value:t})}}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class jn extends Ln{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class Bn extends Dn{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Cn.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=kn;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const e of i.options)e.selected=e.value===t}));for(const e of this.data.options){const t=document.createElement("option");t.textContent=e.displayValue,t.value=e.exportValue,n.value.includes(e.exportValue)&&(t.setAttribute("selected",!0),r=!1),i.append(t)}let a=null;if(r){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),i.prepend(e),a=()=>{e.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const s=e=>{const t=e?"value":"textContent",{options:n,multiple:r}=i;return r?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=s(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const r={value(n){a?.();const r=n.detail.value,l=new Set(Array.isArray(r)?r:[r]);for(const e of i.options)e.selected=l.has(e.value);e.setValue(t,{value:s(!0)}),o=s(!1)},multipleSelection(e){i.multiple=!0},remove(n){const r=i.options,a=n.detail.remove;r[a].selected=!1,i.remove(a),r.length>0&&-1===Array.prototype.findIndex.call(r,(e=>e.selected))&&(r[0].selected=!0),e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},clear(n){for(;0!==i.length;)i.remove(0);e.setValue(t,{value:null,items:[]}),o=s(!1)},insert(n){const{index:r,displayValue:a,exportValue:c}=n.detail.insert,u=i.children[r],d=document.createElement("option");d.textContent=a,d.value=c,u?u.before(d):i.append(d),e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},items(n){const{items:r}=n.detail;for(;0!==i.length;)i.remove(0);for(const e of r){const{displayValue:t,exportValue:n}=e,r=document.createElement("option");r.textContent=t,r.value=n,i.append(r)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},indices(n){const i=new Set(n.detail.indices);for(const e of n.target.options)e.selected=i.has(e.index);e.setValue(t,{value:s(!0)}),o=s(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(r,n)})),i.addEventListener("input",(n=>{const i=s(!0),r=s(!1);e.setValue(t,{value:i}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:r,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):i.addEventListener("input",(function(n){e.setValue(t,{value:s(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Hn extends Rn{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Rn._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Un({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>`${K}${e}`)).join(",")),this.container}}class Un{#xi=this.#Ti.bind(this);#_i=this.#Ei.bind(this);#ki=this.#Ci.bind(this);#Mi=this.#Pi.bind(this);#Ri=null;#he=null;#Li=null;#Ii=null;#Di=null;#Ni=null;#Fi=null;#Oi=!1;#zi=null;#E=null;#ji=null;#Bi=null;#Hi=null;#mi=null;#Ui=!1;constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:r,contentsObj:a,richText:s,parent:o,rect:l,parentRect:c,open:u}){this.#he=e,this.#Hi=i,this.#Li=a,this.#Bi=s,this.#Ni=o,this.#Ri=t,this.#ji=l,this.#Fi=c,this.#Di=n,this.#Ii=le.toDateObject(r),this.trigger=n.flatMap((e=>e.getElementsToTriggerPopup()));for(const e of this.trigger)e.addEventListener("click",this.#Mi),e.addEventListener("mouseenter",this.#ki),e.addEventListener("mouseleave",this.#_i),e.classList.add("popupTriggerArea");for(const e of n)e.container?.addEventListener("keydown",this.#xi);this.#he.hidden=!0,u&&this.#Pi()}render(){if(this.#zi)return;const e=this.#zi=document.createElement("div");if(e.className="popup",this.#Ri){const t=e.style.outlineColor=q.makeHexColor(...this.#Ri);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor=`color-mix(in srgb, ${t} 30%, white)`;else{const t=.7;e.style.backgroundColor=q.makeHexColor(...this.#Ri.map((e=>Math.floor(t*(255-e)+e))))}}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),({dir:n.dir,str:n.textContent}=this.#Hi),e.append(t),this.#Ii){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#Ii.valueOf()})),t.append(e)}const i=this.#$i;if(i)En.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(this.#Li);e.append(t)}this.#he.append(e)}get#$i(){const e=this.#Bi,t=this.#Li;return!e?.str||t?.str&&t.str!==e.str?null:this.#Bi.html||null}get#qi(){return this.#$i?.attributes?.style?.fontSize||0}get#Wi(){return this.#$i?.attributes?.style?.color||null}#Vi(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#Wi,fontSize:this.#qi?`calc(${this.#qi}px * var(--scale-factor))`:""}};for(const n of e.split("\n"))t.push({name:"span",value:n,attributes:i});return n}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let e=0,t=i.length;e<t;++e){const r=i[e];n.append(document.createTextNode(r)),e<t-1&&n.append(document.createElement("br"))}return n}#Ti(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#Oi)&&this.#Pi()}updateEdited({rect:e,popupContent:t}){this.#mi||={contentsObj:this.#Li,richText:this.#Bi},e&&(this.#E=null),t&&(this.#Bi=this.#Vi(t),this.#Li=null),this.#zi?.remove(),this.#zi=null}resetEdited(){this.#mi&&(({contentsObj:this.#Li,richText:this.#Bi}=this.#mi),this.#mi=null,this.#zi?.remove(),this.#zi=null,this.#E=null)}#Gi(){if(null!==this.#E)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:r}}}=this.#Ni;let a=!!this.#Fi,s=a?this.#Fi:this.#ji;for(const e of this.#Di)if(!s||null!==q.intersect(e.data.rect,s)){s=e.data.rect,a=!0;break}const o=q.normalizeRect([s[0],e[3]-s[1]+e[1],s[2],e[3]-s[3]+e[1]]),l=a?s[2]-s[0]+5:0,c=o[0]+l,u=o[1];this.#E=[100*(c-i)/t,100*(u-r)/n];const{style:d}=this.#he;d.left=`${this.#E[0]}%`,d.top=`${this.#E[1]}%`}#Pi(){this.#Oi=!this.#Oi,this.#Oi?(this.#Ci(),this.#he.addEventListener("click",this.#Mi),this.#he.addEventListener("keydown",this.#xi)):(this.#Ei(),this.#he.removeEventListener("click",this.#Mi),this.#he.removeEventListener("keydown",this.#xi))}#Ci(){this.#zi||this.render(),this.isVisible?this.#Oi&&this.#he.classList.add("focused"):(this.#Gi(),this.#he.hidden=!1,this.#he.style.zIndex=parseInt(this.#he.style.zIndex)+1e3)}#Ei(){this.#he.classList.remove("focused"),!this.#Oi&&this.isVisible&&(this.#he.hidden=!0,this.#he.style.zIndex=parseInt(this.#he.style.zIndex)-1e3)}forceHide(){this.#Ui=this.isVisible,this.#Ui&&(this.#he.hidden=!0)}maybeShow(){this.#Ui&&(this.#zi||this.#Ci(),this.#Ui=!1,this.#he.hidden=!1)}get isVisible(){return!1===this.#he.hidden}}class $n extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=g.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class qn extends Rn{#Ki=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=Mn(e.rect),i=this.svgFactory.create(t,n,!0),r=this.#Ki=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Ki}addHighlightArea(){this.container.classList.add("highlightArea")}}class Wn extends Rn{#Qi=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=Mn(e.rect),i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,a=this.#Qi=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",r/2),a.setAttribute("y",r/2),a.setAttribute("width",t-r),a.setAttribute("height",n-r),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Qi}addHighlightArea(){this.container.classList.add("highlightArea")}}class Vn extends Rn{#Xi=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=Mn(e.rect),i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,a=this.#Xi=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-r/2),a.setAttribute("ry",n/2-r/2),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Xi}addHighlightArea(){this.container.classList.add("highlightArea")}}class Gn extends Rn{#Yi=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:i}}=this;if(!t)return this.container;const{width:r,height:a}=Mn(e),s=this.svgFactory.create(r,a,!0);let o=[];for(let n=0,i=t.length;n<i;n+=2){const i=t[n]-e[0],r=e[3]-t[n+1];o.push(`${i},${r}`)}o=o.join(" ");const l=this.#Yi=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Yi}addHighlightArea(){this.container.classList.add("highlightArea")}}class Kn extends Gn{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Qn extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Xn extends Rn{#Ji=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?g.HIGHLIGHT:g.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:t,borderStyle:n,popupRef:i}}=this,{width:r,height:a}=Mn(e),s=this.svgFactory.create(r,a,!0);for(const i of t){let t=[];for(let n=0,r=i.length;n<r;n+=2){const r=i[n]-e[0],a=e[3]-i[n+1];t.push(`${r},${a}`)}t=t.join(" ");const r=this.svgFactory.createElement(this.svgElementName);this.#Ji.push(r),r.setAttribute("points",t),r.setAttribute("stroke-width",n.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(s),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return this.#Ji}addHighlightArea(){this.container.classList.add("highlightArea")}}class Yn extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=g.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Jn extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Zn extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ei extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ti extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=g.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class ni extends Rn{#Zi=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#er.bind(this)),this.#Zi=n;const{isMac:i}=U.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&this.#er()})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#Zi}addHighlightArea(){this.container.classList.add("highlightArea")}#er(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class ii{#tr=null;#nr=null;#ir=new Map;#rr=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:a,structTreeLayer:s}){this.div=e,this.#tr=t,this.#nr=n,this.#rr=s||null,this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return this.#ir.size>0}async#ar(e,t){const n=e.firstChild||e,i=n.id=`${K}${t}`,r=await(this.#rr?.getAriaAttributes(i));if(r)for(const[e,t]of r)n.setAttribute(e,t);this.div.append(e),this.#tr?.moveElementInDOM(this.div,e,n,!1)}async render(e){const{annotations:t}=e,n=this.div;pe(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new _n,annotationStorage:e.annotationStorage||new Le,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const e of t){if(e.noHTML)continue;const t=16===e.annotationType;if(t){const t=i.get(e.id);if(!t)continue;r.elements=t}else{const{width:t,height:n}=Mn(e.rect);if(t<=0||n<=0)continue}r.data=e;const n=Pn.create(r);if(!n.isRenderable)continue;if(!t&&e.popupRef){const t=i.get(e.popupRef);t?t.push(n):i.set(e.popupRef,[n])}const a=n.render();e.hidden&&(a.style.visibility="hidden"),await this.#ar(a,e.id),n._isEditable&&(this.#ir.set(n.data.id,n),this._annotationEditorUIManager?.renderAnnotationElement(n))}this.#sr()}update({viewport:e}){const t=this.div;this.viewport=e,pe(t,{rotation:e.rotation}),this.#sr(),t.hidden=!1}#sr(){if(!this.#nr)return;const e=this.div;for(const[t,n]of this.#nr){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?"CANVAS"===r.nodeName?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n)}this.#nr.clear()}getEditableAnnotations(){return Array.from(this.#ir.values())}getEditableAnnotation(e){return this.#ir.get(e)}}const ri=/\r\n?|\n/g;class ai extends _e{#Ri;#or="";#lr=`${this.id}-editor`;#cr=null;#qi;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=ai.prototype,t=e=>e.isEmpty(),n=xe.TRANSLATE_SMALL,i=xe.TRANSLATE_BIG;return P(this,"_keyboardManager",new Ae([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=g.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#Ri=e.color||ai._defaultColor||_e._defaultLineColor,this.#qi=e.fontSize||ai._defaultFontSize}static initialize(e,t){_e.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case m.FREETEXT_SIZE:ai._defaultFontSize=t;break;case m.FREETEXT_COLOR:ai._defaultColor=t}}updateParams(e,t){switch(e){case m.FREETEXT_SIZE:this.#ur(t);break;case m.FREETEXT_COLOR:this.#dr(t)}}static get defaultPropertiesToUpdate(){return[[m.FREETEXT_SIZE,ai._defaultFontSize],[m.FREETEXT_COLOR,ai._defaultColor||_e._defaultLineColor]]}get propertiesToUpdate(){return[[m.FREETEXT_SIZE,this.#qi],[m.FREETEXT_COLOR,this.#Ri]]}#ur(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#qi)*this.parentScale),this.#qi=e,this.#hr()},n=this.#qi;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#dr(e){const t=e=>{this.#Ri=this.editorDiv.style.color=e},n=this.#Ri;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-ai._internalPadding*e,-(ai._internalPadding+this.#qi)*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(g.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#cr=new AbortController;const e=this._uiManager.combinedSignal(this.#cr);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#lr),this._isDraggable=!0,this.#cr?.abort(),this.#cr=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#pr(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&"BR"===n.nodeName||(e.push(ai.#fr(n)),t=n);return e.join("\n")}#hr(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,i=t.style.display,r=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=i,t.classList.toggle("hidden",r)}this.rotation%180==this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#or,t=this.#or=this.#pr().trimEnd();if(e===t)return;const n=e=>{this.#or=e,e?(this.#gr(),this._uiManager.rebuild(this),this.#hr()):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#hr()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ai._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#lr),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#qi}px * var(--scale-factor))`,n.color=this.#Ri,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),ve(this,this.div,["dblclick","keydown"]),this.width){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:r}=this._initialData;let[a,s]=this.getInitialTranslation();[a,s]=this.pageTranslationToScreen(a,s);const[o,l]=this.pageDimensions,[c,u]=this.pageTranslation;let d,h;switch(this.rotation){case 0:d=e+(r[0]-c)/o,h=t+this.height-(r[1]-u)/l;break;case 90:d=e+(r[0]-c)/o,h=t-(r[1]-u)/l,[a,s]=[s,-a];break;case 180:d=e-this.width+(r[0]-c)/o,h=t-(r[1]-u)/l,[a,s]=[-a,-s];break;case 270:d=e+(r[0]-c-this.height*l)/o,h=t+(r[1]-u-this.width*o)/l,[a,s]=[-s,a]}this.setAt(d*n,h*i,a,s)}else this.setAt(e*n,t*i,this.width*n,this.height*i);this.#gr(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#fr(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(ri,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const i=ai.#mr(t.getData("text")||"").replaceAll(ri,"\n");if(!i)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const a=r.getRangeAt(0);if(!i.includes("\n"))return a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void r.collapseToStart();const{startContainer:s,startOffset:o}=a,l=[],c=[];if(s.nodeType===Node.TEXT_NODE){const e=s.parentElement;if(c.push(s.nodeValue.slice(o).replaceAll(ri,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(ai.#fr(n)):t=c}l.push(s.nodeValue.slice(0,o).replaceAll(ri,""))}else if(s===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(ai.#fr(n))}this.#or=`${l.join("\n")}${i}${c.join("\n")}`,this.#gr();const u=new Range;let d=l.reduce(((e,t)=>e+t.length),0);for(const{firstChild:e}of this.editorDiv.childNodes)if(e.nodeType===Node.TEXT_NODE){const t=e.nodeValue.length;if(d<=t){u.setStart(e,d),u.setEnd(e,d);break}d-=t}r.removeAllRanges(),r.addRange(u)}#gr(){if(this.editorDiv.replaceChildren(),this.#or)for(const e of this.#or.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#vr(){return this.#or.replaceAll(" "," ")}static#mr(e){return e.replaceAll(" "," ")}get contentDiv(){return this.editorDiv}static async deserialize(e,t,n){let i=null;if(e instanceof $n){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:r,rotation:a,id:s,popupRef:o},textContent:l,textPosition:c,parent:{page:{pageNumber:u}}}=e;if(!l||0===l.length)return null;i=e={annotationType:g.FREETEXT,color:Array.from(n),fontSize:t,value:l.join("\n"),position:c,pageIndex:u-1,rect:r.slice(0),rotation:a,id:s,deleted:!1,popupRef:o}}const r=await super.deserialize(e,t,n);return r.#qi=e.fontSize,r.#Ri=q.makeHexColor(...e.color),r.#or=ai.#mr(e.value),r.annotationElementId=e.id||null,r._initialData=i,r}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=ai._internalPadding*this.parentScale,n=this.getRect(t,t),i=_e._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#Ri),r={annotationType:g.FREETEXT,color:i,fontSize:this.#qi,value:this.#vr(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?r:this.annotationElementId&&!this.#yr(r)?null:(r.id=this.annotationElementId,r)}#yr(e){const{value:t,fontSize:n,color:i,pageIndex:r}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some(((e,t)=>e!==i[t]))||e.pageIndex!==r}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize=`calc(${this.#qi}px * var(--scale-factor))`,n.color=this.#Ri,t.replaceChildren();for(const e of this.#or.split("\n")){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),t.append(n)}const i=ai._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(i,i),popupContent:this.#or}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class si{toSVGPath(){k("Abstract method `toSVGPath` must be implemented.")}get box(){k("Abstract getter `box` must be implemented.")}serialize(e,t){k("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){k("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){k("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}class oi{#br;#wr=[];#Ar;#Sr;#xr=[];#Tr=new Float64Array(18);#_r;#Er;#kr;#Cr;#Mr;#Pr;#Rr=[];static#Lr=8;static#Ir=2;static#Dr=oi.#Lr+oi.#Ir;constructor({x:e,y:t},n,i,r,a,s=0){this.#br=n,this.#Pr=r*i,this.#Sr=a,this.#Tr.set([NaN,NaN,NaN,NaN,e,t],6),this.#Ar=s,this.#Cr=oi.#Lr*i,this.#kr=oi.#Dr*i,this.#Mr=i,this.#Rr.push(e,t)}isEmpty(){return isNaN(this.#Tr[8])}#Nr(){const e=this.#Tr.subarray(4,6),t=this.#Tr.subarray(16,18),[n,i,r,a]=this.#br;return[(this.#_r+(e[0]-t[0])/2-n)/r,(this.#Er+(e[1]-t[1])/2-i)/a,(this.#_r+(t[0]-e[0])/2-n)/r,(this.#Er+(t[1]-e[1])/2-i)/a]}add({x:e,y:t}){this.#_r=e,this.#Er=t;const[n,i,r,a]=this.#br;let[s,o,l,c]=this.#Tr.subarray(8,12);const u=e-l,d=t-c,h=Math.hypot(u,d);if(h<this.#kr)return!1;const p=h-this.#Cr,f=p/h,g=f*u,m=f*d;let v=s,y=o;s=l,o=c,l+=g,c+=m,this.#Rr?.push(e,t);const b=g/p,w=-m/p*this.#Pr,A=b*this.#Pr;return this.#Tr.set(this.#Tr.subarray(2,8),0),this.#Tr.set([l+w,c+A],4),this.#Tr.set(this.#Tr.subarray(14,18),12),this.#Tr.set([l-w,c-A],16),isNaN(this.#Tr[6])?(0===this.#xr.length&&(this.#Tr.set([s+w,o+A],2),this.#xr.push(NaN,NaN,NaN,NaN,(s+w-n)/r,(o+A-i)/a),this.#Tr.set([s-w,o-A],14),this.#wr.push(NaN,NaN,NaN,NaN,(s-w-n)/r,(o-A-i)/a)),this.#Tr.set([v,y,s,o,l,c],6),!this.isEmpty()):(this.#Tr.set([v,y,s,o,l,c],6),Math.abs(Math.atan2(y-o,v-s)-Math.atan2(m,g))<Math.PI/2?([s,o,l,c]=this.#Tr.subarray(2,6),this.#xr.push(NaN,NaN,NaN,NaN,((s+l)/2-n)/r,((o+c)/2-i)/a),[s,o,v,y]=this.#Tr.subarray(14,18),this.#wr.push(NaN,NaN,NaN,NaN,((v+s)/2-n)/r,((y+o)/2-i)/a),!0):([v,y,s,o,l,c]=this.#Tr.subarray(0,6),this.#xr.push(((v+5*s)/6-n)/r,((y+5*o)/6-i)/a,((5*s+l)/6-n)/r,((5*o+c)/6-i)/a,((s+l)/2-n)/r,((o+c)/2-i)/a),[l,c,s,o,v,y]=this.#Tr.subarray(12,18),this.#wr.push(((v+5*s)/6-n)/r,((y+5*o)/6-i)/a,((5*s+l)/6-n)/r,((5*o+c)/6-i)/a,((s+l)/2-n)/r,((o+c)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#xr,t=this.#wr;if(isNaN(this.#Tr[6])&&!this.isEmpty())return this.#Fr();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let t=6;t<e.length;t+=6)isNaN(e[t])?n.push(`L${e[t+4]} ${e[t+5]}`):n.push(`C${e[t]} ${e[t+1]} ${e[t+2]} ${e[t+3]} ${e[t+4]} ${e[t+5]}`);this.#Or(n);for(let e=t.length-6;e>=6;e-=6)isNaN(t[e])?n.push(`L${t[e+4]} ${t[e+5]}`):n.push(`C${t[e]} ${t[e+1]} ${t[e+2]} ${t[e+3]} ${t[e+4]} ${t[e+5]}`);return this.#zr(n),n.join(" ")}#Fr(){const[e,t,n,i]=this.#br,[r,a,s,o]=this.#Nr();return`M${(this.#Tr[2]-e)/n} ${(this.#Tr[3]-t)/i} L${(this.#Tr[4]-e)/n} ${(this.#Tr[5]-t)/i} L${r} ${a} L${s} ${o} L${(this.#Tr[16]-e)/n} ${(this.#Tr[17]-t)/i} L${(this.#Tr[14]-e)/n} ${(this.#Tr[15]-t)/i} Z`}#zr(e){const t=this.#wr;e.push(`L${t[4]} ${t[5]} Z`)}#Or(e){const[t,n,i,r]=this.#br,a=this.#Tr.subarray(4,6),s=this.#Tr.subarray(16,18),[o,l,c,u]=this.#Nr();e.push(`L${(a[0]-t)/i} ${(a[1]-n)/r} L${o} ${l} L${c} ${u} L${(s[0]-t)/i} ${(s[1]-n)/r}`)}newFreeDrawOutline(e,t,n,i,r,a){return new li(e,t,n,i,r,a)}getOutlines(){const e=this.#xr,t=this.#wr,n=this.#Tr,[i,r,a,s]=this.#br,o=new Float64Array((this.#Rr?.length??0)+2);for(let e=0,t=o.length-2;e<t;e+=2)o[e]=(this.#Rr[e]-i)/a,o[e+1]=(this.#Rr[e+1]-r)/s;if(o[o.length-2]=(this.#_r-i)/a,o[o.length-1]=(this.#Er-r)/s,isNaN(n[6])&&!this.isEmpty())return this.#jr(o);const l=new Float64Array(this.#xr.length+24+this.#wr.length);let c=e.length;for(let t=0;t<c;t+=2)isNaN(e[t])?l[t]=l[t+1]=NaN:(l[t]=e[t],l[t+1]=e[t+1]);c=this.#Br(l,c);for(let e=t.length-6;e>=6;e-=6)for(let n=0;n<6;n+=2)isNaN(t[e+n])?(l[c]=l[c+1]=NaN,c+=2):(l[c]=t[e+n],l[c+1]=t[e+n+1],c+=2);return this.#Hr(l,c),this.newFreeDrawOutline(l,o,this.#br,this.#Mr,this.#Ar,this.#Sr)}#jr(e){const t=this.#Tr,[n,i,r,a]=this.#br,[s,o,l,c]=this.#Nr(),u=new Float64Array(36);return u.set([NaN,NaN,NaN,NaN,(t[2]-n)/r,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-n)/r,(t[5]-i)/a,NaN,NaN,NaN,NaN,s,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(t[16]-n)/r,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-n)/r,(t[15]-i)/a],0),this.newFreeDrawOutline(u,e,this.#br,this.#Mr,this.#Ar,this.#Sr)}#Hr(e,t){const n=this.#wr;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+6}#Br(e,t){const n=this.#Tr.subarray(4,6),i=this.#Tr.subarray(16,18),[r,a,s,o]=this.#br,[l,c,u,d]=this.#Nr();return e.set([NaN,NaN,NaN,NaN,(n[0]-r)/s,(n[1]-a)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(i[0]-r)/s,(i[1]-a)/o],t),t+24}}class li extends si{#br;#Ur=null;#Ar;#Sr;#Rr;#Mr;#$r;constructor(e,t,n,i,r,a){super(),this.#$r=e,this.#Rr=t,this.#br=n,this.#Mr=i,this.#Ar=r,this.#Sr=a,this.#qr(a);const{x:s,y:o,width:l,height:c}=this.#Ur;for(let t=0,n=e.length;t<n;t+=2)e[t]=(e[t]-s)/l,e[t+1]=(e[t+1]-o)/c;for(let e=0,n=t.length;e<n;e+=2)t[e]=(t[e]-s)/l,t[e+1]=(t[e+1]-o)/c}toSVGPath(){const e=[`M${this.#$r[4]} ${this.#$r[5]}`];for(let t=6,n=this.#$r.length;t<n;t+=6)isNaN(this.#$r[t])?e.push(`L${this.#$r[t+4]} ${this.#$r[t+5]}`):e.push(`C${this.#$r[t]} ${this.#$r[t+1]} ${this.#$r[t+2]} ${this.#$r[t+3]} ${this.#$r[t+4]} ${this.#$r[t+5]}`);return e.push("Z"),e.join(" ")}serialize([e,t,n,i],r){const a=n-e,s=i-t;let o,l;switch(r){case 0:o=this.#Wr(this.#$r,e,i,a,-s),l=this.#Wr(this.#Rr,e,i,a,-s);break;case 90:o=this.#Vr(this.#$r,e,t,a,s),l=this.#Vr(this.#Rr,e,t,a,s);break;case 180:o=this.#Wr(this.#$r,n,t,-a,s),l=this.#Wr(this.#Rr,n,t,-a,s);break;case 270:o=this.#Vr(this.#$r,n,i,-a,-s),l=this.#Vr(this.#Rr,n,i,-a,-s)}return{outline:Array.from(o),points:[Array.from(l)]}}#Wr(e,t,n,i,r){const a=new Float64Array(e.length);for(let s=0,o=e.length;s<o;s+=2)a[s]=t+e[s]*i,a[s+1]=n+e[s+1]*r;return a}#Vr(e,t,n,i,r){const a=new Float64Array(e.length);for(let s=0,o=e.length;s<o;s+=2)a[s]=t+e[s+1]*i,a[s+1]=n+e[s]*r;return a}#qr(e){const t=this.#$r;let n=t[4],i=t[5],r=n,a=i,s=n,o=i,l=n,c=i;const u=e?Math.max:Math.min;for(let e=6,d=t.length;e<d;e+=6){if(isNaN(t[e]))r=Math.min(r,t[e+4]),a=Math.min(a,t[e+5]),s=Math.max(s,t[e+4]),o=Math.max(o,t[e+5]),c<t[e+5]?(l=t[e+4],c=t[e+5]):c===t[e+5]&&(l=u(l,t[e+4]));else{const d=q.bezierBoundingBox(n,i,...t.slice(e,e+6));r=Math.min(r,d[0]),a=Math.min(a,d[1]),s=Math.max(s,d[2]),o=Math.max(o,d[3]),c<d[3]?(l=d[2],c=d[3]):c===d[3]&&(l=u(l,d[2]))}n=t[e+4],i=t[e+5]}const d=r-this.#Ar,h=a-this.#Ar,p=s-r+2*this.#Ar,f=o-a+2*this.#Ar;this.#Ur={x:d,y:h,width:p,height:f,lastPoint:[l,c]}}get box(){return this.#Ur}newOutliner(e,t,n,i,r,a=0){return new oi(e,t,n,i,r,a)}getNewOutline(e,t){const{x:n,y:i,width:r,height:a}=this.#Ur,[s,o,l,c]=this.#br,u=r*l,d=a*c,h=n*l+s,p=i*c+o,f=this.newOutliner({x:this.#Rr[0]*u+h,y:this.#Rr[1]*d+p},this.#br,this.#Mr,e,this.#Sr,t??this.#Ar);for(let e=2;e<this.#Rr.length;e+=2)f.add({x:this.#Rr[e]*u+h,y:this.#Rr[e+1]*d+p});return f.getOutlines()}get mustRemoveSelfIntersections(){return!0}}class ci{#br;#Gr=[];#Kr=[];constructor(e,t=0,n=0,i=!0){let r=1/0,a=-1/0,s=1/0,o=-1/0;const l=10**-4;for(const{x:n,y:i,width:c,height:u}of e){const e=Math.floor((n-t)/l)*l,d=Math.ceil((n+c+t)/l)*l,h=Math.floor((i-t)/l)*l,p=Math.ceil((i+u+t)/l)*l,f=[e,h,p,!0],g=[d,h,p,!1];this.#Gr.push(f,g),r=Math.min(r,e),a=Math.max(a,d),s=Math.min(s,h),o=Math.max(o,p)}const c=a-r+2*n,u=o-s+2*n,d=r-n,h=s-n,p=this.#Gr.at(i?-1:-2),f=[p[0],p[2]];for(const e of this.#Gr){const[t,n,i]=e;e[0]=(t-d)/c,e[1]=(n-h)/u,e[2]=(i-h)/u}this.#br={x:d,y:h,width:c,height:u,lastPoint:f}}getOutlines(){this.#Gr.sort(((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]));const e=[];for(const t of this.#Gr)t[3]?(e.push(...this.#Qr(t)),this.#Xr(t)):(this.#Yr(t),e.push(...this.#Qr(t)));return this.#Jr(e)}#Jr(e){const t=[],n=new Set;for(const n of e){const[e,i,r]=n;t.push([e,i,n],[e,r,n])}t.sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let e=0,i=t.length;e<i;e+=2){const i=t[e][2],r=t[e+1][2];i.push(r),r.push(i),n.add(i),n.add(r)}const i=[];let r;for(;n.size>0;){const e=n.values().next().value;let[t,a,s,o,l]=e;n.delete(e);let c=t,u=a;for(r=[t,s],i.push(r);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,a,s,o,l]=e,c!==t&&(r.push(c,u,t,u===a?a:s),c=t),u=u===a?s:a}r.push(c,u)}return new ui(i,this.#br)}#Zr(e){const t=this.#Kr;let n=0,i=t.length-1;for(;n<=i;){const r=n+i>>1,a=t[r][0];if(a===e)return r;a<e?n=r+1:i=r-1}return i+1}#Xr([,e,t]){const n=this.#Zr(e);this.#Kr.splice(n,0,[e,t])}#Yr([,e,t]){const n=this.#Zr(e);for(let i=n;i<this.#Kr.length;i++){const[n,r]=this.#Kr[i];if(n!==e)break;if(n===e&&r===t)return void this.#Kr.splice(i,1)}for(let i=n-1;i>=0;i--){const[n,r]=this.#Kr[i];if(n!==e)break;if(n===e&&r===t)return void this.#Kr.splice(i,1)}}#Qr(e){const[t,n,i]=e,r=[[t,n,i]],a=this.#Zr(i);for(let e=0;e<a;e++){const[n,i]=this.#Kr[e];for(let e=0,a=r.length;e<a;e++){const[,s,o]=r[e];if(!(i<=s||o<=n))if(s>=n)if(o>i)r[e][1]=i;else{if(1===a)return[];r.splice(e,1),e--,a--}else r[e][2]=n,o>i&&r.push([t,i,o])}}return r}}class ui extends si{#br;#ea;constructor(e,t){super(),this.#ea=e,this.#br=t}toSVGPath(){const e=[];for(const t of this.#ea){let[n,i]=t;e.push(`M${n} ${i}`);for(let r=2;r<t.length;r+=2){const a=t[r],s=t[r+1];a===n?(e.push(`V${s}`),i=s):s===i&&(e.push(`H${a}`),n=a)}e.push("Z")}return e.join(" ")}serialize([e,t,n,i],r){const a=[],s=n-e,o=i-t;for(const t of this.#ea){const n=new Array(t.length);for(let r=0;r<t.length;r+=2)n[r]=e+t[r]*s,n[r+1]=i-t[r+1]*o;a.push(n)}return a}get box(){return this.#br}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}class di extends oi{newFreeDrawOutline(e,t,n,i,r,a){return new hi(e,t,n,i,r,a)}get classNamesForDrawing(){return["highlight","free"]}}class hi extends li{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,i,r,a=0){return new di(e,t,n,i,r,a)}}class pi{#ta=null;#na=null;#ia;#ra=null;#aa=!1;#sa=!1;#a=null;#oa;#la=null;#g=null;#ca;static#ua=null;static get _keyboardManager(){return P(this,"_keyboardManager",new Ae([[["Escape","mac+Escape"],pi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],pi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],pi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],pi.prototype._moveToPrevious],[["Home","mac+Home"],pi.prototype._moveToBeginning],[["End","mac+End"],pi.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#sa=!1,this.#ca=m.HIGHLIGHT_COLOR,this.#a=e):(this.#sa=!0,this.#ca=m.HIGHLIGHT_DEFAULT_COLOR),this.#g=e?._uiManager||t,this.#oa=this.#g._eventBus,this.#ia=e?.color||this.#g?.highlightColors.values().next().value||"#FFFF98",pi.#ua||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#ta=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=this.#g._signal;e.addEventListener("click",this.#da.bind(this),{signal:t}),e.addEventListener("keydown",this.#Ti.bind(this),{signal:t});const n=this.#na=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#ia,e.append(n),e}renderMainDropdown(){const e=this.#ra=this.#ha();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#ha(){const e=document.createElement("div"),t=this.#g._signal;e.addEventListener("contextmenu",se,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of this.#g.highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",pi.#ua[n]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=i,r.setAttribute("aria-selected",i===this.#ia),r.addEventListener("click",this.#pa.bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",this.#Ti.bind(this),{signal:t}),e}#pa(e,t){t.stopPropagation(),this.#oa.dispatch("switchannotationeditorparams",{source:this,type:this.#ca,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#ta)return void this.#da(e);const t=e.target.getAttribute("data-color");t&&this.#pa(t,e)}_moveToNext(e){this.#fa?e.target!==this.#ta?e.target.nextSibling?.focus():this.#ra.firstChild?.focus():this.#da(e)}_moveToPrevious(e){e.target!==this.#ra?.firstChild&&e.target!==this.#ta?(this.#fa||this.#da(e),e.target.previousSibling?.focus()):this.#fa&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){this.#fa?this.#ra.firstChild?.focus():this.#da(e)}_moveToEnd(e){this.#fa?this.#ra.lastChild?.focus():this.#da(e)}#Ti(e){pi._keyboardManager.exec(this,e)}#da(e){if(this.#fa)return void this.hideDropdown();if(this.#aa=0===e.detail,this.#la||(this.#la=new AbortController,window.addEventListener("pointerdown",this.#c.bind(this),{signal:this.#g.combinedSignal(this.#la)})),this.#ra)return void this.#ra.classList.remove("hidden");const t=this.#ra=this.#ha();this.#ta.append(t)}#c(e){this.#ra?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#ra?.classList.add("hidden"),this.#la?.abort(),this.#la=null}get#fa(){return this.#ra&&!this.#ra.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#sa||(this.#fa?(this.hideDropdown(),this.#ta.focus({preventScroll:!0,focusVisible:this.#aa})):this.#a?.unselect())}updateColor(e){if(this.#na&&(this.#na.style.backgroundColor=e),!this.#ra)return;const t=this.#g.highlightColors.values();for(const n of this.#ra.children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#ta?.remove(),this.#ta=null,this.#na=null,this.#ra?.remove(),this.#ra=null}}class fi extends _e{#ga=null;#ma=0;#va;#ya=null;#r=null;#ba=null;#wa=null;#Aa=0;#Sa=null;#xa=null;#b=null;#Ta=!1;#_a=null;#Ea;#ka=null;#Ca="";#Pr;#Ma="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=g.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=fi.prototype;return P(this,"_keyboardManager",new Ae([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||fi._defaultColor,this.#Pr=e.thickness||fi._defaultThickness,this.#Ea=e.opacity||fi._defaultOpacity,this.#va=e.boxes||null,this.#Ma=e.methodOfCreation||"",this.#Ca=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#Ta=!0,this.#Pa(e),this.#Ra()):this.#va&&(this.#ga=e.anchorNode,this.#ma=e.anchorOffset,this.#wa=e.focusNode,this.#Aa=e.focusOffset,this.#La(),this.#Ra(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#Ta?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#Pr,methodOfCreation:this.#Ma}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#La(){const e=new ci(this.#va,.001);this.#xa=e.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#xa.box);const t=new ci(this.#va,.0025,.001,"ltr"===this._uiManager.direction);this.#ba=t.getOutlines();const{lastPoint:n}=this.#ba.box;this.#_a=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#Pa({highlightOutlines:e,highlightId:t,clipPathId:n}){if(this.#xa=e,this.#ba=e.getNewOutline(this.#Pr/2+1.5,.0025),t>=0)this.#b=t,this.#ya=n,this.parent.drawLayer.finalizeLine(t,e),this.#ka=this.parent.drawLayer.drawOutline(this.#ba);else if(this.parent){const t=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#b,e),this.parent.drawLayer.updateBox(this.#b,fi.#Ia(this.#xa.box,(t-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#ka,this.#ba),this.parent.drawLayer.updateBox(this.#ka,fi.#Ia(this.#ba.box,t))}const{x:i,y:r,width:a,height:s}=e.box;switch(this.rotation){case 0:this.x=i,this.y=r,this.width=a,this.height=s;break;case 90:{const[e,t]=this.parentDimensions;this.x=r,this.y=1-i,this.width=a*t/e,this.height=s*e/t;break}case 180:this.x=1-i,this.y=1-r,this.width=a,this.height=s;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-r,this.y=i,this.width=a*t/e,this.height=s*e/t;break}}const{lastPoint:o}=this.#ba.box;this.#_a=[(o[0]-i)/a,(o[1]-r)/s]}static initialize(e,t){_e.initialize(e,t),fi._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case m.HIGHLIGHT_DEFAULT_COLOR:fi._defaultColor=t;break;case m.HIGHLIGHT_THICKNESS:fi._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return this.#_a}updateParams(e,t){switch(e){case m.HIGHLIGHT_COLOR:this.#dr(t);break;case m.HIGHLIGHT_THICKNESS:this.#Da(t)}}static get defaultPropertiesToUpdate(){return[[m.HIGHLIGHT_DEFAULT_COLOR,fi._defaultColor],[m.HIGHLIGHT_THICKNESS,fi._defaultThickness]]}get propertiesToUpdate(){return[[m.HIGHLIGHT_COLOR,this.color||fi._defaultColor],[m.HIGHLIGHT_THICKNESS,this.#Pr||fi._defaultThickness],[m.HIGHLIGHT_FREE,this.#Ta]]}#dr(e){const t=(e,t)=>{this.color=e,this.parent?.drawLayer.changeColor(this.#b,e),this.#r?.updateColor(e),this.#Ea=t,this.parent?.drawLayer.changeOpacity(this.#b,t)},n=this.color,i=this.#Ea;this.addCommands({cmd:t.bind(this,e,fi._defaultOpacity),undo:t.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#Da(e){const t=this.#Pr,n=e=>{this.#Pr=e,this.#Na(e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(this.#r=new pi({editor:this}),e.addColorPicker(this.#r)),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#Fa())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#Fa())}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#Oa(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#Ra(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#Oa():e&&(this.#Ra(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#Na(e){if(!this.#Ta)return;this.#Pa({highlightOutlines:this.#xa.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}#Oa(){null!==this.#b&&this.parent&&(this.parent.drawLayer.remove(this.#b),this.#b=null,this.parent.drawLayer.remove(this.#ka),this.#ka=null)}#Ra(e=this.parent){null===this.#b&&(({id:this.#b,clipPathId:this.#ya}=e.drawLayer.draw(this.#xa,this.color,this.#Ea)),this.#ka=e.drawLayer.drawOutline(this.#ba),this.#Sa&&(this.#Sa.style.clipPath=this.#ya))}static#Ia({x:e,y:t,width:n,height:i},r){switch(r){case 90:return{x:1-t-i,y:e,width:i,height:n};case 180:return{x:1-e-n,y:1-t-i,width:n,height:i};case 270:return{x:t,y:1-e-n,width:i,height:n}}return{x:e,y:t,width:n,height:i}}rotate(e){const{drawLayer:t}=this.parent;let n;this.#Ta?(e=(e-this.rotation+360)%360,n=fi.#Ia(this.#xa.box,e)):n=fi.#Ia(this,e),t.rotate(this.#b,e),t.rotate(this.#ka,e),t.updateBox(this.#b,n),t.updateBox(this.#ka,fi.#Ia(this.#ba.box,e))}render(){if(this.div)return this.div;const e=super.render();this.#Ca&&(e.setAttribute("aria-label",this.#Ca),e.setAttribute("role","mark")),this.#Ta?e.classList.add("free"):this.div.addEventListener("keydown",this.#za.bind(this),{signal:this._uiManager._signal});const t=this.#Sa=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#ya;const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),ve(this,this.#Sa,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(this.#ka,"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(this.#ka,"hovered")}#za(e){fi._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#ja(!0);break;case 1:case 3:this.#ja(!1)}}#ja(e){if(!this.#ga)return;const t=window.getSelection();e?t.setPosition(this.#ga,this.#ma):t.setPosition(this.#wa,this.#Aa)}select(){super.select(),this.#ka&&(this.parent?.drawLayer.removeClass(this.#ka,"hovered"),this.parent?.drawLayer.addClass(this.#ka,"selected"))}unselect(){super.unselect(),this.#ka&&(this.parent?.drawLayer.removeClass(this.#ka,"selected"),this.#Ta||this.#ja(!1))}get _mustFixPosition(){return!this.#Ta}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#b,e),this.parent.drawLayer.show(this.#ka,e))}#Fa(){return this.#Ta?this.rotation:0}#Ba(){if(this.#Ta)return null;const[e,t]=this.pageDimensions,[n,i]=this.pageTranslation,r=this.#va,a=new Float32Array(8*r.length);let s=0;for(const{x:o,y:l,width:c,height:u}of r){const r=o*e+n,d=(1-l-u)*t+i;a[s]=a[s+4]=r,a[s+1]=a[s+3]=d,a[s+2]=a[s+6]=r+c*e,a[s+5]=a[s+7]=d+u*t,s+=8}return a}#Ha(e){return this.#xa.serialize(e,this.#Fa())}static startHighlighting(e,t,{target:n,x:i,y:r}){const{x:a,y:s,width:o,height:l}=n.getBoundingClientRect(),c=new AbortController,u=e.combinedSignal(c),d=t=>{c.abort(),this.#Ua(e,t)};window.addEventListener("blur",d,{signal:u}),window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("pointerdown",(e=>{e.preventDefault(),e.stopPropagation()}),{capture:!0,passive:!1,signal:u}),window.addEventListener("contextmenu",se,{signal:u}),n.addEventListener("pointermove",this.#$a.bind(this,e),{signal:u}),this._freeHighlight=new di({x:i,y:r},[a,s,o,l],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#$a(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#Ua(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let i=null;if(e instanceof Yn){const{data:{quadPoints:t,rect:n,rotation:r,id:a,color:s,opacity:o,popupRef:l},parent:{page:{pageNumber:c}}}=e;i=e={annotationType:g.HIGHLIGHT,color:Array.from(s),opacity:o,quadPoints:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:r,id:a,deleted:!1,popupRef:l}}else if(e instanceof Xn){const{data:{inkLists:t,rect:n,rotation:r,id:a,color:s,borderStyle:{rawWidth:o},popupRef:l},parent:{page:{pageNumber:c}}}=e;i=e={annotationType:g.HIGHLIGHT,color:Array.from(s),thickness:o,inkLists:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:r,id:a,deleted:!1,popupRef:l}}const{color:r,quadPoints:a,inkLists:s,opacity:o}=e,l=await super.deserialize(e,t,n);l.color=q.makeHexColor(...r),l.#Ea=o||1,s&&(l.#Pr=e.thickness),l.annotationElementId=e.id||null,l._initialData=i;const[c,u]=l.pageDimensions,[d,h]=l.pageTranslation;if(a){const e=l.#va=[];for(let t=0;t<a.length;t+=8)e.push({x:(a[t]-d)/c,y:1-(a[t+1]-h)/u,width:(a[t+2]-a[t])/c,height:(a[t+1]-a[t+5])/u});l.#La(),l.#Ra(),l.rotate(l.rotation)}else if(s){l.#Ta=!0;const e=s[0],n={x:e[0]-d,y:u-(e[1]-h)},i=new di(n,[0,0,c,u],1,l.#Pr/2,!0,.001);for(let t=0,r=e.length;t<r;t+=2)n.x=e[t]-d,n.y=u-(e[t+1]-h),i.add(n);const{id:r,clipPathId:a}=t.drawLayer.draw(i,l.color,l._defaultOpacity,!0);l.#Pa({highlightOutlines:i.getOutlines(),highlightId:r,clipPathId:a}),l.#Ra()}return l}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),n=_e._colorManager.convert(this.color),i={annotationType:g.HIGHLIGHT,color:n,opacity:this.#Ea,thickness:this.#Pr,quadPoints:this.#Ba(),outlines:this.#Ha(t),pageIndex:this.pageIndex,rect:t,rotation:this.#Fa(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#yr(i)?null:(i.id=this.annotationElementId,i)}#yr(e){const{color:t}=this._initialData;return e.color.some(((e,n)=>e!==t[n]))}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class gi extends _e{#qa=0;#Wa=0;#Va=null;#Ga=new Path2D;#Ka=!1;#Qa=null;#Xa=!1;#Ya=!1;#Ja=null;#Za=null;#es=0;#ts=0;#ns=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=g.INK;constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){_e.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case m.INK_THICKNESS:gi._defaultThickness=t;break;case m.INK_COLOR:gi._defaultColor=t;break;case m.INK_OPACITY:gi._defaultOpacity=t/100}}updateParams(e,t){switch(e){case m.INK_THICKNESS:this.#Da(t);break;case m.INK_COLOR:this.#dr(t);break;case m.INK_OPACITY:this.#is(t)}}static get defaultPropertiesToUpdate(){return[[m.INK_THICKNESS,gi._defaultThickness],[m.INK_COLOR,gi._defaultColor||_e._defaultLineColor],[m.INK_OPACITY,Math.round(100*gi._defaultOpacity)]]}get propertiesToUpdate(){return[[m.INK_THICKNESS,this.thickness||gi._defaultThickness],[m.INK_COLOR,this.color||gi._defaultColor||_e._defaultLineColor],[m.INK_OPACITY,Math.round(100*(this.opacity??gi._defaultOpacity))]]}#Da(e){const t=e=>{this.thickness=e,this.#rs()},n=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#dr(e){const t=e=>{this.color=e,this.#as()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#is(e){const t=e=>{this.opacity=e,this.#as()};e/=100;const n=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#ss(),this.#os()),this.isAttachedToDOM||(this.parent.add(this),this.#ls()),this.#rs()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#Va&&(clearTimeout(this.#Va),this.#Va=null),this.#Ja?.disconnect(),this.#Ja=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,i=this.height*t;this.setDimensions(n,i)}enableEditMode(){this.#Ka||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.#cs())}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#us())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#ds(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}#hs(){const{ctx:e,color:t,opacity:n,thickness:i,parentScale:r,scaleFactor:a}=this;e.lineWidth=i*r/a,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}(n)}`}#ps(e,t){this.canvas.addEventListener("contextmenu",se,{signal:this._uiManager._signal}),this.#us(),this.#Qa=new AbortController;const n=this._uiManager.combinedSignal(this.#Qa);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:n}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:n}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:n}),this.isEditing=!0,this.#Ya||(this.#Ya=!0,this.#ls(),this.thickness||=gi._defaultThickness,this.color||=gi._defaultColor||_e._defaultLineColor,this.opacity??=gi._defaultOpacity),this.currentPath.push([e,t]),this.#Xa=!1,this.#hs(),this.#ns=()=>{this.#fs(),this.#ns&&window.requestAnimationFrame(this.#ns)},window.requestAnimationFrame(this.#ns)}#gs(e,t){const[n,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===i)return;const r=this.currentPath;let a=this.#Ga;if(r.push([e,t]),this.#Xa=!0,r.length<=2)return a.moveTo(...r[0]),void a.lineTo(e,t);3===r.length&&(this.#Ga=a=new Path2D,a.moveTo(...r[0])),this.#ms(a,...r.at(-3),...r.at(-2),e,t)}#vs(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);this.#Ga.lineTo(...e)}#ys(e,t){let n;if(this.#ns=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#gs(e,t),this.#vs(),1!==this.currentPath.length)n=this.#bs();else{const i=[e,t];n=[[i,i.slice(),i.slice(),i]]}const i=this.#Ga,r=this.currentPath;this.currentPath=[],this.#Ga=new Path2D,this.addCommands({cmd:()=>{this.allRawPaths.push(r),this.paths.push(n),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#ss(),this.#os()),this.#rs())},mustExec:!0})}#fs(){if(!this.#Xa)return;this.#Xa=!1;Math.ceil(this.thickness*this.parentScale);const e=this.currentPath.slice(-3),t=e.map((e=>e[0])),n=e.map((e=>e[1])),{ctx:i}=(Math.min(...t),Math.max(...t),Math.min(...n),Math.max(...n),this);i.save(),i.clearRect(0,0,this.canvas.width,this.canvas.height);for(const e of this.bezierPath2D)i.stroke(e);i.stroke(this.#Ga),i.restore()}#ms(e,t,n,i,r,a,s){const o=(t+i)/2,l=(n+r)/2,c=(i+a)/2,u=(r+s)/2;e.bezierCurveTo(o+2*(i-o)/3,l+2*(r-l)/3,c+2*(i-c)/3,u+2*(r-u)/3,c,u)}#bs(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[i,r]=e[0];for(n=1;n<e.length-2;n++){const[a,s]=e[n],[o,l]=e[n+1],c=(a+o)/2,u=(s+l)/2,d=[i+2*(a-i)/3,r+2*(s-r)/3],h=[c+2*(a-c)/3,u+2*(s-u)/3];t.push([[i,r],d,h,[c,u]]),[i,r]=[c,u]}const[a,s]=e[n],[o,l]=e[n+1],c=[i+2*(a-i)/3,r+2*(s-r)/3],u=[o+2*(a-o)/3,l+2*(s-l)/3];return t.push([[i,r],c,u,[o,l]]),t}#as(){if(this.isEmpty())return void this.#ws();this.#hs();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#ws();for(const e of this.bezierPath2D)t.stroke(e)}commit(){this.#Ka||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Ka=!0,this.div.classList.add("disabled"),this.#rs(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}#cs(){if(this.#Za)return;this.#Za=new AbortController;const e=this._uiManager.combinedSignal(this.#Za);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}#us(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#Ka&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#ps(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#gs(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#As(e)}canvasPointerleave(e){this.#As(e)}#As(e){this.#Qa?.abort(),this.#Qa=null,this.#cs(),this.#Va&&clearTimeout(this.#Va),this.#Va=setTimeout((()=>{this.#Va=null,this.canvas.removeEventListener("contextmenu",se)}),10),this.#ys(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#ss(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#os(){this.#Ja=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),this.#Ja.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#Ja?.disconnect(),this.#Ja=null}),{once:!0})}get isResizable(){return!this.isEmpty()&&this.#Ka}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,i,r,a]=this.#ds();if(this.setAt(n,i,0,0),this.setDims(r,a),this.#ss(),this.width){const[n,i]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*i),this.setAt(e*n,t*i,this.width*n,this.height*i),this.#Ya=!0,this.#ls(),this.setDims(this.width*n,this.height*i),this.#as(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#os(),this.div}#ls(){if(!this.#Ya)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#ws()}setDimensions(e,t){const n=Math.round(e),i=Math.round(t);if(this.#es===n&&this.#ts===i)return;this.#es=n,this.#ts=i,this.canvas.style.visibility="hidden";const[r,a]=this.parentDimensions;this.width=e/r,this.height=t/a,this.fixAndSetPosition(),this.#Ka&&this.#Ss(e,t),this.#ls(),this.#as(),this.canvas.style.visibility="visible",this.fixDims()}#Ss(e,t){const n=this.#xs(),i=(e-n)/this.#Wa,r=(t-n)/this.#qa;this.scaleFactor=Math.min(i,r)}#ws(){const e=this.#xs()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#Ts(e){const t=new Path2D;for(let n=0,i=e.length;n<i;n++){const[i,r,a,s]=e[n];0===n&&t.moveTo(...i),t.bezierCurveTo(r[0],r[1],a[0],a[1],s[0],s[1])}return t}static#_s(e,t,n){const[i,r,a,s]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=i,e[t+1]=s-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+i,e[t+1]=n+r}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=a-e[t],e[t+1]+=r;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=a-e[t+1],e[t+1]=s-n}break;default:throw new Error("Invalid rotation")}return e}static#Es(e,t,n){const[i,r,a,s]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=i,e[t+1]=s-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-r,e[t+1]=n-i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=a-e[t],e[t+1]-=r;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=s-e[t+1],e[t+1]=a-n}break;default:throw new Error("Invalid rotation")}return e}#ks(e,t,n,i){const r=[],a=this.thickness/2,s=e*t+a,o=e*n+a;for(const t of this.paths){const n=[],a=[];for(let i=0,r=t.length;i<r;i++){const[l,c,u,d]=t[i];if(l[0]===d[0]&&l[1]===d[1]&&1===r){const t=e*l[0]+s,i=e*l[1]+o;n.push(t,i),a.push(t,i);break}const h=e*l[0]+s,p=e*l[1]+o,f=e*c[0]+s,g=e*c[1]+o,m=e*u[0]+s,v=e*u[1]+o,y=e*d[0]+s,b=e*d[1]+o;0===i&&(n.push(h,p),a.push(h,p)),n.push(f,g,m,v,y,b),a.push(f,g),i===r-1&&a.push(y,b)}r.push({bezier:gi.#_s(n,i,this.rotation),points:gi.#_s(a,i,this.rotation)})}return r}#Cs(){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(const r of this.paths)for(const[a,s,o,l]of r){const r=q.bezierBoundingBox(...a,...s,...o,...l);e=Math.min(e,r[0]),n=Math.min(n,r[1]),t=Math.max(t,r[2]),i=Math.max(i,r[3])}return[e,n,t,i]}#xs(){return this.#Ka?Math.ceil(this.thickness*this.parentScale):0}#rs(e=!1){if(this.isEmpty())return;if(!this.#Ka)return void this.#as();const t=this.#Cs(),n=this.#xs();this.#Wa=Math.max(_e.MIN_SIZE,t[2]-t[0]),this.#qa=Math.max(_e.MIN_SIZE,t[3]-t[1]);const i=Math.ceil(n+this.#Wa*this.scaleFactor),r=Math.ceil(n+this.#qa*this.scaleFactor),[a,s]=this.parentDimensions;this.width=i/a,this.height=r/s,this.setAspectRatio(i,r);const o=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#ls(),this.#as(),this.#es=i,this.#ts=r,this.setDims(i,r);const c=e?n/this.scaleFactor/2:0;this.translate(o-this.translationX-c,l-this.translationY-c)}static async deserialize(e,t,n){if(e instanceof Xn)return null;const i=await super.deserialize(e,t,n);i.thickness=e.thickness,i.color=q.makeHexColor(...e.color),i.opacity=e.opacity;const[r,a]=i.pageDimensions,s=i.width*r,o=i.height*a,l=i.parentScale,c=e.thickness/2;i.#Ka=!0,i.#es=Math.round(s),i.#ts=Math.round(o);const{paths:u,rect:d,rotation:h}=e;for(let{bezier:e}of u){e=gi.#Es(e,d,h);const t=[];i.paths.push(t);let n=l*(e[0]-c),r=l*(e[1]-c);for(let i=2,a=e.length;i<a;i+=6){const a=l*(e[i]-c),s=l*(e[i+1]-c),o=l*(e[i+2]-c),u=l*(e[i+3]-c),d=l*(e[i+4]-c),h=l*(e[i+5]-c);t.push([[n,r],[a,s],[o,u],[d,h]]),n=d,r=h}const a=this.#Ts(t);i.bezierPath2D.push(a)}const p=i.#Cs();return i.#Wa=Math.max(_e.MIN_SIZE,p[2]-p[0]),i.#qa=Math.max(_e.MIN_SIZE,p[3]-p[1]),i.#Ss(s,o),i}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=_e._colorManager.convert(this.ctx.strokeStyle);return{annotationType:g.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#ks(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class mi extends _e{#Ms=null;#Ps=null;#Rs=null;#Ls=null;#Is=null;#Ds="";#Ns=null;#Ja=null;#Fs=null;#Os=!1;#zs=!1;static _type="stamp";static _editorType=g.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#Ls=e.bitmapUrl,this.#Is=e.bitmapFile}static initialize(e,t){_e.initialize(e,t)}static get supportedTypes(){return P(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>`image/${e}`)))}static get supportedTypesStr(){return P(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(g.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#js(e,t=!1){e?(this.#Ms=e.bitmap,t||(this.#Ps=e.id,this.#Os=e.isSvg),e.file&&(this.#Ds=e.file.name),this.#ss()):this.remove()}#Bs(){if(this.#Rs=null,this._uiManager.enableWaiting(!1),this.#Ns){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#Ms)return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#Ms){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:r,height:a}=e||this.copyCanvas(null,null,!0).imageData,s=await n.guess({name:"altText",request:{data:i,width:r,height:a,channels:i.length/(r*a)}});if(!s)throw new Error("No response from the AI service.");if(s.error)throw new Error("Error from the AI service.");if(s.cancel)return null;if(!s.output)throw new Error("No valid response from the AI service.");const o=s.output;return await this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}#Hs(){if(this.#Ps)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#Ps).then((e=>this.#js(e,!0))).finally((()=>this.#Bs()));if(this.#Ls){const e=this.#Ls;return this.#Ls=null,this._uiManager.enableWaiting(!0),void(this.#Rs=this._uiManager.imageManager.getFromUrl(e).then((e=>this.#js(e))).finally((()=>this.#Bs())))}if(this.#Is){const e=this.#Is;return this.#Is=null,this._uiManager.enableWaiting(!0),void(this.#Rs=this._uiManager.imageManager.getFromFile(e).then((e=>this.#js(e))).finally((()=>this.#Bs())))}const e=document.createElement("input");e.type="file",e.accept=mi.supportedTypesStr;const t=this._uiManager._signal;this.#Rs=new Promise((n=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#js(t)}else this.remove();n()}),{signal:t}),e.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:t})})).finally((()=>this.#Bs())),e.click()}remove(){this.#Ps&&(this.#Ms=null,this._uiManager.imageManager.deleteId(this.#Ps),this.#Ns?.remove(),this.#Ns=null,this.#Ja?.disconnect(),this.#Ja=null,this.#Fs&&(clearTimeout(this.#Fs),this.#Fs=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#Ps&&null===this.#Ns&&this.#Hs(),this.isAttachedToDOM||this.parent.add(this))):this.#Ps&&this.#Hs()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#Rs||this.#Ms||this.#Ls||this.#Is||this.#Ps)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#Ms?this.#ss():this.#Hs(),this.width&&!this.annotationElementId){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i)}return this.div}#ss(){const{div:e}=this;let{width:t,height:n}=this.#Ms;const[i,r]=this.pageDimensions,a=.75;if(this.width)t=this.width*i,n=this.height*r;else if(t>a*i||n>a*r){const e=Math.min(a*i/t,a*r/n);t*=e,n*=e}const[s,o]=this.parentDimensions;this.setDims(t*s/i,n*o/r),this._uiManager.enableWaiting(!1);const l=this.#Ns=document.createElement("canvas");l.setAttribute("role","img"),this.addContainer(l),this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(e.hidden=!1),this.#Us(t,n),this.#os(),this.#zs||(this.parent.addUndoableEditor(this),this.#zs=!0),this._reportTelemetry({action:"inserted_image"}),this.#Ds&&l.setAttribute("aria-label",this.#Ds)}copyCanvas(e,t,n=!1){e||(e=224);const{width:i,height:r}=this.#Ms,a=new fe;let s=this.#Ms,o=i,l=r,c=null;if(t){if(i>t||r>t){const e=Math.min(t/i,t/r);o=Math.floor(i*e),l=Math.floor(r*e)}c=document.createElement("canvas");const e=c.width=Math.ceil(o*a.sx),n=c.height=Math.ceil(l*a.sy);this.#Os||(s=this.#$s(e,n));const u=c.getContext("2d");u.filter=this._uiManager.hcmFilter;let d="white",h="#cfcfd8";"none"!==this._uiManager.hcmFilter?h="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(d="#8f8f9d",h="#42414d");const p=15,f=p*a.sx,g=p*a.sy,m=new OffscreenCanvas(2*f,2*g),v=m.getContext("2d");v.fillStyle=d,v.fillRect(0,0,2*f,2*g),v.fillStyle=h,v.fillRect(0,0,f,g),v.fillRect(f,g,f,g),u.fillStyle=u.createPattern(m,"repeat"),u.fillRect(0,0,e,n),u.drawImage(s,0,0,s.width,s.height,0,0,e,n)}let u=null;if(n){let t,n;if(a.symmetric&&s.width<e&&s.height<e)t=s.width,n=s.height;else if(s=this.#Ms,i>e||r>e){const a=Math.min(e/i,e/r);t=Math.floor(i*a),n=Math.floor(r*a),this.#Os||(s=this.#$s(t,n))}const o=new OffscreenCanvas(t,n).getContext("2d",{willReadFrequently:!0});o.drawImage(s,0,0,s.width,s.height,0,0,t,n),u={width:t,height:n,data:o.getImageData(0,0,t,n).data}}return{canvas:c,width:o,height:l,imageData:u}}#qs(e,t){const[n,i]=this.parentDimensions;this.width=e/n,this.height=t/i,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#Fs&&clearTimeout(this.#Fs),this.#Fs=setTimeout((()=>{this.#Fs=null,this.#Us(e,t)}),200)}#$s(e,t){const{width:n,height:i}=this.#Ms;let r=n,a=i,s=this.#Ms;for(;r>2*e||a>2*t;){const n=r,i=a;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const o=new OffscreenCanvas(r,a);o.getContext("2d").drawImage(s,0,0,n,i,0,0,r,a),s=o.transferToImageBitmap()}return s}#Us(e,t){const n=new fe,i=Math.ceil(e*n.sx),r=Math.ceil(t*n.sy),a=this.#Ns;if(!a||a.width===i&&a.height===r)return;a.width=i,a.height=r;const s=this.#Os?this.#Ms:this.#$s(i,r),o=a.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,i,r)}getImageForAltText(){return this.#Ns}#Ws(e){if(e){if(this.#Os){const e=this._uiManager.imageManager.getSvgUrl(this.#Ps);if(e)return e}const e=document.createElement("canvas");return({width:e.width,height:e.height}=this.#Ms),e.getContext("2d").drawImage(this.#Ms,0,0),e.toDataURL()}if(this.#Os){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*X.PDF_TO_CSS_UNITS),i=Math.round(this.height*t*X.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(n,i);return r.getContext("2d").drawImage(this.#Ms,0,0,this.#Ms.width,this.#Ms.height,0,0,n,i),r.transferToImageBitmap()}return structuredClone(this.#Ms)}#os(){this._uiManager._signal&&(this.#Ja=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.#qs(t.width,t.height)})),this.#Ja.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#Ja?.disconnect(),this.#Ja=null}),{once:!0}))}static async deserialize(e,t,n){let i=null;if(e instanceof ti){const{data:{rect:r,rotation:a,id:s,structParent:o,popupRef:l},container:c,parent:{page:{pageNumber:u}}}=e,d=c.querySelector("canvas"),h=n.imageManager.getFromCanvas(c.id,d);d.remove();const p=(await t._structTree.getAriaAttributes(`${K}${s}`))?.get("aria-label")||"";i=e={annotationType:g.STAMP,bitmapId:h.id,bitmap:h.bitmap,pageIndex:u-1,rect:r.slice(0),rotation:a,id:s,deleted:!1,accessibilityData:{decorative:!1,altText:p},isSvg:!1,structParent:o,popupRef:l}}const r=await super.deserialize(e,t,n),{rect:a,bitmap:s,bitmapUrl:o,bitmapId:l,isSvg:c,accessibilityData:u}=e;l&&n.imageManager.isValidId(l)?(r.#Ps=l,s&&(r.#Ms=s)):r.#Ls=o,r.#Os=c;const[d,h]=r.pageDimensions;return r.width=(a[2]-a[0])/d,r.height=(a[3]-a[1])/h,r.annotationElementId=e.id||null,u&&(r.altTextData=u),r._initialData=i,r.#zs=!!i,r}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:g.STAMP,bitmapId:this.#Ps,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#Os,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#Ws(!0),n.accessibilityData=this.serializeAltText(!0),n;const{decorative:i,altText:r}=this.serializeAltText(!1);if(!i&&r&&(n.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const e=this.#yr(n);if(e.isSame)return null;e.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,null===t)return n;t.stamps||=new Map;const a=this.#Os?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(this.#Ps)){if(this.#Os){const e=t.stamps.get(this.#Ps);a>e.area&&(e.area=a,e.serialized.bitmap.close(),e.serialized.bitmap=this.#Ws(!1))}}else t.stamps.set(this.#Ps,{area:a,serialized:n}),n.bitmap=this.#Ws(!1);return n}#yr(e){const{rect:t,pageIndex:n,accessibilityData:{altText:i}}=this._initialData,r=e.rect.every(((e,n)=>Math.abs(e-t[n])<1)),a=e.pageIndex===n,s=(e.accessibilityData?.alt||"")===i;return{isSame:r&&a&&s,isSameAltText:s}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}class vi{#tr;#Vs=!1;#Gs=null;#Ks=null;#Qs=null;#Xs=new Map;#Ys=!1;#Js=!1;#Zs=!1;#eo=null;#to=null;#g;static _initialized=!1;static#B=new Map([ai,gi,mi,fi].map((e=>[e._editorType,e])));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:r,annotationLayer:a,drawLayer:s,textLayer:o,viewport:l,l10n:c}){const u=[...vi.#B.values()];if(!vi._initialized){vi._initialized=!0;for(const t of u)t.initialize(c,e)}e.registerEditorTypes(u),this.#g=e,this.pageIndex=t,this.div=n,this.#tr=r,this.#Gs=a,this.viewport=l,this.#eo=o,this.drawLayer=s,this._structTree=i,this.#g.addLayer(this)}get isEmpty(){return 0===this.#Xs.size}get isInvisible(){return this.isEmpty&&this.#g.getMode()===g.NONE}updateToolbar(e){this.#g.updateToolbar(e)}updateMode(e=this.#g.getMode()){switch(this.#no(),e){case g.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case g.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case g.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of vi.#B.values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#eo?.div}addInkEditorIfNeeded(e){if(this.#g.getMode()===g.INK){if(!e)for(const e of this.#Xs.values())if(e.isEmpty())return void e.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(e){this.#g.setEditingState(e)}addCommands(e){this.#g.addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#Gs?.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const t of this.#Xs.values())t.enableEditing(),t.show(!0),t.annotationElementId&&(this.#g.removeChangedExistingAnnotation(t),e.add(t.annotationElementId));if(!this.#Gs)return;const t=this.#Gs.getEditableAnnotations();for(const n of t){if(n.hide(),this.#g.isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=await this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){this.#Zs=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const n of this.#Xs.values())n.disableEditing(),n.annotationElementId&&(null===n.serialize()?(t.set(n.annotationElementId,n),this.getEditableAnnotation(n.annotationElementId)?.show(),n.remove()):e.set(n.annotationElementId,n));if(this.#Gs){const n=this.#Gs.getEditableAnnotations();for(const i of n){const{id:n}=i.data;if(this.#g.isDeletedAnnotationElement(n))continue;let r=t.get(n);r?(r.resetAnnotationElement(i),r.show(!1),i.show()):(r=e.get(n),r&&(this.#g.addChangedExistingAnnotation(r),r.renderAnnotationElement(i)&&r.show(!1)),i.show())}}this.#no(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const e of vi.#B.values())n.remove(`${e._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#Zs=!1}getEditableAnnotation(e){return this.#Gs?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#g.getActive()!==e&&this.#g.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#eo?.div&&!this.#to){this.#to=new AbortController;const e=this.#g.combinedSignal(this.#to);this.#eo.div.addEventListener("pointerdown",this.#io.bind(this),{signal:e}),this.#eo.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#eo?.div&&this.#to&&(this.#to.abort(),this.#to=null,this.#eo.div.classList.remove("highlighting"))}#io(e){this.#g.unselectAll();const{target:t}=e;if(t===this.#eo.div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&this.#eo.div.contains(t)){const{isMac:t}=U.platform;if(0!==e.button||e.ctrlKey&&t)return;this.#g.showAllEditors("highlight",!0,!0),this.#eo.div.classList.add("free"),this.toggleDrawing(),fi.startHighlighting(this,"ltr"===this.#g.direction,{target:this.#eo.div,x:e.x,y:e.y}),this.#eo.div.addEventListener("pointerup",(()=>{this.#eo.div.classList.remove("free"),this.toggleDrawing(!0)}),{once:!0,signal:this.#g._signal}),e.preventDefault()}}enableClick(){if(this.#Ks)return;this.#Ks=new AbortController;const e=this.#g.combinedSignal(this.#Ks);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){this.#Ks?.abort(),this.#Ks=null}attach(e){this.#Xs.set(e.id,e);const{annotationElementId:t}=e;t&&this.#g.isDeletedAnnotationElement(t)&&this.#g.removeDeletedAnnotationElement(e)}detach(e){this.#Xs.delete(e.id),this.#tr?.removePointerInTextLayer(e.contentDiv),!this.#Zs&&e.annotationElementId&&this.#g.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#g.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#Js||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#g.addDeletedAnnotationElement(e.annotationElementId),_e.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),this.#g.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),this.#g.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#Qs&&(e._focusEventsAllowed=!1,this.#Qs=setTimeout((()=>{this.#Qs=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this.#g._signal}),t.focus())}),0)),e._structTreeParentId=this.#tr?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#g.getId()}get#ro(){return vi.#B.get(this.#g.getMode())}combinedSignal(e){return this.#g.combinedSignal(e)}#ao(e){const t=this.#ro;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#ro?.canCreateNewEmptyEditor()}pasteEditor(e,t){this.#g.updateToolbar(e),this.#g.updateMode(e);const{offsetX:n,offsetY:i}=this.#so(),r=this.getNextId(),a=this.#ao({parent:this,id:r,x:n,y:i,uiManager:this.#g,isCentered:!0,...t});a&&this.add(a)}async deserialize(e){return await(vi.#B.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#g))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),r=this.#ao({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#g,isCentered:t,...n});return r&&this.add(r),r}#so(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,e),a=Math.max(0,t),s=(r+Math.min(window.innerWidth,e+n))/2-e,o=(a+Math.min(window.innerHeight,t+i))/2-t,[l,c]=this.viewport.rotation%180==0?[s,o]:[o,s];return{offsetX:l,offsetY:c}}addNewEditor(){this.createAndAddNewEditor(this.#so(),!0)}setSelected(e){this.#g.setSelected(e)}toggleSelected(e){this.#g.toggleSelected(e)}unselect(e){this.#g.unselect(e)}pointerup(e){const{isMac:t}=U.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#Ys&&(this.#Ys=!1,this.#Vs?this.#g.getMode()!==g.STAMP?this.createAndAddNewEditor(e,!1):this.#g.unselectAll():this.#Vs=!0)}pointerdown(e){if(this.#g.getMode()===g.HIGHLIGHT&&this.enableTextSelection(),this.#Ys)return void(this.#Ys=!1);const{isMac:t}=U.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;this.#Ys=!0;const n=this.#g.getActive();this.#Vs=!n||n.isEmpty()}findNewParent(e,t,n){const i=this.#g.findParent(t,n);return null!==i&&i!==this&&(i.changeParent(e),!0)}destroy(){this.#g.getActive()?.parent===this&&(this.#g.commitOrRemove(),this.#g.setActiveEditor(null)),this.#Qs&&(clearTimeout(this.#Qs),this.#Qs=null);for(const e of this.#Xs.values())this.#tr?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#Xs.clear(),this.#g.removeLayer(this)}#no(){this.#Js=!0;for(const e of this.#Xs.values())e.isEmpty()&&e.remove();this.#Js=!1}render({viewport:e}){this.viewport=e,pe(this.div,e);for(const e of this.#g.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:e}){this.#g.commitOrRemove(),this.#no();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,pe(this.div,{rotation:n}),t!==n)for(const e of this.#Xs.values())e.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#g.viewParameters.realScale}}class yi{#Ni=null;#b=0;#oo=new Map;#lo=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(this.#Ni){if(this.#Ni!==e){if(this.#oo.size>0)for(const t of this.#oo.values())t.remove(),e.append(t);this.#Ni=e}}else this.#Ni=e}static get _svgFactory(){return P(this,"_svgFactory",new _n)}static#co(e,{x:t=0,y:n=0,width:i=1,height:r=1}={}){const{style:a}=e;a.top=100*n+"%",a.left=100*t+"%",a.width=100*i+"%",a.height=100*r+"%"}#uo(e){const t=yi._svgFactory.create(1,1,!0);return this.#Ni.append(t),t.setAttribute("aria-hidden",!0),yi.#co(t,e),t}#do(e,t){const n=yi._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=yi._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i}draw(e,t,n,i=!1){const r=this.#b++,a=this.#uo(e.box);a.classList.add(...e.classNamesForDrawing);const s=yi._svgFactory.createElement("defs");a.append(s);const o=yi._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("d",e.toSVGPath()),i&&this.#lo.set(r,o);const c=this.#do(s,l),u=yi._svgFactory.createElement("use");return a.append(u),a.setAttribute("fill",t),a.setAttribute("fill-opacity",n),u.setAttribute("href",`#${l}`),this.#oo.set(r,a),{id:r,clipPathId:`url(#${c})`}}drawOutline(e){const t=this.#b++,n=this.#uo(e.box);n.classList.add(...e.classNamesForOutlining);const i=yi._svgFactory.createElement("defs");n.append(i);const r=yi._svgFactory.createElement("path");i.append(r);const a=`path_p${this.pageIndex}_${t}`;let s;if(r.setAttribute("id",a),r.setAttribute("d",e.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke"),e.mustRemoveSelfIntersections){const e=yi._svgFactory.createElement("mask");i.append(e),s=`mask_p${this.pageIndex}_${t}`,e.setAttribute("id",s),e.setAttribute("maskUnits","objectBoundingBox");const n=yi._svgFactory.createElement("rect");e.append(n),n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("fill","white");const r=yi._svgFactory.createElement("use");e.append(r),r.setAttribute("href",`#${a}`),r.setAttribute("stroke","none"),r.setAttribute("fill","black"),r.setAttribute("fill-rule","nonzero"),r.classList.add("mask")}const o=yi._svgFactory.createElement("use");n.append(o),o.setAttribute("href",`#${a}`),s&&o.setAttribute("mask",`url(#${s})`);const l=o.cloneNode();return n.append(l),o.classList.add("mainOutline"),l.classList.add("secondaryOutline"),this.#oo.set(t,n),t}finalizeLine(e,t){const n=this.#lo.get(e);this.#lo.delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#oo.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){this.#lo.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){yi.#co(this.#oo.get(e),t)}show(e,t){this.#oo.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#oo.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#oo.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#oo.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#oo.get(e).classList.add(t)}removeClass(e,t){this.#oo.get(e).classList.remove(t)}getSVGRoot(e){return this.#oo.get(e)}remove(e){this.#lo.delete(e),null!==this.#Ni&&(this.#oo.get(e).remove(),this.#oo.delete(e))}destroy(){this.#Ni=null;for(const e of this.#oo.values())e.remove();this.#oo.clear(),this.#lo.clear()}}var bi=c.AnnotationLayer,wi=c.AnnotationMode,Ai=c.GlobalWorkerOptions,Si=c.PDFDataRangeTransport,xi=c.TextLayer,Ti=c.getDocument,_i=n(848),Ei=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},ki=Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function Ci(e,t){var n={};return ki.forEach((function(i){var r=e[i];r&&(n[i]=t?function(e){return r(e,t(i))}:r)})),n}function Mi(e){var t=!1;return{promise:new Promise((function(n,i){e.then((function(e){return!t&&n(e)})).catch((function(e){return!t&&i(e)}))})),cancel:function(){t=!0}}}function Pi(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Pi(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}var Ri=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Pi(e))&&(i&&(i+=" "),i+=t);return i};function Li(e,t){if(!e)throw new Error("Invariant failed")}var Ii=n(771),Di=Object.prototype.hasOwnProperty;function Ni(e,t,n){for(n of e.keys())if(Fi(n,t))return n}function Fi(e,t){var n,i,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&Fi(e[i],t[i]););return-1===i}if(n===Set){if(e.size!==t.size)return!1;for(i of e){if((r=i)&&"object"==typeof r&&!(r=Ni(t,r)))return!1;if(!t.has(r))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(i of e){if((r=i[0])&&"object"==typeof r&&!(r=Ni(t,r)))return!1;if(!Fi(i[1],t.get(r)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((i=e.byteLength)===t.byteLength)for(;i--&&e.getInt8(i)===t.getInt8(i););return-1===i}if(ArrayBuffer.isView(e)){if((i=e.byteLength)===t.byteLength)for(;i--&&e[i]===t[i];);return-1===i}if(!n||"object"==typeof e){for(n in i=0,e){if(Di.call(e,n)&&++i&&!Di.call(t,n))return!1;if(!(n in t)||!Fi(e[n],t[n]))return!1}return Object.keys(t).length===i}}return e!=e&&t!=t}var Oi=(0,a.createContext)(null);function zi({children:e,type:t}){return(0,_i.jsx)("div",{className:`react-pdf__message react-pdf__message--${t}`,children:e})}class ji{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Li(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Li(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise((t=>{Li(this.pdfDocument),Li(e),"string"==typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)})).then((e=>{Li(Array.isArray(e));const t=e[0];new Promise((e=>{Li(this.pdfDocument),t instanceof Object?this.pdfDocument.getPageIndex(t).then((t=>{e(t)})).catch((()=>{Li(!1)})):"number"==typeof t?e(t):Li(!1)})).then((t=>{const n=t+1;Li(this.pdfViewer),Li(n>=1&&n<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:n})}))}))}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Li(this.pdfViewer),Li(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}var Bi=1,Hi=2;const Ui="undefined"!=typeof window,$i=Ui&&"file:"===window.location.protocol;function qi(e){return function(e){return void 0!==e}(e)&&null!==e}function Wi(e){return function(e){return"string"==typeof e}(e)&&/^data:/.test(e)}function Vi(e){Li(Wi(e));const[t="",n=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(n):unescape(n)}function Gi(){return Ui&&window.devicePixelRatio||1}function Ki(){Ii(!$i,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.")}function Qi(e){(null==e?void 0:e.cancel)&&e.cancel()}function Xi(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function Yi(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function Ji(){return(0,a.useReducer)(Yi,{value:void 0,error:void 0})}var Zi=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const{Tm:er}=i,tr=(e,t)=>{switch(t){case Bi:e(prompt("Enter the password to open this PDF file."));break;case Hi:e(prompt("Invalid password. Please try again."))}};function nr(e){return"object"==typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}var ir=(0,a.forwardRef)((function(e,t){var{children:n,className:i,error:r="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:u,loading:d="Loading PDF…",noData:h="No PDF file specified.",onItemClick:p,onLoadError:f,onLoadProgress:g,onLoadSuccess:m,onPassword:v=tr,onSourceError:y,onSourceSuccess:b,options:w,renderMode:A,rotate:S}=e,x=Zi(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[T,_]=Ji(),{value:E,error:k}=T,[C,M]=Ji(),{value:P,error:R}=C,L=(0,a.useRef)(new ji),I=(0,a.useRef)([]),D=(0,a.useRef)(void 0),N=(0,a.useRef)(void 0);l&&l!==D.current&&nr(l)&&(Ii(!Fi(l,D.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),D.current=l),w&&w!==N.current&&(Ii(!Fi(w,N.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),N.current=w);const F=(0,a.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:n,pageIndex:i=n-1}=e;if(p)return void p({dest:t,pageIndex:i,pageNumber:n});const r=I.current[i];r?r.scrollIntoView():Ii(!1,`An internal link leading to page ${n} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,a.useImperativeHandle)(t,(()=>({linkService:L,pages:I,viewer:F})),[]),(0,a.useEffect)((function(){_({type:"RESET"})}),[l,_]);const O=(0,a.useCallback)((()=>{return e=this,t=void 0,i=function*(){if(!l)return null;if("string"==typeof l)return Wi(l)?{data:Vi(l)}:(Ki(),{url:l});if(l instanceof er)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(Ui&&(e=l,Li(Ui),e instanceof Blob)){const e=yield function(e){return new Promise(((t,n)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return n(new Error("Error while reading a file."));t(i.result)},i.onerror=e=>{if(!e.target)return n(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return n(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},i.readAsArrayBuffer(e)}))}(l);return{data:e}}var e;if(Li("object"==typeof l),Li(nr(l)),"url"in l&&"string"==typeof l.url){if(Wi(l.url)){const{url:e}=l,t=Zi(l,["url"]),n=Vi(e);return Object.assign({data:n},t)}Ki()}return l},new((n=void 0)||(n=Promise))((function(r,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function o(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}));var e,t,n,i}),[l]);(0,a.useEffect)((()=>{const e=Mi(O());return e.promise.then((e=>{_({type:"RESOLVE",value:e})})).catch((e=>{_({type:"REJECT",error:e})})),()=>{Qi(e)}}),[O,_]),(0,a.useEffect)((()=>{void 0!==E&&(!1!==E?b&&b():k&&(Ii(!1,k.toString()),y&&y(k)))}),[E]),(0,a.useEffect)((function(){M({type:"RESET"})}),[M,E]),(0,a.useEffect)((function(){if(!E)return;const e=w?Object.assign(Object.assign({},E),w):E,t=Ti(e);g&&(t.onProgress=g),v&&(t.onPassword=v);const n=t,i=n.promise.then((e=>{M({type:"RESOLVE",value:e})})).catch((e=>{n.destroyed||M({type:"REJECT",error:e})}));return()=>{i.finally((()=>n.destroy()))}}),[w,M,E]),(0,a.useEffect)((()=>{void 0!==P&&(!1!==P?P&&(m&&m(P),I.current=new Array(P.numPages),L.current.setDocument(P)):R&&(Ii(!1,R.toString()),f&&f(R)))}),[P]),(0,a.useEffect)((function(){L.current.setViewer(F.current),L.current.setExternalLinkRel(s),L.current.setExternalLinkTarget(o)}),[s,o]);const z=(0,a.useCallback)(((e,t)=>{I.current[e]=t}),[]),j=(0,a.useCallback)((e=>{delete I.current[e]}),[]),B=(0,a.useMemo)((()=>({imageResourcesPath:u,linkService:L.current,onItemClick:p,pdf:P,registerPage:z,renderMode:A,rotate:S,unregisterPage:j})),[u,p,P,z,A,S,j]),H=(0,a.useMemo)((()=>Ci(x,(()=>P))),[x,P]);return(0,_i.jsx)("div",Object.assign({className:Ri("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},H,{children:l?null==P?(0,_i.jsx)(zi,{type:"loading",children:"function"==typeof d?d():d}):!1===P?(0,_i.jsx)(zi,{type:"error",children:"function"==typeof r?r():r}):(0,_i.jsx)(Oi.Provider,{value:B,children:n}):(0,_i.jsx)(zi,{type:"no-data",children:"function"==typeof h?h():h})}))}));function rr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){n.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}var ar=(0,a.createContext)(null);const sr={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},or=/^H(\d+)$/;function lr(e){return"children"in e}function cr(e){return!!lr(e)&&1===e.children.length&&0 in e.children&&"id"in e.children[0]}function ur(e){const t={};if(lr(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),cr(e)){const[n]=e.children;if(n){const e=ur(n);return Object.assign(Object.assign({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function dr(e){return e?Object.assign(Object.assign({},function(e){const t={};if(lr(e)){const{role:n}=e,i=n.match(or);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(function(e){return e in sr}(n)){const e=sr[n];e&&(t.role=e)}}return t}(e)),ur(e)):null}function hr({className:e,node:t}){const n=(0,a.useMemo)((()=>dr(t)),[t]),i=(0,a.useMemo)((()=>lr(t)?cr(t)?null:t.children.map(((e,t)=>(0,_i.jsx)(hr,{node:e},t))):null),[t]);return(0,_i.jsx)("span",Object.assign({className:e},n,{children:i}))}function pr(){return(0,a.useContext)(ar)}function fr(){const e=pr();Li(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=e,[i,r]=Ji(),{value:s,error:o}=i,{customTextRenderer:l,page:c}=e;return(0,a.useEffect)((function(){r({type:"RESET"})}),[r,c]),(0,a.useEffect)((function(){if(l)return;if(!c)return;const e=Mi(c.getStructTree()),t=e;return e.promise.then((e=>{r({type:"RESOLVE",value:e})})).catch((e=>{r({type:"REJECT",error:e})})),()=>Qi(t)}),[l,c,r]),(0,a.useEffect)((()=>{void 0!==s&&(!1!==s?s&&n&&n(s):o&&(Ii(!1,o.toString()),t&&t(o)))}),[s]),s?(0,_i.jsx)(hr,{className:"react-pdf__Page__structTree structTree",node:s}):null}const gr=wi;function mr(e){const t=pr();Li(t);const n=Object.assign(Object.assign({},t),e),{_className:i,canvasBackground:r,devicePixelRatio:s=Gi(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:d,rotate:h,scale:p}=n,{canvasRef:f}=e;Li(c);const g=(0,a.useRef)(null);function m(e){(function(e){return"RenderingCancelledException"===e.name})(e)||(Ii(!1,e.toString()),o&&o(e))}const v=(0,a.useMemo)((()=>c.getViewport({scale:p*s,rotation:h})),[s,c,h,p]),y=(0,a.useMemo)((()=>c.getViewport({scale:p,rotation:h})),[c,h,p]);(0,a.useEffect)((function(){if(!c)return;c.cleanup();const{current:e}=g;if(!e)return;e.width=v.width,e.height=v.height,e.style.width=`${Math.floor(y.width)}px`,e.style.height=`${Math.floor(y.height)}px`,e.style.visibility="hidden";const t={annotationMode:u?gr.ENABLE_FORMS:gr.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:v};r&&(t.background=r);const n=c.render(t),i=n;return n.promise.then((()=>{e.style.visibility="",c&&l&&l(Xi(c,p))})).catch(m),()=>Qi(i)}),[r,c,u,v,y]);const b=(0,a.useCallback)((()=>{const{current:e}=g;e&&(e.width=0,e.height=0)}),[]);return(0,a.useEffect)((()=>b),[b]),(0,_i.jsx)("canvas",{className:`${i}__canvas`,dir:"ltr",ref:rr(f,g),style:{display:"block",userSelect:"none"},children:d?(0,_i.jsx)(fr,{}):null})}function vr(){const e=pr();Li(e);const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:o,pageIndex:l,pageNumber:c,rotate:u,scale:d}=e;Li(o);const[h,p]=Ji(),{value:f,error:g}=h,m=(0,a.useRef)(null);Ii(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,a.useEffect)((function(){p({type:"RESET"})}),[o,p]),(0,a.useEffect)((function(){if(!o)return;const e=Mi(o.getTextContent()),t=e;return e.promise.then((e=>{p({type:"RESOLVE",value:e})})).catch((e=>{p({type:"REJECT",error:e})})),()=>Qi(t)}),[o,p]),(0,a.useEffect)((()=>{void 0!==f&&(!1!==f?f&&i&&i(f):g&&(Ii(!1,g.toString()),n&&n(g)))}),[f]);const v=(0,a.useCallback)((()=>{s&&s()}),[s]),y=(0,a.useCallback)((e=>{Ii(!1,e.toString()),r&&r(e)}),[r]),b=(0,a.useMemo)((()=>o.getViewport({scale:d,rotation:u})),[o,u,d]);return(0,a.useLayoutEffect)((function(){if(!o||!f)return;const{current:e}=m;if(!e)return;e.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),i=new xi({container:e,textContentSource:n,viewport:b}),r=i;return i.render().then((()=>{const n=document.createElement("div");n.className="endOfContent",e.append(n);const i=e.querySelectorAll('[role="presentation"]');if(t){let e=0;f.items.forEach(((n,r)=>{if(!function(e){return"str"in e}(n))return;const a=i[e];if(!a)return;const s=t(Object.assign({pageIndex:l,pageNumber:c,itemIndex:r},n));a.innerHTML=s,e+=n.str&&n.hasEOL?2:1}))}v()})).catch(y),()=>Qi(r)}),[t,y,v,o,l,c,f,b]),(0,_i.jsx)("div",{className:Ri("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=m.current;e&&e.classList.remove("selecting")},onMouseDown:function(){const e=m.current;e&&e.classList.add("selecting")},ref:m})}function yr(){return(0,a.useContext)(Oi)}function br(){const e=yr(),t=pr();Li(t);const n=Object.assign(Object.assign({},e),t),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:h,rotate:p,scale:f=1}=n;Li(d),Li(u),Li(r);const[g,m]=Ji(),{value:v,error:y}=g,b=(0,a.useRef)(null);Ii(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,a.useEffect)((function(){m({type:"RESET"})}),[m,u]),(0,a.useEffect)((function(){if(!u)return;const e=Mi(u.getAnnotations()),t=e;return e.promise.then((e=>{m({type:"RESOLVE",value:e})})).catch((e=>{m({type:"REJECT",error:e})})),()=>{Qi(t)}}),[m,u]),(0,a.useEffect)((()=>{void 0!==v&&(!1!==v?v&&o&&o(v):y&&(Ii(!1,y.toString()),s&&s(y)))}),[v]);const w=(0,a.useMemo)((()=>u.getViewport({scale:f,rotation:p})),[u,p,f]);return(0,a.useEffect)((function(){if(!(d&&u&&r&&v))return;const{current:e}=b;if(!e)return;const t=w.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:e,l10n:null,page:u,structTreeLayer:null,viewport:t},a={annotations:v,annotationStorage:d.annotationStorage,div:e,imageResourcesPath:i,linkService:r,page:u,renderForms:h,viewport:t};e.innerHTML="";try{new bi(n).render(a),c&&c()}catch(e){!function(e){Ii(!1,`${e}`),l&&l(e)}(e)}return()=>{}}),[v,i,r,u,d,h,w]),(0,_i.jsx)("div",{className:Ri("react-pdf__Page__annotations","annotationLayer"),ref:b})}const wr=1;function Ar(e){const t=yr(),n=Object.assign(Object.assign({},t),e),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:o,children:l,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:p="Failed to load the page.",height:f,inputRef:g,loading:m="Loading page…",noData:v="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:b,onGetStructTreeError:w,onGetStructTreeSuccess:A,onGetTextError:S,onGetTextSuccess:x,onLoadError:T,onLoadSuccess:_,onRenderAnnotationLayerError:E,onRenderAnnotationLayerSuccess:k,onRenderError:C,onRenderSuccess:M,onRenderTextLayerError:P,onRenderTextLayerSuccess:R,pageIndex:L,pageNumber:I,pdf:D,registerPage:N,renderAnnotationLayer:F=!0,renderForms:O=!1,renderMode:z="canvas",renderTextLayer:j=!0,rotate:B,scale:H=wr,unregisterPage:U,width:$}=n,q=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[W,V]=Ji(),{value:G,error:K}=W,Q=(0,a.useRef)(null);Li(D);const X=qi(I)?I-1:null!=L?L:null,Y=null!=I?I:qi(L)?L+1:null,J=null!=B?B:G?G.rotate:null,Z=(0,a.useMemo)((()=>{if(!G)return null;let e=1;const t=null!=H?H:wr;if($||f){const t=G.getViewport({scale:1,rotation:J});$?e=$/t.width:f&&(e=f/t.height)}return t*e}),[f,G,J,H,$]);(0,a.useEffect)((function(){return()=>{qi(X)&&r&&U&&U(X)}}),[r,D,X,U]),(0,a.useEffect)((function(){V({type:"RESET"})}),[V,D,X]),(0,a.useEffect)((function(){if(!D||!Y)return;const e=Mi(D.getPage(Y)),t=e;return e.promise.then((e=>{V({type:"RESOLVE",value:e})})).catch((e=>{V({type:"REJECT",error:e})})),()=>Qi(t)}),[V,D,Y]),(0,a.useEffect)((()=>{void 0!==G&&(!1!==G?function(){if(_){if(!G||!Z)return;_(Xi(G,Z))}if(r&&N){if(!qi(X)||!Q.current)return;N(X,Q.current)}}():K&&(Ii(!1,K.toString()),T&&T(K)))}),[G,Z]);const ee=(0,a.useMemo)((()=>G&&qi(X)&&Y&&qi(J)&&qi(Z)?{_className:i,canvasBackground:s,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:y,onGetAnnotationsSuccess:b,onGetStructTreeError:w,onGetStructTreeSuccess:A,onGetTextError:S,onGetTextSuccess:x,onRenderAnnotationLayerError:E,onRenderAnnotationLayerSuccess:k,onRenderError:C,onRenderSuccess:M,onRenderTextLayerError:P,onRenderTextLayerSuccess:R,page:G,pageIndex:X,pageNumber:Y,renderForms:O,renderTextLayer:j,rotate:J,scale:Z}:null),[i,s,d,h,y,b,w,A,S,x,E,k,C,M,P,R,G,X,Y,O,j,J,Z]),te=(0,a.useMemo)((()=>Ci(q,(()=>G?Z?Xi(G,Z):void 0:G))),[q,G,Z]),ne=`${X}@${Z}/${J}`;return(0,_i.jsx)("div",Object.assign({className:Ri(i,c),"data-page-number":Y,ref:rr(g,Q),style:{"--scale-factor":`${Z}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},te,{children:Y?null===D||null==G?(0,_i.jsx)(zi,{type:"loading",children:"function"==typeof m?m():m}):!1===D||!1===G?(0,_i.jsx)(zi,{type:"error",children:"function"==typeof p?p():p}):(0,_i.jsxs)(ar.Provider,{value:ee,children:[function(){switch(z){case"custom":return Li(u),(0,_i.jsx)(u,{},`${ne}_custom`);case"none":return null;default:return(0,_i.jsx)(mr,{canvasRef:o},`${ne}_canvas`)}}(),j?(0,_i.jsx)(vr,{},`${ne}_text`):null,F?(0,_i.jsx)(br,{},`${ne}_annotations`):null,l]}):(0,_i.jsx)(zi,{type:"no-data",children:"function"==typeof v?v():v})}))}Ai.workerSrc="scripts/pdf.worker.min.mjs";const Sr=e=>{let{url:t}=e;const[n,i]=(0,a.useState)();return(0,_i.jsx)(ir,{error:(0,_i.jsx)(o.A,{withHeader:!1}),loading:(0,_i.jsx)(s.W,{}),file:t,onLoadSuccess:e=>i(e.numPages),children:Array.from(Array(n),((e,t)=>(0,_i.jsx)(Ar,{loading:(0,_i.jsx)(s.W,{}),pageNumber:t+1},t+1)))})},xr=(0,a.memo)((e=>{let{fileKey:t}=e;const{data:n,isLoading:i,isError:a,isFetching:l}=(0,r.h)(t);return i||l?(0,_i.jsx)(s.W,{}):a?(0,_i.jsx)(o.A,{withHeader:!1}):(0,_i.jsx)("div",{"data-testid":"TheoryItem",children:n?.fileData&&(0,_i.jsx)(Sr,{url:n?.fileData.fileUrl})})}));xr.displayName="TheoryItem"},128:function(e,t,n){n.d(t,{W:function(){return l}});var i=n(990),r=n(540),a=n(411),s=n(7),o=n(848);const l=(0,r.memo)((e=>{let{pdfFilesTitles:t}=e;const{selectedSection:n,setSelectedSection:l}=(0,r.useContext)(s.e);(0,r.useEffect)((()=>{l(t[0])}),[l]);const[c,u]=(0,r.useState)("var(--header-height)");return(0,r.useEffect)((()=>{const e=()=>{0===document.body.scrollTop?u("var(--header-height)"):u(0)};return document.body.addEventListener("scroll",e),()=>document.body.removeEventListener("scroll",e)}),[]),(0,o.jsx)(i.so,{"data-testid":"Theory__Sidebar",direction:a.v.matches?"row":"column",maxHeight:!0,align:"start",width:a.v.matches?"100":"15",gap:"15",className:"W3oL5mo_",style:{marginTop:c},children:t.map(((e,t)=>(0,o.jsx)("span",{"data-testid":`Theory__Sidebar__${t}`,onClick:()=>l(e),className:`zkKslE38 ${n===e&&"wuWYC557"}`,children:e},e)))})}));l.displayName="TheorySidebar"},856:function(e,t,n){n.d(t,{W:function(){return h}});var i,r=n(990),a=n(540);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s.apply(null,arguments)}var o=e=>a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:21,height:18,fill:"none"},e),i||(i=a.createElement("path",{stroke:"#000",strokeWidth:3,d:"M2 10.5 6.5 15l13-13"}))),l=n(800),c=n(491),u=n(670),d=n(848);const h=(0,a.memo)((()=>{const[e,t]=(0,a.useState)(!1),n=(0,l.n)(),{changeWordProbability:i,changeWordConsecutivelyTimes:s,changeWordInProgressStatus:h}=(0,c.MR)(),p=(0,a.useCallback)((()=>{for(const e of n)i({id:e.id,probability:1}),s({id:e.id,consecutivelyTimes:0}),h({id:e.id,inProgress:!1})}),[s,h,i,n]),f=(0,a.useCallback)((()=>{document.hidden&&p()}),[p]),g=(0,a.useCallback)((()=>{e?(t(!1),document.onvisibilitychange=null):(p(),t(!0),document.onvisibilitychange=f)}),[p,f,e]);return(0,d.jsxs)(r.so,{"data-testid":"Trainer__StrictModeSwitcher",justify:"end",width:"100",gap:"20",relative:!0,className:"iQgmy71o",children:[(0,d.jsxs)(r.so,{gap:"10",className:`QI2P2lLa\n        ${e&&"hjSNS4wi"}`,children:[(0,d.jsx)(r.so,{onClick:g,className:"Y0aC9y4Q",justify:"center",children:(0,d.jsx)(o,{className:"QjMmAPhw"})}),(0,d.jsx)("span",{className:"d7QlTXsL",children:"Строгий режим"})]}),(0,d.jsx)(u.C,{textClassName:"RwFolVDt",textDirection:"top",text:"Обнуляет прогресс каждый раз,\n          Когда вы покидаете сайт."})]})}));h.displayName="StrictModeSwitcher"},672:function(e,t,n){n.d(t,{i:function(){return l}});var i=n(990),r=n(540),a=n(800),s=n(337),o=n(848);const l=(0,r.memo)((()=>{const e=(0,a.n)(),t=(0,r.useMemo)((()=>e.filter((e=>e.inProgress))),[e]),n=(0,r.useMemo)((()=>{const n=t.length/e.length;return isNaN(n)?0:n}),[e.length,t.length]),l=(0,r.useRef)(new Date);(0,r.useEffect)((()=>{l.current=new Date}),[]);const{setTotalTime:c}=(0,r.useContext)(s.U);return(0,r.useEffect)((()=>{if(1===n){const e=(new Date).getTime()-l.current.getTime();c(e),document.onkeydown=null,document.onclick=null}}),[c,n]),(0,o.jsxs)(i.so,{className:"OuXiQQ5W",width:"50",justify:"center",gap:"10",children:[(0,o.jsxs)("span",{className:"qLmRCb1f",children:[Math.round(100*n),"%"]}),(0,o.jsx)("progress",{className:"bDp8sk0Y","data-testid":"Trainer__TrainerProgressBar__percent",value:n})]})}));l.displayName="TrainerProgressBar"},450:function(e,t,n){n.d(t,{W:function(){return s}});var i=n(540),r=n(990),a=n(848);const s=(0,i.memo)((()=>(0,a.jsx)(r.so,{"data-testid":"Loading",justify:"center",className:"HSDR975t",children:(0,a.jsx)("img",{src:"gifs/PageLoading.gif",alt:"Анимация загрузки страниц"})})));s.displayName="PageLoading"},247:function(e,t,n){var i=n(982),r=n(540),a=n(961);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),g=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function T(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}var _=Symbol.for("react.client.reference");function E(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===_?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case u:return"Fragment";case c:return"Portal";case h:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case y:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case f:return(e._context.displayName||"Context")+".Consumer";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case b:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case w:t=e._payload,e=e._init;try{return E(e(t))}catch(e){}}return null}var k,C,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign;function R(e){if(void 0===k)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||"",C=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+k+e+C}var L=!1;function I(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var i=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){i=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){i=e}(n=e())&&"function"==typeof n.catch&&n.catch((function(){}))}}catch(e){if(e&&i&&"string"==typeof e.stack)return[e.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=r);break}}}finally{L=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?R(n):""}function D(e){switch(e.tag){case 26:case 27:case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return I(e.type,!1);case 11:return I(e.type.render,!1);case 1:return I(e.type,!0);default:return""}}function N(e){try{var t="";do{t+=D(e),e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function F(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function O(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function z(e){if(F(e)!==e)throw Error(s(188))}function j(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=j(e)))return t;e=e.sibling}return null}var B=Array.isArray,H=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},$=[],q=-1;function W(e){return{current:e}}function V(e){0>q||(e.current=$[q],$[q]=null,q--)}function G(e,t){q++,$[q]=e.current,e.current=t}var K=W(null),Q=W(null),X=W(null),Y=W(null);function J(e,t){switch(G(X,t),G(Q,e),G(K,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Qu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Xu(e=Qu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(K),G(K,t)}function Z(){V(K),V(Q),V(X)}function ee(e){null!==e.memoizedState&&G(Y,e);var t=K.current,n=Xu(t,e.type);t!==n&&(G(Q,e),G(K,n))}function te(e){Q.current===e&&(V(K),V(Q)),Y.current===e&&(V(Y),Nd._currentValue=U)}var ne=Object.prototype.hasOwnProperty,ie=i.unstable_scheduleCallback,re=i.unstable_cancelCallback,ae=i.unstable_shouldYield,se=i.unstable_requestPaint,oe=i.unstable_now,le=i.unstable_getCurrentPriorityLevel,ce=i.unstable_ImmediatePriority,ue=i.unstable_UserBlockingPriority,de=i.unstable_NormalPriority,he=i.unstable_LowPriority,pe=i.unstable_IdlePriority,fe=i.log,ge=i.unstable_setDisableYieldValue,me=null,ve=null;function ye(e){if("function"==typeof fe&&ge(e),ve&&"function"==typeof ve.setStrictMode)try{ve.setStrictMode(me,e)}catch(e){}}var be=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(we(e)/Ae|0)|0},we=Math.log,Ae=Math.LN2,Se=128,xe=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,s=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&n;return 0!==o?0!=(n=o&~r)?i=Te(n):0!=(a&=o)?i=Te(a):e||0!=(s=o&~s)&&(i=Te(s)):0!=(o=n&~r)?i=Te(o):0!==a?i=Te(a):e||0!=(s=n&~s)&&(i=Te(s)),0===i?0:0===t||t===i||t&r||!((r=i&-i)>=(s=t&-t)||32===r&&4194176&s)?i:t}function Ee(e,t){return!(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=Se;return!(4194176&(Se<<=1))&&(Se=128),e}function Me(){var e=xe;return!(62914560&(xe<<=1))&&(xe=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Le(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-be(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194218&n}function Ie(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-be(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function De(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ne(){var e=H.p;return 0!==e?e:void 0===(e=window.event)?32:Kd(e.type)}var Fe=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Fe,ze="__reactProps$"+Fe,je="__reactContainer$"+Fe,Be="__reactEvents$"+Fe,He="__reactListeners$"+Fe,Ue="__reactHandles$"+Fe,$e="__reactResources$"+Fe,qe="__reactMarker$"+Fe;function We(e){delete e[Oe],delete e[ze],delete e[Be],delete e[He],delete e[Ue]}function Ve(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[je]||n[Oe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=od(e);null!==e;){if(n=e[Oe])return n;e=od(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[Oe]||e[je]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ke(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Qe(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[qe]=!0}var Ye=new Set,Je={};function Ze(e,t){et(e,t),et(e+"Capture",t)}function et(e,t){for(Je[e]=t,e=0;e<t.length;e++)Ye.add(t[e])}var tt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},rt={};function at(e,t,n){if(r=t,ne.call(rt,r)||!ne.call(it,r)&&(nt.test(r)?rt[r]=!0:(it[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ot(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ct(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function ht(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function ft(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,i,r,a,s,o){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,lt(t)):null!=n?vt(e,s,lt(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=a&&(e.defaultChecked=!!a),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+lt(o):e.removeAttribute("name")}function mt(e,t,n,i,r,a,s,o){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return;n=null!=n?""+lt(n):"",t=null!=t?""+lt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i="function"!=typeof(i=null!=i?i:r)&&"symbol"!=typeof i&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+lt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+lt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(s(92));if(B(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=lt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function At(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xt(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!=typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&xt(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&xt(e,a,t[a])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return kt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Mt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Lt=null;function It(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[ze]||null;if(!r)throw Error(s(90));gt(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&dt(i)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Nt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Rt||null!==Lt)&&(Oc(),Rt&&(t=Rt,e=Lt,Lt=Rt=null,It(t),e)))for(t=0;t<e.length;t++)It(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var i=n[ze]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Ot=!1;if(tt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ot=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(e){Ot=!1}var jt=null,Bt=null,Ht=null;function Ut(){if(Ht)return Ht;var e,t,n=Bt,i=n.length,r="value"in jt?jt.value:jt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[a-t];t++);return Ht=r.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Wt(){return!1}function Vt(e){function t(t,n,i,r,a){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?qt:Wt,this.isPropagationStopped=Wt,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Gt,Kt,Qt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yt=Vt(Xt),Jt=P({},Xt,{view:0,detail:0}),Zt=Vt(Jt),en=P({},Jt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Gt=e.screenX-Qt.screenX,Kt=e.screenY-Qt.screenY):Kt=Gt=0,Qt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Kt}}),tn=Vt(en),nn=Vt(P({},en,{dataTransfer:0})),rn=Vt(P({},Jt,{relatedTarget:0})),an=Vt(P({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=Vt(P({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),on=Vt(P({},Xt,{data:0})),ln={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=un[e])&&!!t[e]}function hn(){return dn}var pn=Vt(P({},Jt,{key:function(e){if(e.key){var t=ln[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),fn=Vt(P({},en,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Vt(P({},Jt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn})),mn=Vt(P({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vn=Vt(P({},en,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yn=Vt(P({},Xt,{newState:0,oldState:0})),bn=[9,13,27,32],wn=tt&&"CompositionEvent"in window,An=null;tt&&"documentMode"in document&&(An=document.documentMode);var Sn=tt&&"TextEvent"in window&&!An,xn=tt&&(!wn||An&&8<An&&11>=An),Tn=String.fromCharCode(32),_n=!1;function En(e,t){switch(e){case"keyup":return-1!==bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Cn=!1,Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Rn(e,t,n,i){Rt?Lt?Lt.push(i):Lt=[i]:Rt=i,0<(t=Nu(t,"onChange")).length&&(n=new Yt("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ln=null,In=null;function Dn(e){ku(e,0)}function Nn(e){if(dt(Ke(e)))return e}function Fn(e,t){if("change"===e)return t}var On=!1;if(tt){var zn;if(tt){var jn="oninput"in document;if(!jn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),jn="function"==typeof Bn.oninput}zn=jn}else zn=!1;On=zn&&(!document.documentMode||9<document.documentMode)}function Hn(){Ln&&(Ln.detachEvent("onpropertychange",Un),In=Ln=null)}function Un(e){if("value"===e.propertyName&&Nn(In)){var t=[];Rn(t,In,e,Pt(e)),Nt(Dn,t)}}function $n(e,t,n){"focusin"===e?(Hn(),In=n,(Ln=t).attachEvent("onpropertychange",Un)):"focusout"===e&&Hn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Nn(In)}function Wn(e,t){if("click"===e)return Nn(t)}function Vn(e,t){if("input"===e||"change"===e)return Nn(t)}var Gn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Kn(e,t){if(Gn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ne.call(t,r)||!Gn(e[r],t[r]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,i=Qn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Qn(i)}}function Yn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Yn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Jn(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ei(e,t){var n=Jn(t);t=e.focusedElem;var i=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Yn(t.ownerDocument.documentElement,t)){if(null!==i&&Zn(t))if(e=i.start,void 0===(n=i.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var r=t.textContent.length,a=Math.min(i.start,r);i=void 0===i.end?a:Math.min(i.end,r),!n.extend&&a>i&&(r=i,i=a,a=r),r=Xn(t,a);var s=Xn(t,i);r&&s&&(1!==n.rangeCount||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&((e=e.createRange()).setStart(r.node,r.offset),n.removeAllRanges(),a>i?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"==typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ti=tt&&"documentMode"in document&&11>=document.documentMode,ni=null,ii=null,ri=null,ai=!1;function si(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ai||null==ni||ni!==ht(i)||(i="selectionStart"in(i=ni)&&Zn(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ri&&Kn(ri,i)||(ri=i,0<(i=Nu(ii,"onSelect")).length&&(t=new Yt("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ni)))}function oi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var li={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},ci={},ui={};function di(e){if(ci[e])return ci[e];if(!li[e])return e;var t,n=li[e];for(t in n)if(n.hasOwnProperty(t)&&t in ui)return ci[e]=n[t];return e}tt&&(ui=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);var hi=di("animationend"),pi=di("animationiteration"),fi=di("animationstart"),gi=di("transitionrun"),mi=di("transitionstart"),vi=di("transitioncancel"),yi=di("transitionend"),bi=new Map,wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ai(e,t){bi.set(e,t),Ze(t,[e])}var Si=[],xi=0,Ti=0;function _i(){for(var e=xi,t=Ti=xi=0;t<e;){var n=Si[t];Si[t++]=null;var i=Si[t];Si[t++]=null;var r=Si[t];Si[t++]=null;var a=Si[t];if(Si[t++]=null,null!==i&&null!==r){var s=i.pending;null===s?r.next=r:(r.next=s.next,s.next=r),i.pending=r}0!==a&&Mi(n,r,a)}}function Ei(e,t,n,i){Si[xi++]=e,Si[xi++]=t,Si[xi++]=n,Si[xi++]=i,Ti|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function ki(e,t,n,i){return Ei(e,t,n,i),Pi(e)}function Ci(e,t){return Ei(e,null,null,t),Pi(e)}function Mi(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(i=a.alternate)&&(i.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;r&&null!==t&&3===e.tag&&(a=e.stateNode,r=31-be(n),null===(e=(a=a.hiddenUpdates)[r])?a[r]=[t]:e.push(t),t.lane=536870912|n)}function Pi(e){if(50<kc)throw kc=0,Cc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ri={},Li=new WeakMap;function Ii(e,t){if("object"==typeof e&&null!==e){var n=Li.get(e);return void 0!==n?n:(t={value:e,source:t,stack:N(t)},Li.set(e,t),t)}return{value:e,source:t,stack:N(t)}}var Di=[],Ni=0,Fi=null,Oi=0,zi=[],ji=0,Bi=null,Hi=1,Ui="";function $i(e,t){Di[Ni++]=Oi,Di[Ni++]=Fi,Fi=e,Oi=t}function qi(e,t,n){zi[ji++]=Hi,zi[ji++]=Ui,zi[ji++]=Bi,Bi=e;var i=Hi;e=Ui;var r=32-be(i)-1;i&=~(1<<r),n+=1;var a=32-be(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Hi=1<<32-be(t)+r|n<<r|i,Ui=a+e}else Hi=1<<a|n<<r|i,Ui=e}function Wi(e){null!==e.return&&($i(e,1),qi(e,1,0))}function Vi(e){for(;e===Fi;)Fi=Di[--Ni],Di[Ni]=null,Oi=Di[--Ni],Di[Ni]=null;for(;e===Bi;)Bi=zi[--ji],zi[ji]=null,Ui=zi[--ji],zi[ji]=null,Hi=zi[--ji],zi[ji]=null}var Gi=null,Ki=null,Qi=!1,Xi=null,Yi=!1,Ji=Error(s(519));function Zi(e){throw rr(Ii(Error(s(418,"")),e)),Ji}function er(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Oe]=e,t[ze]=i,n){case"dialog":Cu("cancel",t),Cu("close",t);break;case"iframe":case"object":case"embed":Cu("load",t);break;case"video":case"audio":for(n=0;n<_u.length;n++)Cu(_u[n],t);break;case"source":Cu("error",t);break;case"img":case"image":case"link":Cu("error",t),Cu("load",t);break;case"details":Cu("toggle",t);break;case"input":Cu("invalid",t),mt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ut(t);break;case"select":Cu("invalid",t);break;case"textarea":Cu("invalid",t),wt(t,i.value,i.defaultValue,i.children),ut(t)}"string"!=typeof(n=i.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||Hu(t.textContent,n)?(null!=i.popover&&(Cu("beforetoggle",t),Cu("toggle",t)),null!=i.onScroll&&Cu("scroll",t),null!=i.onScrollEnd&&Cu("scrollend",t),null!=i.onClick&&(t.onclick=Uu),t=!0):t=!1,t||Zi(e)}function tr(e){for(Gi=e.return;Gi;)switch(Gi.tag){case 3:case 27:return void(Yi=!0);case 5:case 13:return void(Yi=!1);default:Gi=Gi.return}}function nr(e){if(e!==Gi)return!1;if(!Qi)return tr(e),Qi=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Yu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Ki&&Zi(e),tr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Ki=sd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Ki=null}}else Ki=Gi?sd(e.stateNode.nextSibling):null;return!0}function ir(){Ki=Gi=null,Qi=!1}function rr(e){null===Xi?Xi=[e]:Xi.push(e)}var ar=Error(s(460)),sr=Error(s(474)),or={then:function(){}};function lr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function cr(){}function ur(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(cr,cr),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ar)throw Error(s(483));throw e;default:if("string"==typeof t.status)t.then(cr,cr);else{if(null!==(e=ec)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ar)throw Error(s(483));throw e}throw dr=t,ar}}var dr=null;function hr(){if(null===dr)throw Error(s(459));var e=dr;return dr=null,e}var pr=null,fr=0;function gr(e){var t=fr;return fr+=1,null===pr&&(pr=[]),ur(pr,e,t)}function mr(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function vr(e,t){if(t.$$typeof===o)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yr(e){return(0,e._init)(e._payload)}function br(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Fl(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=33554434,n):i:(t.flags|=33554434,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function d(e,t,n,i){return null===t||6!==t.tag?((t=Hl(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n,i){var a=n.type;return a===u?f(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===w&&yr(a)===t.type)?(mr(t=r(t,n.props),n),t.return=e,t):(mr(t=zl(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function p(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function f(e,t,n,i,a){return null===t||7!==t.tag?((t=jl(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Hl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case l:return mr(n=zl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case c:return(t=Ul(t,e.mode,n)).return=e,t;case w:return m(e,t=(0,t._init)(t._payload),n)}if(B(t)||T(t))return(t=jl(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return m(e,gr(t),n);if(t.$$typeof===g)return m(e,_o(e,t),n);vr(e,t)}return null}function v(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:d(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===r?h(e,t,n,i):null;case c:return n.key===r?p(e,t,n,i):null;case w:return v(e,t,n=(r=n._init)(n._payload),i)}if(B(n)||T(n))return null!==r?null:f(e,t,n,i,null);if("function"==typeof n.then)return v(e,t,gr(n),i);if(n.$$typeof===g)return v(e,t,_o(e,n),i);vr(e,n)}return null}function y(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i||"bigint"==typeof i)return d(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case l:return h(t,e=e.get(null===i.key?n:i.key)||null,i,r);case c:return p(t,e=e.get(null===i.key?n:i.key)||null,i,r);case w:return y(e,t,n,i=(0,i._init)(i._payload),r)}if(B(i)||T(i))return f(t,e=e.get(n)||null,i,r,null);if("function"==typeof i.then)return y(e,t,n,gr(i),r);if(i.$$typeof===g)return y(e,t,n,_o(t,i),r);vr(t,i)}return null}function b(d,h,p,f){if("object"==typeof p&&null!==p&&p.type===u&&null===p.key&&(p=p.props.children),"object"==typeof p&&null!==p){switch(p.$$typeof){case l:e:{for(var A=p.key;null!==h;){if(h.key===A){if((A=p.type)===u){if(7===h.tag){n(d,h.sibling),(f=r(h,p.props.children)).return=d,d=f;break e}}else if(h.elementType===A||"object"==typeof A&&null!==A&&A.$$typeof===w&&yr(A)===h.type){n(d,h.sibling),mr(f=r(h,p.props),p),f.return=d,d=f;break e}n(d,h);break}t(d,h),h=h.sibling}p.type===u?((f=jl(p.props.children,d.mode,f,p.key)).return=d,d=f):(mr(f=zl(p.type,p.key,p.props,null,d.mode,f),p),f.return=d,d=f)}return o(d);case c:e:{for(A=p.key;null!==h;){if(h.key===A){if(4===h.tag&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(d,h.sibling),(f=r(h,p.children||[])).return=d,d=f;break e}n(d,h);break}t(d,h),h=h.sibling}(f=Ul(p,d.mode,f)).return=d,d=f}return o(d);case w:return b(d,h,p=(A=p._init)(p._payload),f)}if(B(p))return function(r,s,o,l){for(var c=null,u=null,d=s,h=s=0,p=null;null!==d&&h<o.length;h++){d.index>h?(p=d,d=null):p=d.sibling;var f=v(r,d,o[h],l);if(null===f){null===d&&(d=p);break}e&&d&&null===f.alternate&&t(r,d),s=a(f,s,h),null===u?c=f:u.sibling=f,u=f,d=p}if(h===o.length)return n(r,d),Qi&&$i(r,h),c;if(null===d){for(;h<o.length;h++)null!==(d=m(r,o[h],l))&&(s=a(d,s,h),null===u?c=d:u.sibling=d,u=d);return Qi&&$i(r,h),c}for(d=i(d);h<o.length;h++)null!==(p=y(d,r,h,o[h],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?h:p.key),s=a(p,s,h),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach((function(e){return t(r,e)})),Qi&&$i(r,h),c}(d,h,p,f);if(T(p)){if("function"!=typeof(A=T(p)))throw Error(s(150));return function(r,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,h=o,p=o=0,f=null,g=l.next();null!==h&&!g.done;p++,g=l.next()){h.index>p?(f=h,h=null):f=h.sibling;var b=v(r,h,g.value,c);if(null===b){null===h&&(h=f);break}e&&h&&null===b.alternate&&t(r,h),o=a(b,o,p),null===d?u=b:d.sibling=b,d=b,h=f}if(g.done)return n(r,h),Qi&&$i(r,p),u;if(null===h){for(;!g.done;p++,g=l.next())null!==(g=m(r,g.value,c))&&(o=a(g,o,p),null===d?u=g:d.sibling=g,d=g);return Qi&&$i(r,p),u}for(h=i(h);!g.done;p++,g=l.next())null!==(g=y(h,r,p,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),o=a(g,o,p),null===d?u=g:d.sibling=g,d=g);return e&&h.forEach((function(e){return t(r,e)})),Qi&&$i(r,p),u}(d,h,p=A.call(p),f)}if("function"==typeof p.then)return b(d,h,gr(p),f);if(p.$$typeof===g)return b(d,h,_o(d,p),f);vr(d,p)}return"string"==typeof p&&""!==p||"number"==typeof p||"bigint"==typeof p?(p=""+p,null!==h&&6===h.tag?(n(d,h.sibling),(f=r(h,p)).return=d,d=f):(n(d,h),(f=Hl(p,d.mode,f)).return=d,d=f),o(d)):n(d,h)}return function(e,t,n,i){try{fr=0;var r=b(e,t,n,i);return pr=null,r}catch(t){if(t===ar)throw t;var a=Dl(29,t,null,e.mode);return a.lanes=i,a.return=e,a}}}var wr=br(!0),Ar=br(!1),Sr=W(null),xr=W(0);function Tr(e,t){G(xr,e=lc),G(Sr,t),lc=e|t.baseLanes}function _r(){G(xr,lc),G(Sr,Sr.current)}function Er(){lc=xr.current,V(Sr),V(xr)}var kr=W(null),Cr=null;function Mr(e){var t=e.alternate;G(Ir,1&Ir.current),G(kr,e),null===Cr&&(null===t||null!==Sr.current||null!==t.memoizedState)&&(Cr=e)}function Pr(e){if(22===e.tag){if(G(Ir,Ir.current),G(kr,e),null===Cr){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Cr=e)}}else Rr()}function Rr(){G(Ir,Ir.current),G(kr,kr.current)}function Lr(e){V(kr),Cr===e&&(Cr=null),V(Ir)}var Ir=W(0);function Dr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nr="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Fr=i.unstable_scheduleCallback,Or=i.unstable_NormalPriority,zr={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jr(){return{controller:new Nr,data:new Map,refCount:0}}function Br(e){e.refCount--,0===e.refCount&&Fr(Or,(function(){e.controller.abort()}))}var Hr=null,Ur=0,$r=0,qr=null;function Wr(){if(0==--Ur&&null!==Hr){null!==qr&&(qr.status="fulfilled");var e=Hr;Hr=null,$r=0,qr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vr=M.S;M.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Hr){var n=Hr=[];Ur=0,$r=wu(),qr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ur++,t.then(Wr,Wr)}(0,t),null!==Vr&&Vr(e,t)};var Gr=W(null);function Kr(){var e=Gr.current;return null!==e?e:ec.pooledCache}function Qr(e,t){G(Gr,null===t?Gr.current:t.pool)}function Xr(){var e=Kr();return null===e?null:{parent:zr._currentValue,pool:e}}var Yr=0,Jr=null,Zr=null,ea=null,ta=!1,na=!1,ia=!1,ra=0,aa=0,sa=null,oa=0;function la(){throw Error(s(321))}function ca(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function ua(e,t,n,i,r,a){return Yr=a,Jr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Ts:_s,ia=!1,a=n(i,r),ia=!1,na&&(a=ha(t,n,i,r)),da(e),a}function da(e){M.H=xs;var t=null!==Zr&&null!==Zr.next;if(Yr=0,ea=Zr=Jr=null,ta=!1,aa=0,sa=null,t)throw Error(s(300));null===e||Us||null!==(e=e.dependencies)&&So(e)&&(Us=!0)}function ha(e,t,n,i){Jr=e;var r=0;do{if(na&&(sa=null),aa=0,na=!1,25<=r)throw Error(s(301));if(r+=1,ea=Zr=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}M.H=Es,a=t(n,i)}while(na);return a}function pa(){var e=M.H,t=e.useState()[0];return t="function"==typeof t.then?ba(t):t,e=e.useState()[0],(null!==Zr?Zr.memoizedState:null)!==e&&(Jr.flags|=1024),t}function fa(){var e=0!==ra;return ra=0,e}function ga(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ma(e){if(ta){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ta=!1}Yr=0,ea=Zr=Jr=null,na=!1,aa=ra=0,sa=null}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ea?Jr.memoizedState=ea=e:ea=ea.next=e,ea}function ya(){if(null===Zr){var e=Jr.alternate;e=null!==e?e.memoizedState:null}else e=Zr.next;var t=null===ea?Jr.memoizedState:ea.next;if(null!==t)ea=t,Zr=e;else{if(null===e){if(null===Jr.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Zr=e).memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},null===ea?Jr.memoizedState=ea=e:ea=ea.next=e}return ea}function ba(e){var t=aa;return aa+=1,null===sa&&(sa=[]),e=ur(sa,e,t),t=Jr,null===(null===ea?t.memoizedState:ea.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Ts:_s),e}function wa(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return ba(e);if(e.$$typeof===g)return To(e)}throw Error(s(438,String(e)))}function Aa(e){var t=null,n=Jr.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=Jr.alternate;null!==i&&null!==(i=i.updateQueue)&&null!=(i=i.memoCache)&&(t={data:i.data.map((function(e){return e.slice()})),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Jr.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=S;return t.index++,n}function Sa(e,t){return"function"==typeof t?t(e):t}function xa(e){return Ta(ya(),Zr,e)}function Ta(e,t,n){var i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(null!==a){if(null!==r){var o=r.next;r.next=a.next,a.next=o}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,null===r)e.memoizedState=a;else{var l=o=null,c=null,u=t=r.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(nc&h)===h:(Yr&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===$r&&(d=!0);else{if((Yr&p)===p){u=u.next,p===$r&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,Jr.lanes|=p,uc|=p}h=u.action,ia&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,o=a):c=c.next=p,Jr.lanes|=h,uc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Gn(a,e.memoizedState)&&(Us=!0,d&&null!==(n=qr)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,i.lastRenderedState=a}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function _a(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{a=e(a,o.action),o=o.next}while(o!==r);Gn(a,t.memoizedState)||(Us=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Ea(e,t,n){var i=Jr,r=ya(),a=Qi;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Gn((Zr||r).memoizedState,n);if(o&&(r.memoizedState=n,Us=!0),r=r.queue,Ya(Ma.bind(null,i,r,e),[e]),r.getSnapshot!==t||o||null!==ea&&1&ea.memoizedState.tag){if(i.flags|=2048,Va(9,Ca.bind(null,i,r,n,t),{destroy:void 0},null),null===ec)throw Error(s(349));a||60&Yr||ka(i,t,n)}return n}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Jr.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Jr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,i){t.value=n,t.getSnapshot=i,Pa(t)&&Ra(e)}function Ma(e,t,n){return n((function(){Pa(t)&&Ra(e)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(e){return!0}}function Ra(e){var t=Ci(e,2);null!==t&&Rc(t,0,2)}function La(e){var t=va();if("function"==typeof e){var n=e;if(e=n(),ia){ye(!0);try{n()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t}function Ia(e,t,n,i){return e.baseState=n,Ta(e,Zr,"function"==typeof i?i:Sa)}function Da(e,t,n,i,r){if(ws(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==M.T?n(!0):a.isTransition=!1,i(a),null===(n=t.pending)?(a.next=t.pending=a,Na(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Na(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=M.T,s={};M.T=s;try{var o=n(r,i),l=M.S;null!==l&&l(s,o),Fa(e,t,o)}catch(n){za(e,t,n)}finally{M.T=a}}else try{Fa(e,t,a=n(r,i))}catch(n){za(e,t,n)}}function Fa(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then((function(n){Oa(e,t,n)}),(function(n){return za(e,t,n)})):Oa(e,t,n)}function Oa(e,t,n){t.status="fulfilled",t.value=n,ja(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Na(e,n)))}function za(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,ja(t),t=t.next}while(t!==i)}e.action=null}function ja(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ba(e,t){return t}function Ha(e,t){if(Qi){var n=ec.formState;if(null!==n){e:{var i=Jr;if(Qi){if(Ki){t:{for(var r=Ki,a=Yi;8!==r.nodeType;){if(!a){r=null;break t}if(null===(r=sd(r.nextSibling))){r=null;break t}}r="F!"===(a=r.data)||"F"===a?r:null}if(r){Ki=sd(r.nextSibling),i="F!"===r.data;break e}}Zi(i)}i=!1}i&&(t=n[0])}}return(n=va()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:t},n.queue=i,n=vs.bind(null,Jr,i),i.dispatch=n,i=La(!1),a=bs.bind(null,Jr,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=va()).queue=r,n=Da.bind(null,Jr,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Ua(e){return $a(ya(),Zr,e)}function $a(e,t,n){t=Ta(e,t,Ba)[0],e=xa(Sa)[0],t="object"==typeof t&&null!==t&&"function"==typeof t.then?ba(t):t;var i=ya(),r=i.queue,a=r.dispatch;return n!==i.memoizedState&&(Jr.flags|=2048,Va(9,qa.bind(null,r,n),{destroy:void 0},null)),[t,a,e]}function qa(e,t){e.action=t}function Wa(e){var t=ya(),n=Zr;if(null!==n)return $a(t,n,e);ya(),t=t.memoizedState;var i=(n=ya()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Va(e,t,n,i){return e={tag:e,create:t,inst:n,deps:i,next:null},null===(t=Jr.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Jr.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ga(){return ya().memoizedState}function Ka(e,t,n,i){var r=va();Jr.flags|=e,r.memoizedState=Va(1|t,n,{destroy:void 0},void 0===i?null:i)}function Qa(e,t,n,i){var r=ya();i=void 0===i?null:i;var a=r.memoizedState.inst;null!==Zr&&null!==i&&ca(i,Zr.memoizedState.deps)?r.memoizedState=Va(t,n,a,i):(Jr.flags|=e,r.memoizedState=Va(1|t,n,a,i))}function Xa(e,t){Ka(8390656,8,e,t)}function Ya(e,t){Qa(2048,8,e,t)}function Ja(e,t){return Qa(4,2,e,t)}function Za(e,t){return Qa(4,4,e,t)}function es(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function ts(e,t,n){n=null!=n?n.concat([e]):null,Qa(4,4,es.bind(null,t,e),n)}function ns(){}function is(e,t){var n=ya();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&ca(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function rs(e,t){var n=ya();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&ca(t,i[1]))return i[0];if(i=e(),ia){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[i,t],i}function as(e,t,n){return void 0===n||1073741824&Yr?e.memoizedState=t:(e.memoizedState=n,e=Pc(),Jr.lanes|=e,uc|=e,n)}function ss(e,t,n,i){return Gn(n,t)?n:null!==Sr.current?(e=as(e,n,i),Gn(e,t)||(Us=!0),e):42&Yr?(e=Pc(),Jr.lanes|=e,uc|=e,t):(Us=!0,e.memoizedState=n)}function os(e,t,n,i,r){var a=H.p;H.p=0!==a&&8>a?a:8;var s,o,l,c=M.T,u={};M.T=u,bs(e,!1,t,n);try{var d=r(),h=M.S;null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then?ys(e,t,(s=i,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then((function(){l.status="fulfilled",l.value=s;for(var e=0;e<o.length;e++)(0,o[e])(s)}),(function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)})),l),Mc()):ys(e,t,i,Mc())}catch(n){ys(e,t,{then:function(){},status:"rejected",reason:n},Mc())}finally{H.p=a,M.T=c}}function ls(){}function cs(e,t,n,i){if(5!==e.tag)throw Error(s(476));var r=us(e).queue;os(e,r,t,U,null===n?ls:function(){return ds(e),n(i)})}function us(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:U},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ds(e){ys(e,us(e).next.queue,{},Mc())}function hs(){return To(Nd)}function ps(){return ya().memoizedState}function fs(){return ya().memoizedState}function gs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Mc(),i=Ro(t,e=Po(n),n);return null!==i&&(Rc(i,0,n),Lo(i,t,n)),t={cache:jr()},void(e.payload=t)}t=t.return}}function ms(e,t,n){var i=Mc();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ws(e)?As(t,n):null!==(n=ki(e,t,n,i))&&(Rc(n,0,i),Ss(n,t,i))}function vs(e,t,n){ys(e,t,n,Mc())}function ys(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ws(e))As(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,Gn(o,s))return Ei(e,t,r,0),null===ec&&_i(),!1}catch(e){}if(null!==(n=ki(e,t,r,i)))return Rc(n,0,i),Ss(n,t,i),!0}return!1}function bs(e,t,n,i){if(i={lane:2,revertLane:wu(),action:i,hasEagerState:!1,eagerState:null,next:null},ws(e)){if(t)throw Error(s(479))}else null!==(t=ki(e,n,i,2))&&Rc(t,0,2)}function ws(e){var t=e.alternate;return e===Jr||null!==t&&t===Jr}function As(e,t){na=ta=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ss(e,t,n){if(4194176&n){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ie(e,n)}}var xs={readContext:To,use:wa,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useLayoutEffect:la,useInsertionEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useDeferredValue:la,useTransition:la,useSyncExternalStore:la,useId:la};xs.useCacheRefresh=la,xs.useMemoCache=la,xs.useHostTransitionStatus=la,xs.useFormState=la,xs.useActionState=la,xs.useOptimistic=la;var Ts={readContext:To,use:wa,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Xa,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Ka(4194308,4,es.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ka(4194308,4,e,t)},useInsertionEffect:function(e,t){Ka(4,2,e,t)},useMemo:function(e,t){var n=va();t=void 0===t?null:t;var i=e();if(ia){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=va();if(void 0!==n){var r=n(t);if(ia){ye(!0);try{n(t)}finally{ye(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=ms.bind(null,Jr,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:function(e){var t=(e=La(e)).queue,n=vs.bind(null,Jr,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ns,useDeferredValue:function(e,t){return as(va(),e,t)},useTransition:function(){var e=La(!1);return e=os.bind(null,Jr,e.queue,!0,!1),va().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Jr,r=va();if(Qi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===ec)throw Error(s(349));60&nc||ka(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Xa(Ma.bind(null,i,a,e),[e]),i.flags|=2048,Va(9,Ca.bind(null,i,a,n,t),{destroy:void 0},null),n},useId:function(){var e=va(),t=ec.identifierPrefix;if(Qi){var n=Ui;t=":"+t+"R"+(n=(Hi&~(1<<32-be(Hi)-1)).toString(32)+n),0<(n=ra++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=oa++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return va().memoizedState=gs.bind(null,Jr)}};Ts.useMemoCache=Aa,Ts.useHostTransitionStatus=hs,Ts.useFormState=Ha,Ts.useActionState=Ha,Ts.useOptimistic=function(e){var t=va();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=bs.bind(null,Jr,!0,n),n.dispatch=t,[e,t]};var _s={readContext:To,use:wa,useCallback:is,useContext:To,useEffect:Ya,useImperativeHandle:ts,useInsertionEffect:Ja,useLayoutEffect:Za,useMemo:rs,useReducer:xa,useRef:Ga,useState:function(){return xa(Sa)},useDebugValue:ns,useDeferredValue:function(e,t){return ss(ya(),Zr.memoizedState,e,t)},useTransition:function(){var e=xa(Sa)[0],t=ya().memoizedState;return["boolean"==typeof e?e:ba(e),t]},useSyncExternalStore:Ea,useId:ps};_s.useCacheRefresh=fs,_s.useMemoCache=Aa,_s.useHostTransitionStatus=hs,_s.useFormState=Ua,_s.useActionState=Ua,_s.useOptimistic=function(e,t){return Ia(ya(),0,e,t)};var Es={readContext:To,use:wa,useCallback:is,useContext:To,useEffect:Ya,useImperativeHandle:ts,useInsertionEffect:Ja,useLayoutEffect:Za,useMemo:rs,useReducer:_a,useRef:Ga,useState:function(){return _a(Sa)},useDebugValue:ns,useDeferredValue:function(e,t){var n=ya();return null===Zr?as(n,e,t):ss(n,Zr.memoizedState,e,t)},useTransition:function(){var e=_a(Sa)[0],t=ya().memoizedState;return["boolean"==typeof e?e:ba(e),t]},useSyncExternalStore:Ea,useId:ps};function ks(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:P({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Es.useCacheRefresh=fs,Es.useMemoCache=Aa,Es.useHostTransitionStatus=hs,Es.useFormState=Wa,Es.useActionState=Wa,Es.useOptimistic=function(e,t){var n=ya();return null!==Zr?Ia(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Cs={isMounted:function(e){return!!(e=e._reactInternals)&&F(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Mc(),r=Po(i);r.payload=t,null!=n&&(r.callback=n),null!==(t=Ro(e,r,i))&&(Rc(t,0,i),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Mc(),r=Po(i);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=Ro(e,r,i))&&(Rc(t,0,i),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mc(),i=Po(n);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ro(e,i,n))&&(Rc(t,0,n),Lo(t,e,n))}};function Ms(e,t,n,i,r,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,s):!(t.prototype&&t.prototype.isPureReactComponent&&Kn(n,i)&&Kn(r,a))}function Ps(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Cs.enqueueReplaceState(t,t.state,null)}function Rs(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=P({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var Ls="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Is(e){Ls(e)}function Ds(e){console.error(e)}function Ns(e){Ls(e)}function Fs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout((function(){throw e}))}}function Os(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout((function(){throw e}))}}function zs(e,t,n){return(n=Po(n)).tag=3,n.payload={element:null},n.callback=function(){Fs(e,t)},n}function js(e){return(e=Po(e)).tag=3,e}function Bs(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Os(t,n,i)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){Os(t,n,i),"function"!=typeof r&&(null===Ac?Ac=new Set([this]):Ac.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Hs=Error(s(461)),Us=!1;function $s(e,t,n,i){t.child=null===e?Ar(t,null,n,i):wr(t,e.child,n,i)}function qs(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var s={};for(var o in i)"ref"!==o&&(s[o]=i[o])}else s=i;return xo(t),i=ua(e,t,n,s,a,r),o=fa(),null===e||Us?(Qi&&o&&Wi(t),t.flags|=1,$s(e,t,i,r),t.child):(ga(e,t,r),uo(e,t,r))}function Ws(e,t,n,i,r){if(null===e){var a=n.type;return"function"!=typeof a||Nl(a)||void 0!==a.defaultProps||null!==n.compare?((e=zl(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Vs(e,t,a,i,r))}if(a=e.child,!ho(e,r)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Kn)(s,i)&&e.ref===t.ref)return uo(e,t,r)}return t.flags|=1,(e=Fl(a,i)).ref=t.ref,e.return=t,t.child=e}function Vs(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(Kn(a,i)&&e.ref===t.ref){if(Us=!1,t.pendingProps=i=a,!ho(e,r))return t.lanes=e.lanes,uo(e,t,r);131072&e.flags&&(Us=!0)}}return Xs(e,t,n,i,r)}function Gs(e,t,n){var i=t.pendingProps,r=i.children,a=!!(2&t.stateNode._pendingVisibility),s=null!==e?e.memoizedState:null;if(Qs(e,t),"hidden"===i.mode||a){if(128&t.flags){if(i=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return Ks(e,t,i,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Ks(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qr(0,null!==s?s.cachePool:null),null!==s?Tr(t,s):_r(),Pr(t)}else null!==s?(Qr(0,s.cachePool),Tr(t,s),Rr(),t.memoizedState=null):(null!==e&&Qr(0,null),_r(),Rr());return $s(e,t,r,n),t.child}function Ks(e,t,n,i){var r=Kr();return r=null===r?null:{parent:zr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Qr(0,null),_r(),Pr(t),null!==e&&Ao(e,t,i,!0),null}function Qs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Xs(e,t,n,i,r){return xo(t),n=ua(e,t,n,i,void 0,r),i=fa(),null===e||Us?(Qi&&i&&Wi(t),t.flags|=1,$s(e,t,n,r),t.child):(ga(e,t,r),uo(e,t,r))}function Ys(e,t,n,i,r,a){return xo(t),t.updateQueue=null,n=ha(t,i,n,r),da(e),i=fa(),null===e||Us?(Qi&&i&&Wi(t),t.flags|=1,$s(e,t,n,a),t.child):(ga(e,t,a),uo(e,t,a))}function Js(e,t,n,i,r){if(xo(t),null===t.stateNode){var a=Ri,s=n.contextType;"object"==typeof s&&null!==s&&(a=To(s)),a=new n(i,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=Cs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=i,a.state=t.memoizedState,a.refs={},Co(t),s=n.contextType,a.context="object"==typeof s&&null!==s?To(s):Ri,a.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(ks(t,n,s,i),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(s=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&Cs.enqueueReplaceState(a,a.state,null),Fo(t,i,a,r),No(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=Rs(n,o);a.props=l;var c=a.context,u=n.contextType;s=Ri,"object"==typeof u&&null!==u&&(s=To(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o||c!==s)&&Ps(t,a,i,s),ko=!1;var h=t.memoizedState;a.state=h,Fo(t,i,a,r),No(),c=t.memoizedState,o||h!==c||ko?("function"==typeof d&&(ks(t,n,d,i),c=t.memoizedState),(l=ko||Ms(t,n,l,i,h,c,s))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=s,i=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Mo(e,t),u=Rs(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Ri,"object"==typeof c&&null!==c&&(l=To(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Ps(t,a,i,l),ko=!1,h=t.memoizedState,a.state=h,Fo(t,i,a,r),No();var p=t.memoizedState;s!==d||h!==p||ko||null!==e&&null!==e.dependencies&&So(e.dependencies)?("function"==typeof o&&(ks(t,n,o,i),p=t.memoizedState),(u=ko||Ms(t,n,u,i,h,p,l)||null!==e&&null!==e.dependencies&&So(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=l,i=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Qs(e,t),i=!!(128&t.flags),a||i?(a=t.stateNode,n=i&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&i?(t.child=wr(t,e.child,null,r),t.child=wr(t,null,n,r)):$s(e,t,n,r),t.memoizedState=a.state,e=t.child):e=uo(e,t,r),e}function Zs(e,t,n,i){return ir(),t.flags|=256,$s(e,t,n,i),t.child}var eo={dehydrated:null,treeContext:null,retryLane:0};function to(e){return{baseLanes:e,cachePool:Xr()}}function no(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=pc),e}function io(e,t,n){var i,r=t.pendingProps,a=!1,o=!!(128&t.flags);if((i=o)||(i=(null===e||null!==e.memoizedState)&&!!(2&Ir.current)),i&&(a=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(Qi){if(a?Mr(t):Rr(),Qi){var l,c=Ki;if(l=c){e:{for(l=c,c=Yi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=sd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Bi?{id:Hi,overflow:Ui}:null,retryLane:536870912},(l=Dl(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Gi=t,Ki=null,l=!0):l=!1}l||Zi(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Lr(t)}return c=r.children,r=r.fallback,a?(Rr(),c=ao({mode:"hidden",children:c},a=t.mode),r=jl(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(a=t.child).memoizedState=to(n),a.childLanes=no(e,i,n),t.memoizedState=eo,r):(Mr(t),ro(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(Mr(t),t.flags&=-257,t=so(e,t,n)):null!==t.memoizedState?(Rr(),t.child=e.child,t.flags|=128,t=null):(Rr(),a=r.fallback,c=t.mode,r=ao({mode:"visible",children:r.children},c),(a=jl(a,c,n,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,wr(t,e.child,null,n),(r=t.child).memoizedState=to(n),r.childLanes=no(e,i,n),t.memoizedState=eo,t=a);else if(Mr(t),"$!"===c.data){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(r=Error(s(419))).stack="",r.digest=i,rr({value:r,source:null,stack:null}),t=so(e,t,n)}else if(Us||Ao(e,t,n,!1),i=!!(n&e.childLanes),Us||i){if(null!==(i=ec)){if(42&(r=n&-n))r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(0!==(r=r&(i.suspendedLanes|n)?0:r)&&r!==l.retryLane)throw l.retryLane=r,Ci(e,r),Rc(i,0,r),Hs}"$?"===c.data||$c(),t=so(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=su.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Ki=sd(c.nextSibling),Gi=t,Qi=!0,Xi=null,Yi=!1,null!==e&&(zi[ji++]=Hi,zi[ji++]=Ui,zi[ji++]=Bi,Hi=e.id,Ui=e.overflow,Bi=t),(t=ro(t,r.children)).flags|=4096);return t}return a?(Rr(),a=r.fallback,c=t.mode,u=(l=e.child).sibling,(r=Fl(l,{mode:"hidden",children:r.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?a=Fl(u,a):(a=jl(a,c,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,null===(c=e.child.memoizedState)?c=to(n):(null!==(l=c.cachePool)?(u=zr._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Xr(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=no(e,i,n),t.memoizedState=eo,r):(Mr(t),e=(n=e.child).sibling,(n=Fl(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function ro(e,t){return(t=ao({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ao(e,t){return Bl(e,t,0,null)}function so(e,t,n){return wr(t,e.child,null,n),(e=ro(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function oo(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),bo(e.return,t,n)}function lo(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function co(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if($s(e,t,i.children,n),2&(i=Ir.current))i=1&i|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&oo(e,n,t);else if(19===e.tag)oo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(G(Ir,i),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Dr(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),lo(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Dr(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}lo(t,!0,n,null,a);break;case"together":lo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),uc|=t.lanes,!(n&t.childLanes)){if(null===e)return null;if(Ao(e,t,n,!1),!(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ho(e,t){return!!(e.lanes&t)||!(null===(e=e.dependencies)||!So(e))}function po(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Us=!0;else{if(!(ho(e,n)||128&t.flags))return Us=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),vo(0,zr,e.memoizedState.cache),ir();break;case 27:case 5:ee(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:vo(0,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(Mr(t),t.flags|=128,null):n&t.child.childLanes?io(e,t,n):(Mr(t),null!==(e=uo(e,t,n))?e.sibling:null);Mr(t);break;case 19:var r=!!(128&e.flags);if((i=!!(n&t.childLanes))||(Ao(e,t,n,!1),i=!!(n&t.childLanes)),r){if(i)return co(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),G(Ir,Ir.current),i)break;return null;case 22:case 23:return t.lanes=0,Gs(e,t,n);case 24:vo(0,zr,e.memoizedState.cache)}return uo(e,t,n)}(e,t,n);Us=!!(131072&e.flags)}else Us=!1,Qi&&1048576&t.flags&&qi(t,Oi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,"function"!=typeof i){if(null!=i){if((r=i.$$typeof)===m){t.tag=11,t=qs(null,t,i,e,n);break e}if(r===b){t.tag=14,t=Ws(null,t,i,e,n);break e}}throw t=E(i)||i,Error(s(306,t,""))}Nl(i)?(e=Rs(i,e),t.tag=1,t=Js(null,t,i,e,n)):(t.tag=0,t=Xs(null,t,i,e,n))}return t;case 0:return Xs(e,t,t.type,t.pendingProps,n);case 1:return Js(e,t,i=t.type,r=Rs(i,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(s(387));var a=t.pendingProps;i=(r=t.memoizedState).element,Mo(e,t),Fo(t,a,null,n);var o=t.memoizedState;if(a=o.cache,vo(0,zr,a),a!==r.cache&&wo(t,[zr],n,!0),No(),a=o.element,r.isDehydrated){if(r={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Zs(e,t,a,n);break e}if(a!==i){rr(i=Ii(Error(s(424)),t)),t=Zs(e,t,a,n);break e}for(Ki=sd(t.stateNode.containerInfo.firstChild),Gi=t,Qi=!0,Xi=null,Yi=!0,n=Ar(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ir(),a===i){t=uo(e,t,n);break e}$s(e,t,a,n)}t=t.child}return t;case 26:return Qs(e,t),null===e?(n=gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Qi||(n=t.type,e=t.pendingProps,(i=Ku(X.current).createElement(n))[Oe]=t,i[ze]=e,Wu(i,n,e),Xe(i),t.stateNode=i):t.memoizedState=gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ee(t),null===e&&Qi&&(i=t.stateNode=ld(t.type,t.pendingProps,X.current),Gi=t,Yi=!0,Ki=sd(i.firstChild)),i=t.pendingProps.children,null!==e||Qi?$s(e,t,i,n):t.child=wr(t,null,i,n),Qs(e,t),t.child;case 5:return null===e&&Qi&&((r=i=Ki)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(null==r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===a)return e}if(null===(e=sd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,Yi))?(t.stateNode=i,Gi=t,Ki=sd(i.firstChild),Yi=!1,r=!0):r=!1),r||Zi(t)),ee(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,Yu(r,a)?i=null:null!==o&&Yu(r,o)&&(t.flags|=32),null!==t.memoizedState&&(r=ua(e,t,pa,null,null,n),Nd._currentValue=r),Qs(e,t),$s(e,t,i,n),t.child;case 6:return null===e&&Qi&&((e=n=Ki)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=sd(e.nextSibling)))return null}return e}(n,t.pendingProps,Yi))?(t.stateNode=n,Gi=t,Ki=null,e=!0):e=!1),e||Zi(t)),null;case 13:return io(e,t,n);case 4:return J(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=wr(t,null,i,n):$s(e,t,i,n),t.child;case 11:return qs(e,t,t.type,t.pendingProps,n);case 7:return $s(e,t,t.pendingProps,n),t.child;case 8:case 12:return $s(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,vo(0,t.type,i.value),$s(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,xo(t),i=i(r=To(r)),t.flags|=1,$s(e,t,i,n),t.child;case 14:return Ws(e,t,t.type,t.pendingProps,n);case 15:return Vs(e,t,t.type,t.pendingProps,n);case 19:return co(e,t,n);case 22:return Gs(e,t,n);case 24:return xo(t),i=To(zr),null===e?(null===(r=Kr())&&(r=ec,a=jr(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},Co(t),vo(0,zr,r)):(!!(e.lanes&n)&&(Mo(e,t),Fo(t,null,null,n),No()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),vo(0,zr,i)):(i=a.cache,vo(0,zr,i),i!==r.cache&&wo(t,[zr],n,!0))),$s(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}var fo=W(null),go=null,mo=null;function vo(e,t,n){G(fo,t._currentValue),t._currentValue=n}function yo(e){e._currentValue=fo.current,V(fo)}function bo(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function wo(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var a=r.dependencies;if(null!==a){var o=r.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),bo(a.return,n,e),i||(o=null);break e}a=l.next}}else if(18===r.tag){if(null===(o=r.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),bo(o,n,e),o=null}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===e){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}}function Ao(e,t,n,i){e=null;for(var r=t,a=!1;null!==r;){if(!a)if(524288&r.flags)a=!0;else if(262144&r.flags)break;if(10===r.tag){var o=r.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=r.type;Gn(r.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(r===Y.current){if(null===(o=r.alternate))throw Error(s(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Nd):e=[Nd])}r=r.return}null!==e&&wo(t,e,n,i),t.flags|=262144}function So(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xo(e){go=e,mo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function To(e){return Eo(go,e)}function _o(e,t){return null===go&&xo(e),Eo(e,t)}function Eo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===mo){if(null===e)throw Error(s(308));mo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else mo=mo.next=t;return n}var ko=!1;function Co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Po(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,2&Zl){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Pi(e),Mi(e,null,n),t}return Ei(e,i,t,n),Pi(e)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194176&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ie(e,n)}}function Io(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?r=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Do=!1;function No(){if(Do&&null!==qr)throw qr}function Fo(e,t,n,i){Do=!1;var r=e.updateQueue;ko=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&(o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l)}if(null!==a){var d=r.baseState;for(s=0,u=c=l=null,o=a;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(nc&h)===h:(i&h)===h){0!==h&&h===$r&&(Do=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;h=t;var m=n;switch(g.tag){case 1:if("function"==typeof(f=g.payload)){d=f.call(m,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=g.payload)?f.call(m,d,h):f))break e;d=P({},d,h);break e;case 2:ko=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===a&&(r.shared.lanes=0),uc|=s,e.lanes=s,e.memoizedState=d}}function Oo(e,t){if("function"!=typeof e)throw Error(s(191,e));e.call(t)}function zo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Oo(n[e],t)}function jo(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(e){nu(t,t.return,e)}}function Bo(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var a=r.next;i=a;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,r=t;var l=n;try{o()}catch(e){nu(r,l,e)}}}i=i.next}while(i!==a)}}catch(e){nu(t,t.return,e)}}function Ho(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{zo(t,n)}catch(t){nu(e,e.return,t)}}}function Uo(e,t,n){n.props=Rs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){nu(e,t,n)}}function $o(e,t){try{var n=e.ref;if(null!==n){var i=e.stateNode;switch(e.tag){case 26:case 27:case 5:var r=i;break;default:r=i}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){nu(e,t,n)}}function qo(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"==typeof i)try{i()}catch(n){nu(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){nu(e,t,n)}else n.current=null}function Wo(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(t){nu(e,e.return,t)}}function Vo(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,o=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(f)||$u(e,t,f,null,i,h)}}for(var p in i){var f=i[p];if(h=n[p],i.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":a=f;break;case"name":r=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&$u(e,t,p,f,i,h)}}return void gt(e,o,l,c,u,d,a,r);case"select":for(a in f=o=l=p=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":f=c;default:i.hasOwnProperty(a)||$u(e,t,a,null,i,c)}for(r in i)if(a=i[r],c=n[r],i.hasOwnProperty(r)&&(null!=a||null!=c))switch(r){case"value":p=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&$u(e,t,r,a,i,c)}return t=l,n=o,i=f,void(null!=p?yt(e,!!n,p,!1):!!i!=!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:$u(e,t,l,null,i,r)}for(o in i)if(r=i[o],a=n[o],i.hasOwnProperty(o)&&(null!=r||null!=a))switch(o){case"value":p=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==a&&$u(e,t,o,r,i,a)}return void bt(e,p,f);case"option":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!i.hasOwnProperty(g)&&("selected"===g?e.selected=!1:$u(e,t,g,null,i,p));for(c in i)p=i[c],f=n[c],!i.hasOwnProperty(c)||p===f||null==p&&null==f||("selected"===c?e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p:$u(e,t,c,p,i,f));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)p=n[m],n.hasOwnProperty(m)&&null!=p&&!i.hasOwnProperty(m)&&$u(e,t,m,null,i,p);for(u in i)if(p=i[u],f=n[u],i.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:$u(e,t,u,p,i,f)}return;default:if(_t(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!i.hasOwnProperty(v)&&qu(e,t,v,void 0,i,p);for(d in i)p=i[d],f=n[d],!i.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||qu(e,t,d,p,i,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!i.hasOwnProperty(y)&&$u(e,t,y,null,i,p);for(h in i)p=i[h],f=n[h],!i.hasOwnProperty(h)||p===f||null==p&&null==f||$u(e,t,h,p,i,f)}(i,e.type,n,t),i[ze]=t}catch(t){nu(e,e.return,t)}}function Go(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Ko(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Go(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Qo(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Uu));else if(4!==i&&27!==i&&null!==(e=e.child))for(Qo(e,t,n),e=e.sibling;null!==e;)Qo(e,t,n),e=e.sibling}function Xo(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&27!==i&&null!==(e=e.child))for(Xo(e,t,n),e=e.sibling;null!==e;)Xo(e,t,n),e=e.sibling}var Yo=!1,Jo=!1,Zo=!1,el="function"==typeof WeakSet?WeakSet:Set,tl=null,nl=!1;function il(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ml(e,n),4&i&&jo(5,n);break;case 1:if(ml(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){nu(n,n.return,e)}else{var r=Rs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){nu(n,n.return,e)}}64&i&&Ho(n),512&i&&$o(n,n.return);break;case 3:if(ml(e,n),64&i&&null!==(i=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{zo(i,e)}catch(e){nu(n,n.return,e)}}break;case 26:ml(e,n),512&i&&$o(n,n.return);break;case 27:case 5:ml(e,n),null===t&&4&i&&Wo(n),512&i&&$o(n,n.return);break;case 12:default:ml(e,n);break;case 13:ml(e,n),4&i&&cl(e,n);break;case 22:if(!(r=null!==n.memoizedState||Yo)){t=null!==t&&null!==t.memoizedState||Jo;var a=Yo,s=Jo;Yo=r,(Jo=t)&&!s?yl(e,n,!!(8772&n.subtreeFlags)):ml(e,n),Yo=a,Jo=s}512&i&&("manual"===n.memoizedProps.mode?$o(n,n.return):qo(n,n.return))}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&We(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,sl=!1;function ol(e,t,n){for(n=n.child;null!==n;)ll(e,t,n),n=n.sibling}function ll(e,t,n){if(ve&&"function"==typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(me,n)}catch(e){}switch(n.tag){case 26:Jo||qo(n,t),ol(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Jo||qo(n,t);var i=al,r=sl;for(al=n.stateNode,ol(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);We(n),al=i,sl=r;break;case 5:Jo||qo(n,t);case 6:r=al;var a=sl;if(al=null,ol(e,t,n),sl=a,null!==(al=r))if(sl)try{e=al,i=n.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)}catch(e){nu(n,t,e)}else try{al.removeChild(n.stateNode)}catch(e){nu(n,t,e)}break;case 18:null!==al&&(sl?(t=al,n=n.stateNode,8===t.nodeType?rd(t.parentNode,n):1===t.nodeType&&rd(t,n),hh(t)):rd(al,n.stateNode));break;case 4:i=al,r=sl,al=n.stateNode.containerInfo,sl=!0,ol(e,t,n),al=i,sl=r;break;case 0:case 11:case 14:case 15:Jo||Bo(2,n,t),Jo||Bo(4,n,t),ol(e,t,n);break;case 1:Jo||(qo(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount&&Uo(n,t,i)),ol(e,t,n);break;case 21:ol(e,t,n);break;case 22:Jo||qo(n,t),Jo=(i=Jo)||null!==n.memoizedState,ol(e,t,n),Jo=i;break;default:ol(e,t,n)}}function cl(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{hh(e)}catch(e){nu(t,t.return,e)}}function ul(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new el),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new el),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var i=ou.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}function dl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,sl=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,sl=!0;break e}l=l.return}if(null===al)throw Error(s(160));ll(a,o,r),al=null,sl=!1,null!==(a=r.alternate)&&(a.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var hl=null;function pl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dl(t,e),fl(e),4&i&&(Bo(3,e,e.return),jo(3,e),Bo(5,e,e.return));break;case 1:dl(t,e),fl(e),512&i&&(Jo||null===n||qo(n,n.return)),64&i&&Yo&&null!==(e=e.updateQueue)&&null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:var r=hl;if(dl(t,e),fl(e),512&i&&(Jo||null===n||qo(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(a=r.getElementsByTagName("title")[0])||a[qe]||a[Oe]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),Wu(a,i,n),a[Oe]=e,Xe(a),i=a;break e;case"link":var o=Ed("link","href",r).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}Wu(a=r.createElement(i),i,n),r.head.appendChild(a);break;case"meta":if(o=Ed("meta","content",r).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}Wu(a=r.createElement(i),i,n),r.head.appendChild(a);break;default:throw Error(s(468,i))}a[Oe]=e,Xe(a),i=a}e.stateNode=i}else kd(r,e.type,e.stateNode);else e.stateNode=Ad(r,i,e.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?kd(r,e.type,e.stateNode):Ad(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&Vo(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&i&&null===e.alternate){r=e.stateNode,a=e.memoizedProps;try{for(var c=r.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[qe]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||r.removeChild(c),c=u}for(var h=e.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Wu(r,h,a),r[Oe]=e,r[ze]=a}catch(t){nu(e,e.return,t)}}case 5:if(dl(t,e),fl(e),512&i&&(Jo||null===n||qo(n,n.return)),32&e.flags){r=e.stateNode;try{At(r,"")}catch(t){nu(e,e.return,t)}}4&i&&null!=e.stateNode&&Vo(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(Zo=!0);break;case 6:if(dl(t,e),fl(e),4&i){if(null===e.stateNode)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(t){nu(e,e.return,t)}}break;case 3:if(_d=null,r=hl,hl=dd(t.containerInfo),dl(t,e),hl=r,fl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{hh(t.containerInfo)}catch(t){nu(e,e.return,t)}Zo&&(Zo=!1,gl(e));break;case 4:i=hl,hl=dd(e.stateNode.containerInfo),dl(t,e),fl(e),hl=i;break;case 12:dl(t,e),fl(e);break;case 13:dl(t,e),fl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(yc=oe()),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,ul(e,i));break;case 22:if(512&i&&(Jo||null===n||qo(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Yo=(d=Yo)||c,Jo=(h=Jo)||u,dl(t,e),Jo=h,Yo=d,fl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&i&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Yo||Jo,null===n||u||t||vl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(r=u.stateNode,c)"function"==typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{o=u.stateNode;var f=null!=(l=u.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){nu(u,u.return,e)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(e){nu(u,u.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&null!==(i=e.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,ul(e,n));break;case 19:dl(t,e),fl(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,ul(e,i));break;case 21:break;default:dl(t,e),fl(e)}}function fl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Go(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 27:var r=i.stateNode;Xo(e,Ko(e),r);break;case 5:var a=i.stateNode;32&i.flags&&(At(a,""),i.flags&=-33),Xo(e,Ko(e),a);break;case 3:case 4:var o=i.stateNode.containerInfo;Qo(e,Ko(e),o);break;default:throw Error(s(161))}}}catch(t){nu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)il(e,t.alternate,t),t=t.sibling}function vl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bo(4,t,t.return),vl(t);break;case 1:qo(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&Uo(t,t.return,n),vl(t);break;case 26:case 27:case 5:qo(t,t.return),vl(t);break;case 22:qo(t,t.return),null===t.memoizedState&&vl(t);break;default:vl(t)}e=e.sibling}}function yl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:yl(r,a,n),jo(4,a);break;case 1:if(yl(r,a,n),"function"==typeof(r=(i=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(e){nu(i,i.return,e)}if(null!==(r=(i=a).updateQueue)){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)Oo(l[r],o)}catch(e){nu(i,i.return,e)}}n&&64&s&&Ho(a),$o(a,a.return);break;case 26:case 27:case 5:yl(r,a,n),n&&null===i&&4&s&&Wo(a),$o(a,a.return);break;case 12:default:yl(r,a,n);break;case 13:yl(r,a,n),n&&4&s&&cl(r,a);break;case 22:null===a.memoizedState&&yl(r,a,n),$o(a,a.return)}t=t.sibling}}function bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Br(n))}function wl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Br(e))}function Al(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t,n,i),t=t.sibling}function Sl(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Al(e,t,n,i),2048&r&&jo(9,t);break;case 3:Al(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Br(e)));break;case 12:if(2048&r){Al(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"==typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){nu(t,t.return,e)}}else Al(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,null!==t.memoizedState?4&a._visibility?Al(e,t,n,i):Tl(e,t):4&a._visibility?Al(e,t,n,i):(a._visibility|=4,xl(e,t,n,i,!!(10256&t.subtreeFlags))),2048&r&&bl(t.alternate,t);break;case 24:Al(e,t,n,i),2048&r&&wl(t.alternate,t);break;default:Al(e,t,n,i)}}function xl(e,t,n,i,r){for(r=r&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:xl(a,s,o,l,r),jo(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?4&u._visibility?xl(a,s,o,l,r):Tl(a,s):(u._visibility|=4,xl(a,s,o,l,r)),r&&2048&c&&bl(s.alternate,s);break;case 24:xl(a,s,o,l,r),r&&2048&c&&wl(s.alternate,s);break;default:xl(a,s,o,l,r)}t=t.sibling}}function Tl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Tl(n,i),2048&r&&bl(i.alternate,i);break;case 24:Tl(n,i),2048&r&&wl(i.alternate,i);break;default:Tl(n,i)}t=t.sibling}}var _l=8192;function El(e){if(e.subtreeFlags&_l)for(e=e.child;null!==e;)kl(e),e=e.sibling}function kl(e){switch(e.tag){case 26:El(e),e.flags&_l&&null!==e.memoizedState&&function(e,t,n){if(null===Md)throw Error(s(475));var i=Md;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var r=md(n.href),a=e.querySelector(vd(r));if(a)return null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(i.count++,i=Rd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,void Xe(a);a=e.ownerDocument||e,n=yd(n),(r=cd.get(r))&&xd(n,r),Xe(a=a.createElement("link"));var o=a;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wu(a,"link",n),t.instance=a}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(i.count++,t=Rd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(hl,e.memoizedState,e.memoizedProps);break;case 5:default:El(e);break;case 3:case 4:var t=hl;hl=dd(e.stateNode.containerInfo),El(e),hl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=_l,_l=16777216,El(e),_l=t):El(e))}}function Cl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ml(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];tl=i,Ll(i,e)}Cl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Pl(e),e=e.sibling}function Pl(e){switch(e.tag){case 0:case 11:case 15:Ml(e),2048&e.flags&&Bo(9,e,e.return);break;case 3:case 12:default:Ml(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Rl(e)):Ml(e)}}function Rl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];tl=i,Ll(i,e)}Cl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Bo(8,t,t.return),Rl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Rl(t));break;default:Rl(t)}e=e.sibling}}function Ll(e,t){for(;null!==tl;){var n=tl;switch(n.tag){case 0:case 11:case 15:Bo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Br(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,tl=i;else e:for(n=e;null!==tl;){var r=(i=tl).sibling,a=i.return;if(rl(i),i===n){tl=null;break e}if(null!==r){r.return=a,tl=r;break e}tl=a}}}function Il(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,i){return new Il(e,t,n,i)}function Nl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fl(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ol(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zl(e,t,n,i,r,a){var o=0;if(i=e,"function"==typeof e)Nl(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,K.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case u:return jl(n.children,r,a,t);case d:o=8,r|=24;break;case h:return(e=Dl(12,n,t,2|r)).elementType=h,e.lanes=a,e;case v:return(e=Dl(13,n,t,r)).elementType=v,e.lanes=a,e;case y:return(e=Dl(19,n,t,r)).elementType=y,e.lanes=a,e;case A:return Bl(n,r,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case p:case g:o=10;break e;case f:o=9;break e;case m:o=11;break e;case b:o=14;break e;case w:o=16,i=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),i=null}return(t=Dl(o,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function jl(e,t,n,i){return(e=Dl(7,e,i,t)).lanes=n,e}function Bl(e,t,n,i){(e=Dl(22,e,i,t)).elementType=A,e.lanes=n;var r={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=r._current;if(null===e)throw Error(s(456));if(!(2&r._pendingVisibility)){var t=Ci(e,2);null!==t&&(r._pendingVisibility|=2,Rc(t,0,2))}},attach:function(){var e=r._current;if(null===e)throw Error(s(456));if(2&r._pendingVisibility){var t=Ci(e,2);null!==t&&(r._pendingVisibility&=-3,Rc(t,0,2))}}};return e.stateNode=r,e}function Hl(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $l(e){e.flags|=4}function ql(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Cd(t)){if(null!==(t=kr.current)&&((4194176&nc)===nc?null!==Cr:(62914560&nc)!==nc&&!(536870912&nc)||t!==Cr))throw dr=or,sr;e.flags|=8192}}function Wl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Me():536870912,e.lanes|=t,fc|=t)}function Vl(e,t){if(!Qi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Gl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=31457280&r.subtreeFlags,i|=31457280&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Kl(e,t,n){var i=t.pendingProps;switch(Vi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Gl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),yo(zr),Z(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(nr(t)?$l(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Xi&&(Ic(Xi),Xi=null))),Gl(t),null;case 26:return n=t.memoizedState,null===e?($l(t),null!==n?(Gl(t),ql(t,n)):(Gl(t),t.flags&=-16777217)):n?n!==e.memoizedState?($l(t),Gl(t),ql(t,n)):(Gl(t),t.flags&=-16777217):(e.memoizedProps!==i&&$l(t),Gl(t),t.flags&=-16777217),null;case 27:te(t),n=X.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&$l(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return Gl(t),null}e=K.current,nr(t)?er(t):(e=ld(r,i,n),t.stateNode=e,$l(t))}return Gl(t),null;case 5:if(te(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&$l(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return Gl(t),null}if(e=K.current,nr(t))er(t);else{switch(r=Ku(X.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof i.is?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"==typeof i.is?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Oe]=t,e[ze]=i;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(Wu(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&$l(t)}}return Gl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&$l(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(s(166));if(e=X.current,nr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=Gi))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Hu(e.nodeValue,n)))||Zi(t)}else(e=Ku(e).createTextNode(i))[Oe]=t,t.stateNode=e}return Gl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=nr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[Oe]=t}else ir(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gl(t),r=!1}else null!==Xi&&(Ic(Xi),Xi=null),r=!0;if(!r)return 256&t.flags?(Lr(t),t):(Lr(t),null)}if(Lr(t),128&t.flags)return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Wl(t,t.updateQueue),Gl(t),null;case 4:return Z(),null===e&&Ru(t.stateNode.containerInfo),Gl(t),null;case 10:return yo(t.type),Gl(t),null;case 19:if(V(Ir),null===(r=t.memoizedState))return Gl(t),null;if(i=!!(128&t.flags),null===(a=r.rendering))if(i)Vl(r,!1);else{if(0!==cc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=Dr(e))){for(t.flags|=128,Vl(r,!1),e=a.updateQueue,t.updateQueue=e,Wl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ol(n,e),n=n.sibling;return G(Ir,1&Ir.current|2),t.child}e=e.sibling}null!==r.tail&&oe()>bc&&(t.flags|=128,i=!0,Vl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Dr(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Wl(t,e),Vl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!Qi)return Gl(t),null}else 2*oe()-r.renderingStartTime>bc&&536870912!==n&&(t.flags|=128,i=!0,Vl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=oe(),t.sibling=null,e=Ir.current,G(Ir,i?1&e|2:1&e),t):(Gl(t),null);case 22:case 23:return Lr(t),Er(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(Gl(t),6&t.subtreeFlags&&(t.flags|=8192)):Gl(t),null!==(n=t.updateQueue)&&Wl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&V(Gr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),yo(zr),Gl(t),null;case 25:return null}throw Error(s(156,t.tag))}function Ql(e,t){switch(Vi(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return yo(zr),Z(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return te(t),null;case 13:if(Lr(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ir()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(Ir),null;case 4:return Z(),null;case 10:return yo(t.type),null;case 22:case 23:return Lr(t),Er(),null!==e&&V(Gr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return yo(zr),null;default:return null}}function Xl(e,t){switch(Vi(t),t.tag){case 3:yo(zr),Z();break;case 26:case 27:case 5:te(t);break;case 4:Z();break;case 13:Lr(t);break;case 19:V(Ir);break;case 10:yo(t.type);break;case 22:case 23:Lr(t),Er(),null!==e&&V(Gr);break;case 24:yo(zr)}}var Yl={getCacheForType:function(e){var t=To(zr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Jl="function"==typeof WeakMap?WeakMap:Map,Zl=0,ec=null,tc=null,nc=0,ic=0,rc=null,ac=!1,sc=!1,oc=!1,lc=0,cc=0,uc=0,dc=0,hc=0,pc=0,fc=0,gc=null,mc=null,vc=!1,yc=0,bc=1/0,wc=null,Ac=null,Sc=!1,xc=null,Tc=0,_c=0,Ec=null,kc=0,Cc=null;function Mc(){return 2&Zl&&0!==nc?nc&-nc:null!==M.T?0!==$r?$r:wu():Ne()}function Pc(){0===pc&&(pc=536870912&nc&&!Qi?536870912:Ce());var e=kr.current;return null!==e&&(e.flags|=32),pc}function Rc(e,t,n){(e===ec&&2===ic||null!==e.cancelPendingCommit)&&(jc(e,0),Fc(e,nc,pc,!1)),Re(e,n),2&Zl&&e===ec||(e===ec&&(!(2&Zl)&&(dc|=n),4===cc&&Fc(e,nc,pc,!1)),fu(e))}function Lc(e,t,n){if(6&Zl)throw Error(s(327));for(var i=!n&&!(60&t)&&!(t&e.expiredLanes)||Ee(e,t),r=i?function(e,t){var n=Zl;Zl|=2;var i=Hc(),r=Uc();ec!==e||nc!==t?(wc=null,bc=oe()+500,jc(e,t)):sc=Ee(e,t);e:for(;;)try{if(0!==ic&&null!==tc){t=tc;var a=rc;t:switch(ic){case 1:ic=0,rc=null,Qc(e,t,a,1);break;case 2:if(lr(a)){ic=0,rc=null,Kc(t);break}t=function(){2===ic&&ec===e&&(ic=7),fu(e)},a.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:lr(a)?(ic=0,rc=null,Kc(t)):(ic=0,rc=null,Qc(e,t,a,7));break;case 5:var o=null;switch(tc.tag){case 26:o=tc.memoizedState;case 5:case 27:var l=tc;if(!o||Cd(o)){ic=0,rc=null;var c=l.sibling;if(null!==c)tc=c;else{var u=l.return;null!==u?(tc=u,Xc(u)):tc=null}break t}}ic=0,rc=null,Qc(e,t,a,5);break;case 6:ic=0,rc=null,Qc(e,t,a,6);break;case 8:zc(),cc=6;break e;default:throw Error(s(462))}}Vc();break}catch(t){Bc(e,t)}return mo=go=null,M.H=i,M.A=r,Zl=n,null!==tc?0:(ec=null,nc=0,_i(),cc)}(e,t):qc(e,t,!0),a=i;;){if(0===r){sc&&!i&&Fc(e,t,0,!1);break}if(6===r)Fc(e,t,0,!ac);else{if(n=e.current.alternate,a&&!Nc(n)){r=qc(e,t,!1),a=!1;continue}if(2===r){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!=(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;r=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(jc(l,o).flags|=256),2!==(o=qc(l,o,!1))){if(oc&&!c){l.errorRecoveryDisabledLanes|=a,dc|=a,r=4;break e}a=mc,mc=r,null!==a&&Ic(a)}r=o}if(a=!1,2!==r)continue}}if(1===r){jc(e,0),Fc(e,t,0,!0);break}e:{switch(i=e,r){case 0:case 1:throw Error(s(345));case 4:if((4194176&t)===t){Fc(i,t,pc,!ac);break e}break;case 2:mc=null;break;case 3:case 5:break;default:throw Error(s(329))}if(i.finishedWork=n,i.finishedLanes=t,(62914560&t)===t&&10<(a=yc+300-oe())){if(Fc(i,t,pc,!ac),0!==_e(i,0))break e;i.timeoutHandle=Zu(Dc.bind(null,i,n,mc,wc,vc,t,pc,dc,fc,ac,2,-0,0),a)}else Dc(i,n,mc,wc,vc,t,pc,dc,fc,ac,0,-0,0)}}break}fu(e)}function Ic(e){null===mc?mc=e:mc.push.apply(mc,e)}function Dc(e,t,n,i,r,a,o,l,c,u,d,h,p){var f=t.subtreeFlags;if((8192&f||!(16785408&~f))&&(Md={stylesheets:null,count:0,unsuspend:Pd},kl(t),null!==(t=function(){if(null===Md)throw Error(s(475));var e=Md;return e.stylesheets&&0===e.count&&Id(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Id(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Jc.bind(null,e,n,i,r,o,l,c,1,h,p)),void Fc(e,a,o,!u);Jc(e,n,i,r,o,l,c)}function Nc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Gn(a(),r))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fc(e,t,n,i){t&=~hc,t&=~dc,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-be(r),s=1<<a;i[a]=-1,r&=~s}0!==n&&Le(e,n,t)}function Oc(){return!!(6&Zl)||(gu(0,!1),!1)}function zc(){if(null!==tc){if(0===ic)var e=tc.return;else mo=go=null,ma(e=tc),pr=null,fr=0,e=tc;for(;null!==e;)Xl(e.alternate,e),e=e.return;tc=null}}function jc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ed(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc(),ec=e,tc=n=Fl(e.current,null),nc=t,ic=0,rc=null,ac=!1,sc=Ee(e,t),oc=!1,fc=pc=hc=dc=uc=cc=0,mc=gc=null,vc=!1,8&t&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-be(i),a=1<<r;t|=e[r],i&=~a}return lc=t,_i(),n}function Bc(e,t){Jr=null,M.H=xs,t===ar?(t=hr(),ic=3):t===sr?(t=hr(),ic=4):ic=t===Hs?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,rc=t,null===tc&&(cc=1,Fs(e,Ii(t,e.current)))}function Hc(){var e=M.H;return M.H=xs,null===e?xs:e}function Uc(){var e=M.A;return M.A=Yl,e}function $c(){cc=4,ac||(4194176&nc)!==nc&&null!==kr.current||(sc=!0),!(134217727&uc)&&!(134217727&dc)||null===ec||Fc(ec,nc,pc,!1)}function qc(e,t,n){var i=Zl;Zl|=2;var r=Hc(),a=Uc();ec===e&&nc===t||(wc=null,jc(e,t)),t=!1;var s=cc;e:for(;;)try{if(0!==ic&&null!==tc){var o=tc,l=rc;switch(ic){case 8:zc(),s=6;break e;case 3:case 2:case 6:null===kr.current&&(t=!0);var c=ic;if(ic=0,rc=null,Qc(e,o,l,c),n&&sc){s=0;break e}break;default:c=ic,ic=0,rc=null,Qc(e,o,l,c)}}Wc(),s=cc;break}catch(t){Bc(e,t)}return t&&e.shellSuspendCounter++,mo=go=null,Zl=i,M.H=r,M.A=a,null===tc&&(ec=null,nc=0,_i()),s}function Wc(){for(;null!==tc;)Gc(tc)}function Vc(){for(;null!==tc&&!ae();)Gc(tc)}function Gc(e){var t=po(e.alternate,e,lc);e.memoizedProps=e.pendingProps,null===t?Xc(e):tc=t}function Kc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ys(n,t,t.pendingProps,t.type,void 0,nc);break;case 11:t=Ys(n,t,t.pendingProps,t.type.render,t.ref,nc);break;case 5:ma(t);default:Xl(n,t),t=po(n,t=tc=Ol(t,lc),lc)}e.memoizedProps=e.pendingProps,null===t?Xc(e):tc=t}function Qc(e,t,n,i){mo=go=null,ma(t),pr=null,fr=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Ao(t,n,r,!0),null!==(n=kr.current)){switch(n.tag){case 13:return null===Cr?$c():null===n.alternate&&0===cc&&(cc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===or?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),iu(e,i,r)),!1;case 22:return n.flags|=65536,i===or?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),iu(e,i,r)),!1}throw Error(s(435,n.tag))}return iu(e,i,r),$c(),!1}if(Qi)return null!==(t=kr.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Ji&&rr(Ii(e=Error(s(422),{cause:i}),n))):(i!==Ji&&rr(Ii(t=Error(s(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=Ii(i,n),Io(e,r=zs(e.stateNode,i,r)),4!==cc&&(cc=2)),!1;var a=Error(s(520),{cause:i});if(a=Ii(a,n),null===gc?gc=[a]:gc.push(a),4!==cc&&(cc=2),null===t)return!0;i=Ii(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,Io(n,e=zs(n.stateNode,i,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Ac&&Ac.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,Bs(r=js(r),e,n,i),Io(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,nc))return cc=1,Fs(e,Ii(n,e.current)),void(tc=null)}catch(t){if(null!==r)throw tc=r,t;return cc=1,Fs(e,Ii(n,e.current)),void(tc=null)}32768&t.flags?(Qi||1===i?e=!0:sc||536870912&nc?e=!1:(ac=e=!0,(2===i||3===i||6===i)&&null!==(i=kr.current)&&13===i.tag&&(i.flags|=16384)),Yc(t,e)):Xc(t)}function Xc(e){var t=e;do{if(32768&t.flags)return void Yc(t,ac);e=t.return;var n=Kl(t.alternate,t,lc);if(null!==n)return void(tc=n);if(null!==(t=t.sibling))return void(tc=t);tc=t=e}while(null!==t);0===cc&&(cc=5)}function Yc(e,t){do{var n=Ql(e.alternate,e);if(null!==n)return n.flags&=32767,void(tc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(tc=e);tc=e=n}while(null!==e);cc=6,tc=null}function Jc(e,t,n,i,r,a,o,l,c,u){var d=M.T,h=H.p;try{H.p=2,M.T=null,function(e,t,n,i,r,a,o,l){do{eu()}while(null!==xc);if(6&Zl)throw Error(s(327));var c=e.finishedWork;if(i=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,i,r,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-be(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==i&&Le(e,i,0),0!==a&&0===r&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,i,u|=Ti,a,o,l),e===ec&&(tc=ec=null,nc=0),!(10256&c.subtreeFlags)&&!(10256&c.flags)||Sc||(Sc=!0,_c=u,Ec=n,ie(de,(function(){return eu(),null}))),n=!!(15990&c.flags),15990&c.subtreeFlags||n?(n=M.T,M.T=null,a=H.p,H.p=2,o=Zl,Zl|=4,function(e,t){if(e=e.containerInfo,Vu=Hd,Zn(e=Jn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(l=o+r),h!==a||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=o),p===a&&++d===i&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gu={focusedElem:e,selectionRange:n},Hd=!1,tl=t;null!==tl;)if(e=(t=tl).child,1028&t.subtreeFlags&&null!==e)e.return=t,tl=e;else for(;null!==tl;){switch(a=(t=tl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var g=Rs(n.type,r,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(g,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(e){nu(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,tl=e;break}tl=t.return}g=nl,nl=!1}(e,c),pl(c,e),ei(Gu,e.containerInfo),Hd=!!Vu,Gu=Vu=null,e.current=c,il(e,c.alternate,c),se(),Zl=o,H.p=a,M.T=n):e.current=c,Sc?(Sc=!1,xc=e,Tc=i):Zc(e,u),0===(u=e.pendingLanes)&&(Ac=null),function(e){if(ve&&"function"==typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(me,e,void 0,!(128&~e.current.flags))}catch(e){}}(c.stateNode),fu(e),null!==t)for(r=e.onRecoverableError,c=0;c<t.length;c++)r((u=t[c]).value,{componentStack:u.stack});!!(3&Tc)&&eu(),u=e.pendingLanes,4194218&i&&42&u?e===Cc?kc++:(kc=0,Cc=e):kc=0,gu(0,!1)}(e,t,n,i,h,r,a,o)}finally{M.T=d,H.p=h}}function Zc(e,t){0==(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Br(t))}function eu(){if(null!==xc){var e=xc,t=_c;_c=0;var n=De(Tc),i=M.T,r=H.p;try{if(H.p=32>n?32:n,M.T=null,null===xc)var a=!1;else{n=Ec,Ec=null;var o=xc,l=Tc;if(xc=null,Tc=0,6&Zl)throw Error(s(331));var c=Zl;if(Zl|=4,Pl(o.current),Sl(o,o.current,l,n),Zl=c,gu(0,!1),ve&&"function"==typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(me,o)}catch(e){}a=!0}return a}finally{H.p=r,M.T=i,Zc(e,t)}}return!1}function tu(e,t,n){t=Ii(n,t),null!==(e=Ro(e,t=zs(e.stateNode,t,2),2))&&(Re(e,2),fu(e))}function nu(e,t,n){if(3===e.tag)tu(e,e,n);else for(;null!==t;){if(3===t.tag){tu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Ac||!Ac.has(i))){e=Ii(n,e),null!==(i=Ro(t,n=js(2),2))&&(Bs(n,i,t,e),Re(i,2),fu(i));break}}t=t.return}}function iu(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new Jl;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(oc=!0,r.add(n),e=ru.bind(null,e,t,n),t.then(e,e))}function ru(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ec===e&&(nc&n)===n&&(4===cc||3===cc&&(62914560&nc)===nc&&300>oe()-yc?!(2&Zl)&&jc(e,0):hc|=n,fc===nc&&(fc=0)),fu(e)}function au(e,t){0===t&&(t=Me()),null!==(e=Ci(e,t))&&(Re(e,t),fu(e))}function su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),au(e,n)}function ou(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==i&&i.delete(t),au(e,n)}var lu=null,cu=null,uu=!1,du=!1,hu=!1,pu=0;function fu(e){var t;e!==cu&&null===e.next&&(null===cu?lu=cu=e:cu=cu.next=e),du=!0,uu||(uu=!0,t=mu,nd((function(){6&Zl?ie(ce,t):t()})))}function gu(e,t){if(!hu&&du){hu=!0;do{for(var n=!1,i=lu;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var a=0;else{var s=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-be(42|e)+1)-1,a=201326677&(a&=r&~(s&~o))?201326677&a|1:a?2|a:0}0!==a&&(n=!0,bu(i,a))}else a=nc,!(3&(a=_e(i,i===ec?a:0)))||Ee(i,a)||(n=!0,bu(i,a));i=i.next}}while(n);hu=!1}}function mu(){du=uu=!1;var e,t=0;0!==pu&&(((e=window.event)&&"popstate"===e.type?e!==Ju&&(Ju=e,!0):(Ju=null,!1))&&(t=pu),pu=0);for(var n=oe(),i=null,r=lu;null!==r;){var a=r.next,s=vu(r,n);0===s?(r.next=null,null===i?lu=a:i.next=a,null===a&&(cu=i)):(i=r,(0!==t||3&s)&&(du=!0)),r=a}gu(t,!1)}function vu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-be(a),o=1<<s,l=r[s];-1===l?o&n&&!(o&i)||(r[s]=ke(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=nc,n=_e(e,e===(t=ec)?n:0),i=e.callbackNode,0===n||e===t&&2===ic||null!==e.cancelPendingCommit)return null!==i&&null!==i&&re(i),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ee(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&re(i),De(n)){case 2:case 8:n=ue;break;case 32:default:n=de;break;case 268435456:n=pe}return i=yu.bind(null,e),n=ie(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&re(i),e.callbackPriority=2,e.callbackNode=null,2}function yu(e,t){var n=e.callbackNode;if(eu()&&e.callbackNode!==n)return null;var i=nc;return 0===(i=_e(e,e===ec?i:0))?null:(Lc(e,i,t),vu(e,oe()),null!=e.callbackNode&&e.callbackNode===n?yu.bind(null,e):null)}function bu(e,t){if(eu())return null;Lc(e,t,!0)}function wu(){return 0===pu&&(pu=Ce()),pu}function Au(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Ct(""+e)}function Su(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var xu=0;xu<wi.length;xu++){var Tu=wi[xu];Ai(Tu.toLowerCase(),"on"+(Tu[0].toUpperCase()+Tu.slice(1)))}Ai(hi,"onAnimationEnd"),Ai(pi,"onAnimationIteration"),Ai(fi,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(gi,"onTransitionRun"),Ai(mi,"onTransitionStart"),Ai(vi,"onTransitionCancel"),Ai(yi,"onTransitionEnd"),et("onMouseEnter",["mouseout","mouseover"]),et("onMouseLeave",["mouseout","mouseover"]),et("onPointerEnter",["pointerout","pointerover"]),et("onPointerLeave",["pointerout","pointerover"]),Ze("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ze("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ze("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ze("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ze("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ze("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_u));function ku(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=c;try{a(r)}catch(e){Ls(e)}r.currentTarget=null,a=l}else for(s=0;s<i.length;s++){if(l=(o=i[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=c;try{a(r)}catch(e){Ls(e)}r.currentTarget=null,a=l}}}}function Cu(e,t){var n=t[Be];void 0===n&&(n=t[Be]=new Set);var i=e+"__bubble";n.has(i)||(Lu(t,e,2,!1),n.add(i))}function Mu(e,t,n){var i=0;t&&(i|=4),Lu(n,e,i,t)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Ru(e){if(!e[Pu]){e[Pu]=!0,Ye.forEach((function(t){"selectionchange"!==t&&(Eu.has(t)||Mu(t,!1,e),Mu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Pu]||(t[Pu]=!0,Mu("selectionchange",!1,t))}}function Lu(e,t,n,i){switch(Kd(t)){case 2:var r=Ud;break;case 8:r=$d;break;default:r=qd}n=r.bind(null,t,n,e),r=void 0,!Ot||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Iu(e,t,n,i,r){var a=i;if(!(1&t||2&t||null===i))e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var o=i.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==o;){if(null===(s=Ve(o)))return;if(5===(l=s.tag)||6===l||26===l||27===l){i=a=s;continue e}o=o.parentNode}}i=i.return}Nt((function(){var i=a,r=Pt(n),s=[];e:{var o=bi.get(e);if(void 0!==o){var l=Yt,c=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":c="focus",l=rn;break;case"focusout":c="blur",l=rn;break;case"beforeblur":case"afterblur":l=rn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case hi:case pi:case fi:l=an;break;case yi:l=mn;break;case"scroll":case"scrollend":l=Zt;break;case"wheel":l=vn;break;case"copy":case"cut":case"paste":l=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=fn;break;case"toggle":case"beforetoggle":l=yn}var u=!!(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=i;null!==f;){var g=f;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===h||null!=(g=Ft(f,h))&&u.push(Du(f,g,p)),d)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,r),s.push({event:o,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Mt||!(c=n.relatedTarget||n.fromElement)||!Ve(c)&&!c[je])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?Ve(c):null)&&(d=F(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=i),l!==c)){if(u=tn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=fn,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?o:Ke(l),p=null==c?o:Ke(c),(o=new u(g,f+"leave",l,n,r)).target=d,o.relatedTarget=p,g=null,Ve(r)===i&&((u=new u(h,f+"enter",c,n,r)).target=p,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Fu(p))f++;for(p=0,g=h;g;g=Fu(g))p++;for(;0<f-p;)u=Fu(u),f--;for(;0<p-f;)h=Fu(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Fu(u),h=Fu(h)}u=null}else u=null;null!==l&&Ou(s,o,l,u,!1),null!==c&&null!==d&&Ou(s,d,c,u,!0)}if("select"===(l=(o=i?Ke(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Fn;else if(Pn(o))if(On)m=Vn;else{m=qn;var v=$n}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?i&&_t(i.elementType)&&(m=Fn):m=Wn;switch(m&&(m=m(e,i))?Rn(s,m,n,r):(v&&v(e,o,i),"focusout"===e&&i&&"number"===o.type&&null!=i.memoizedProps.value&&vt(o,"number",o.value)),v=i?Ke(i):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(ni=v,ii=i,ri=null);break;case"focusout":ri=ii=ni=null;break;case"mousedown":ai=!0;break;case"contextmenu":case"mouseup":case"dragend":ai=!1,si(s,n,r);break;case"selectionchange":if(ti)break;case"keydown":case"keyup":si(s,n,r)}var y;if(wn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Cn?En(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(xn&&"ko"!==n.locale&&(Cn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Cn&&(y=Ut()):(Bt="value"in(jt=r)?jt.value:jt.textContent,Cn=!0)),0<(v=Nu(i,b)).length&&(b=new on(b,e,null,n,r),s.push({event:b,listeners:v}),(y||null!==(y=kn(n)))&&(b.data=y))),(y=Sn?function(e,t){switch(e){case"compositionend":return kn(t);case"keypress":return 32!==t.which?null:(_n=!0,Tn);case"textInput":return(e=t.data)===Tn&&_n?null:e;default:return null}}(e,n):function(e,t){if(Cn)return"compositionend"===e||!wn&&En(e,t)?(e=Ut(),Ht=Bt=jt=null,Cn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(b=Nu(i,"onBeforeInput")).length&&(v=new on("onBeforeInput","beforeinput",null,n,r),s.push({event:v,listeners:b}),v.data=y),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var a=Au((r[ze]||null).action),s=i.submitter;s&&null!==(t=(t=s[ze]||null)?Au(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new Yt("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==pu){var e=s?Su(r,s):new FormData(r);cs(n,{pending:!0,data:e,method:r.method,action:a},null,e)}}else"function"==typeof a&&(o.preventDefault(),e=s?Su(r,s):new FormData(r),cs(n,{pending:!0,data:e,method:r.method,action:a},a,e))},currentTarget:r}]})}}(s,e,i,n,r)}ku(s,t)}))}function Du(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nu(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;5!==(r=r.tag)&&26!==r&&27!==r||null===a||(null!=(r=Ft(e,n))&&i.unshift(Du(e,r,a)),null!=(r=Ft(e,t))&&i.push(Du(e,r,a))),e=e.return}return i}function Fu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ou(e,t,n,i,r){for(var a=t._reactName,s=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===i)break;5!==o&&26!==o&&27!==o||null===c||(l=c,r?null!=(c=Ft(n,a))&&s.unshift(Du(n,c,l)):r||null!=(c=Ft(n,a))&&s.push(Du(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var zu=/\r\n?/g,ju=/\u0000|\uFFFD/g;function Bu(e){return("string"==typeof e?e:""+e).replace(zu,"\n").replace(ju,"")}function Hu(e,t){return t=Bu(t),Bu(e)===t}function Uu(){}function $u(e,t,n,i,r,a){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||At(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&At(e,""+i);break;case"className":st(e,"class",i);break;case"tabIndex":st(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,i);break;case"style":Tt(e,i,a);break;case"data":if("object"!==t){st(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Ct(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&$u(e,t,"name",r.name,r,null),$u(e,t,"formEncType",r.formEncType,r,null),$u(e,t,"formMethod",r.formMethod,r,null),$u(e,t,"formTarget",r.formTarget,r,null)):($u(e,t,"encType",r.encType,r,null),$u(e,t,"method",r.method,r,null),$u(e,t,"target",r.target,r,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Ct(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Uu);break;case"onScroll":null!=i&&Cu("scroll",e);break;case"onScrollEnd":null!=i&&Cu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Ct(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Cu("beforetoggle",e),Cu("toggle",e),at(e,"popover",i);break;case"xlinkActuate":ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ot(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ot(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ot(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ot(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":at(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=Et.get(n)||n,i)}}function qu(e,t,n,i,r,a){switch(n){case"style":Tt(e,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"==typeof i?At(e,i):("number"==typeof i||"bigint"==typeof i)&&At(e,""+i);break;case"onScroll":null!=i&&Cu("scroll",e);break;case"onScrollEnd":null!=i&&Cu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Je.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"==typeof(a=null!=(a=e[ze]||null)?a[n]:null)&&e.removeEventListener(t,a,r),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):at(e,n,i):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function Wu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Cu("error",e),Cu("load",e);var i,r=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:$u(e,t,i,o,n,null)}}return a&&$u(e,t,"srcSet",n.srcSet,n,null),void(r&&$u(e,t,"src",n.src,n,null));case"input":Cu("invalid",e);var l=i=o=a=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:$u(e,t,r,d,n,null)}}return mt(e,i,l,c,u,o,a,!1),void ut(e);case"select":for(a in Cu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":r=l;default:$u(e,t,a,l,n,null)}return t=i,n=o,e.multiple=!!r,void(null!=t?yt(e,!!r,t,!1):null!=n&&yt(e,!!r,n,!0));case"textarea":for(o in Cu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:$u(e,t,o,l,n,null)}return wt(e,r,a,i),void ut(e);case"option":for(c in n)n.hasOwnProperty(c)&&null!=(r=n[c])&&("selected"===c?e.selected=r&&"function"!=typeof r&&"symbol"!=typeof r:$u(e,t,c,r,n,null));return;case"dialog":Cu("cancel",e),Cu("close",e);break;case"iframe":case"object":Cu("load",e);break;case"video":case"audio":for(r=0;r<_u.length;r++)Cu(_u[r],e);break;case"image":Cu("error",e),Cu("load",e);break;case"details":Cu("toggle",e);break;case"embed":case"source":case"link":Cu("error",e),Cu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:$u(e,t,u,r,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(r=n[d])&&qu(e,t,d,r,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(r=n[l])&&$u(e,t,l,r,n,null)}var Vu=null,Gu=null;function Ku(e){return 9===e.nodeType?e:e.ownerDocument}function Qu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Yu(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ju=null,Zu="function"==typeof setTimeout?setTimeout:void 0,ed="function"==typeof clearTimeout?clearTimeout:void 0,td="function"==typeof Promise?Promise:void 0,nd="function"==typeof queueMicrotask?queueMicrotask:void 0!==td?function(e){return td.resolve(null).then(e).catch(id)}:Zu;function id(e){setTimeout((function(){throw e}))}function rd(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void hh(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);hh(t)}function ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ad(n),We(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function sd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function od(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function ld(e,t,n){switch(t=Ku(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}var cd=new Map,ud=new Set;function dd(e){return"function"==typeof e.getRootNode?e.getRootNode():e.ownerDocument}var hd=H.d;H.d={f:function(){var e=hd.f(),t=Oc();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?ds(t):hd.r(e)},D:function(e){hd.D(e),fd("dns-prefetch",e,null)},C:function(e,t){hd.C(e,t),fd("preconnect",e,t)},L:function(e,t,n){hd.L(e,t,n);var i=pd;if(i&&e&&t){var r='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+ft(n.imageSizes)+'"]')):r+='[href="'+ft(e)+'"]';var a=r;switch(t){case"style":a=md(e);break;case"script":a=bd(e)}cd.has(a)||(e=P({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),cd.set(a,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(vd(a))||"script"===t&&i.querySelector(wd(a))||(Wu(t=i.createElement("link"),"link",e),Xe(t),i.head.appendChild(t)))}},m:function(e,t){hd.m(e,t);var n=pd;if(n&&e){var i=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+ft(i)+'"][href="'+ft(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=bd(e)}if(!cd.has(a)&&(e=P({rel:"modulepreload",href:e},t),cd.set(a,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wd(a)))return}Wu(i=n.createElement("link"),"link",e),Xe(i),n.head.appendChild(i)}}},X:function(e,t){hd.X(e,t);var n=pd;if(n&&e){var i=Qe(n).hoistableScripts,r=bd(e),a=i.get(r);a||((a=n.querySelector(wd(r)))||(e=P({src:e,async:!0},t),(t=cd.get(r))&&Td(e,t),Xe(a=n.createElement("script")),Wu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}},S:function(e,t,n){hd.S(e,t,n);var i=pd;if(i&&e){var r=Qe(i).hoistableStyles,a=md(e);t=t||"default";var s=r.get(a);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(vd(a)))o.loading=5;else{e=P({rel:"stylesheet",href:e,"data-precedence":t},n),(n=cd.get(a))&&xd(e,n);var l=s=i.createElement("link");Xe(l),Wu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Sd(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:o},r.set(a,s)}}},M:function(e,t){hd.M(e,t);var n=pd;if(n&&e){var i=Qe(n).hoistableScripts,r=bd(e),a=i.get(r);a||((a=n.querySelector(wd(r)))||(e=P({src:e,async:!0,type:"module"},t),(t=cd.get(r))&&Td(e,t),Xe(a=n.createElement("script")),Wu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}};var pd="undefined"==typeof document?null:document;function fd(e,t,n){var i=pd;if(i&&"string"==typeof t&&t){var r=ft(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),ud.has(r)||(ud.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(Wu(t=i.createElement("link"),"link",e),Xe(t),i.head.appendChild(t)))}}function gd(e,t,n,i){var r,a,o,l,c=(c=X.current)?dd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=md(n.href),(i=(n=Qe(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=md(n.href);var u=Qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(vd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),cd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},cd.set(e,n),u||(r=c,a=e,o=n,l=d.state,r.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=r.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),Wu(a,"link",o),Xe(a),r.head.appendChild(a))))),t&&null===i)throw Error(s(528,""));return d}if(t&&null!==i)throw Error(s(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=bd(n),(i=(n=Qe(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function md(e){return'href="'+ft(e)+'"'}function vd(e){return'link[rel="stylesheet"]['+e+"]"}function yd(e){return P({},e,{"data-precedence":e.precedence,precedence:null})}function bd(e){return'[src="'+ft(e)+'"]'}function wd(e){return"script[async]"+e}function Ad(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(i)return t.instance=i,Xe(i),i;var r=P({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Xe(i=(e.ownerDocument||e).createElement("style")),Wu(i,"style",r),Sd(i,n.precedence,e),t.instance=i;case"stylesheet":r=md(n.href);var a=e.querySelector(vd(r));if(a)return t.state.loading|=4,t.instance=a,Xe(a),a;i=yd(n),(r=cd.get(r))&&xd(i,r),Xe(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wu(a,"link",i),t.state.loading|=4,Sd(a,n.precedence,e),t.instance=a;case"script":return a=bd(n.src),(r=e.querySelector(wd(a)))?(t.instance=r,Xe(r),r):(i=n,(r=cd.get(a))&&Td(i=P({},n),r),Xe(r=(e=e.ownerDocument||e).createElement("script")),Wu(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Sd(i,n.precedence,e));return t.instance}function Sd(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===t)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function xd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var _d=null;function Ed(e,t,n){if(null===_d){var i=new Map,r=_d=new Map;r.set(n,i)}else(i=(r=_d).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[qe]||a[Oe]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=i.get(s);o?o.push(a):i.set(s,[a])}}return i}function kd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Cd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Md=null;function Pd(){}function Rd(){if(this.count--,0===this.count)if(this.stylesheets)Id(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Ld=null;function Id(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Ld=new Map,t.forEach(Dd,e),Ld=null,Rd.call(e))}function Dd(e,t){if(!(4&t.state.loading)){var n=Ld.get(e);if(n)var i=n.get(null);else{n=new Map,Ld.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}s=(r=t.instance).getAttribute("data-precedence"),(a=n.get(s)||i)===i&&n.set(null,r),n.set(s,r),this.count++,i=Rd.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Nd={$$typeof:g,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function Fd(e,t,n,i,r,a,s,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Od(e,t,n,i,r,a){r=function(e){return e?e=Ri:Ri}(r),null===i.context?i.context=r:i.pendingContext=r,(i=Po(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(i.callback=a),null!==(n=Ro(e,i,t))&&(Rc(n,0,t),Lo(n,e,t))}function zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function jd(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}function Bd(e){if(13===e.tag){var t=Ci(e,67108864);null!==t&&Rc(t,0,67108864),jd(e,67108864)}}var Hd=!0;function Ud(e,t,n,i){var r=M.T;M.T=null;var a=H.p;try{H.p=2,qd(e,t,n,i)}finally{H.p=a,M.T=r}}function $d(e,t,n,i){var r=M.T;M.T=null;var a=H.p;try{H.p=8,qd(e,t,n,i)}finally{H.p=a,M.T=r}}function qd(e,t,n,i){if(Hd){var r=Wd(i);if(null===r)Iu(e,t,i,Vd,n),ih(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Xd=rh(Xd,e,t,n,i,r),!0;case"dragenter":return Yd=rh(Yd,e,t,n,i,r),!0;case"mouseover":return Jd=rh(Jd,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Zd.set(a,rh(Zd.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,eh.set(a,rh(eh.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(ih(e,i),4&t&&-1<nh.indexOf(e)){for(;null!==r;){var a=Ge(r);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=Te(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-be(s);o.entanglements[1]|=l,s&=~l}fu(a),!(6&Zl)&&(bc=oe()+500,gu(0,!1))}}break;case 13:null!==(o=Ci(a,2))&&Rc(o,0,2),Oc(),jd(a,2)}if(null===(a=Wd(i))&&Iu(e,t,i,Vd,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else Iu(e,t,i,null,n)}}function Wd(e){return Gd(e=Pt(e))}var Vd=null;function Gd(e){if(Vd=null,null!==(e=Ve(e))){var t=F(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=O(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vd=e,null}function Kd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ce:return 2;case ue:return 8;case de:case he:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Qd=!1,Xd=null,Yd=null,Jd=null,Zd=new Map,eh=new Map,th=[],nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ih(e,t){switch(e){case"focusin":case"focusout":Xd=null;break;case"dragenter":case"dragleave":Yd=null;break;case"mouseover":case"mouseout":Jd=null;break;case"pointerover":case"pointerout":Zd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":eh.delete(t.pointerId)}}function rh(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&null!==(t=Ge(t))&&Bd(t),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function ah(e){var t=Ve(e.target);if(null!==t){var n=F(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=O(n)))return e.blockedOn=t,void function(e){var t=H.p;try{return H.p=e,function(){if(13===n.tag){var e=Mc(),t=Ci(n,e);null!==t&&Rc(t,0,e),jd(n,e)}}()}finally{H.p=t}}(e.priority)}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function sh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wd(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&Bd(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Mt=i,n.target.dispatchEvent(i),Mt=null,t.shift()}return!0}function oh(e,t,n){sh(e)&&n.delete(t)}function lh(){Qd=!1,null!==Xd&&sh(Xd)&&(Xd=null),null!==Yd&&sh(Yd)&&(Yd=null),null!==Jd&&sh(Jd)&&(Jd=null),Zd.forEach(oh),eh.forEach(oh)}function ch(e,t){e.blockedOn===t&&(e.blockedOn=null,Qd||(Qd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,lh)))}var uh=null;function dh(e){uh!==e&&(uh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,(function(){uh===e&&(uh=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!=typeof i){if(null===Gd(i||n))continue;break}var a=Ge(n);null!==a&&(e.splice(t,3),t-=3,cs(a,{pending:!0,data:r,method:n.method,action:i},i,r))}})))}function hh(e){function t(t){return ch(t,e)}null!==Xd&&ch(Xd,e),null!==Yd&&ch(Yd,e),null!==Jd&&ch(Jd,e),Zd.forEach(t),eh.forEach(t);for(var n=0;n<th.length;n++){var i=th[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<th.length&&null===(n=th[0]).blockedOn;)ah(n),null===n.blockedOn&&th.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[ze]||null;if("function"==typeof a)s||dh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[ze]||null)o=s.formAction;else if(null!==Gd(r))continue}else o=s.action;"function"==typeof o?n[i+1]=o:(n.splice(i,3),i-=3),dh(n)}}}function ph(e){this._internalRoot=e}function fh(e){this._internalRoot=e}fh.prototype.render=ph.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Od(t.current,Mc(),e,t,null,null)},fh.prototype.unmount=ph.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&eu(),Od(e.current,2,null,e,null,null),Oc(),t[je]=null}},fh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ne();e={blockedOn:null,target:e,priority:t};for(var n=0;n<th.length&&0!==t&&t<th[n].priority;n++);th.splice(n,0,e),0===n&&ah(e)}};var gh=r.version;if("19.0.0"!==gh)throw Error(s(527,gh,"19.0.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=F(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return z(r),e;if(a===i)return z(r),t;a=a.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=a;break}if(l===i){o=!0,i=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=r;break}if(l===i){o=!0,i=a,n=r;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?j(e):null)?null:e.stateNode};var mh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:M,findFiberByHostInstance:Ve,reconcilerVersion:"19.0.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{me=vh.inject(mh),ve=vh}catch(e){}}t.createRoot=function(e,t){if(!(n=e)||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(s(299));var n,i=!1,r="",a=Is,o=Ds,l=Ns;return null!=t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=function(e,t,n,i,r,a,s,o,l,c,u,d){return e=new Fd(e,t,n,s,o,l,c,d),t=1,!0===a&&(t|=24),a=Dl(3,null,null,t),e.current=a,a.stateNode=e,(t=jr()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},Co(a),e}(e,1,!1,null,0,i,r,a,o,l,0,null),e[je]=t.current,Ru(8===e.nodeType?e.parentNode:e),new ph(t)}},221:function(e,t,n){var i=n(540);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal"),l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=c(n,t.crossOrigin),r="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},338:function(e,t,n){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(247)},961:function(e,t,n){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(221)},69:function(e,t){Object.prototype.toString},698:function(e,t){var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(e,t,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==t.key&&(r=""+t.key),"key"in t)for(var a in i={},t)"key"!==a&&(i[a]=t[a]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=r,t.jsxs=r},869:function(e,t){var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var A=Array.isArray,S={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function T(e,t,i,r,a,s){return i=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:s}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,i={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,(function(e){return i[e]}))):t.toString(36);var n,i}function C(){}function M(e,t,r,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case i:u=!0;break;case h:return M((u=e._init)(e._payload),t,r,a,s)}}if(u)return s=s(e),u=""===a?"."+k(e,0):a,A(s)?(r="",null!=u&&(r=u.replace(E,"$&/")+"/"),M(s,t,r,"",(function(e){return e}))):null!=s&&(_(s)&&(l=s,c=r+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+u,s=T(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,f=""===a?".":a+":";if(A(e))for(var g=0;g<e.length;g++)u+=M(a=e[g],t,r,o=f+k(a,g),s);else if("function"==typeof(g=null===(d=e)||"object"!=typeof d?null:"function"==typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(a=e.next()).done;)u+=M(a=a.value,t,r,o=f+k(a,g++),s);else if("object"===o){if("function"==typeof e.then)return M(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(C,C):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var i=[],r=0;return M(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function I(){}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var i=g({},e.props),r=e.key;if(null!=t)for(a in t.ref,void 0!==t.key&&(r=""+t.key),t)!x.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(i[a]=t[a]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];i.children=s}return T(e.type,r,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var i,r={},a=null;if(null!=t)for(i in void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===r[i]&&(r[i]=s[i]);return T(e,a,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var i=e(),r=S.S;null!==r&&r(n,i),"object"==typeof i&&null!==i&&"function"==typeof i.then&&i.then(I,L)}catch(e){L(e)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.0.0"},540:function(e,t,n){e.exports=n(869)},848:function(e,t,n){e.exports=n(698)},477:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var o=2*(i+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<r&&0>a(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<r&&0>a(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function A(e){if(m=!1,w(e),!g)if(null!==i(c))g=!0,R();else{var t=i(u);null!==t&&L(A,t.startTime-e)}}var S,x=!1,T=-1,_=5,E=-1;function k(){return!(t.unstable_now()-E<_)}function C(){if(x){var e=t.unstable_now();E=e;var n=!0;try{e:{g=!1,m&&(m=!1,y(T),T=-1),f=!0;var a=p;try{t:{for(w(e),h=i(c);null!==h&&!(h.expirationTime>e&&k());){var s=h.callback;if("function"==typeof s){h.callback=null,p=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof o){h.callback=o,w(e),n=!0;break t}h===i(c)&&r(c),w(e)}else r(c);h=i(c)}if(null!==h)n=!0;else{var l=i(u);null!==l&&L(A,l.startTime-e),n=!1}}break e}finally{h=null,p=a,f=!1}n=void 0}}finally{n?S():x=!1}}}if("function"==typeof b)S=function(){b(C)};else if("undefined"!=typeof MessageChannel){var M=new MessageChannel,P=M.port2;M.port1.onmessage=C,S=function(){P.postMessage(null)}}else S=function(){v(C,0)};function R(){x||(x=!0,S())}function L(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,R())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===i(c)&&e===i(u)&&(m?(y(T),T=-1):m=!0,L(A,a-s))):(e.sortIndex=o,n(c,e),g||f||(g=!0,R())),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},982:function(e,t,n){e.exports=n(477)},160:function(e,t,n){var i=n(540),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=i.useRef,o=i.useEffect,l=i.useMemo,c=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,u){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=l((function(){function e(e){if(!o){if(o=!0,a=e,e=i(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return s=t}return s=e}if(t=s,r(a,e))return t;var n=i(e);return void 0!==u&&u(t,n)?(a=e,t):(a=e,s=n)}var a,s,o=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,i,u]);var p=a(e,d[0],d[1]);return o((function(){h.hasValue=!0,h.value=p}),[p]),c(p),p}},418:function(e,t,n){e.exports=n(160)},771:function(e){e.exports=function(){}},307:function(e,t,n){n.d(t,{cN:function(){return g},U1:function(){return b},VP:function(){return u},zD:function(){return F},Z0:function(){return U},gk:function(){return W},f$:function(){return x},i0:function(){return S},$S:function(){return P},sf:function(){return M},mm:function(){return E},TK:function(){return k},WA:function(){return C},Ak:function(){return R},aA:function(){return m}});var i=n(644);function r(e){return({dispatch:t,getState:n})=>i=>r=>"function"==typeof r?r(t,n,e):i(r)}var a=r(),s=r,o=n(932),l="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?i.Zz:i.Zz.apply(null,arguments)},c=("undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"==typeof e.match);function u(e,t){function n(...n){if(t){let i=t(...n);if(!i)throw new Error(W(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>(0,i.ve)(t)&&t.type===e,n}var d=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function h(e){return(0,o.a6)(e)?(0,o.jM)(e,(()=>{})):e}function p(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var f=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:r=!0}=e??{};let o=new d;return t&&("boolean"==typeof t?o.push(a):o.push(s(t.extraArgument))),o},g="RTK_autoBatch",m=()=>e=>({payload:e,meta:{[g]:!0}}),v=e=>t=>{setTimeout(t,e)},y=e=>function(t){const{autoBatch:n=!0}=t??{};let i=new d(e);return n&&i.push(((e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let r=!0,a=!1,s=!1;const o=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:v(10):"callback"===e.type?e.queueNotification:v(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach((e=>e())))};return Object.assign({},i,{subscribe(e){const t=i.subscribe((()=>r&&e()));return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{return r=!e?.meta?.[g],a=!r,a&&(s||(s=!0,l(c))),i.dispatch(e)}finally{r=!0}}})})("object"==typeof n?n:void 0)),i};function b(e){const t=f(),{reducer:n,middleware:r,devTools:a=!0,preloadedState:s,enhancers:o}=e||{};let c,u;if("function"==typeof n)c=n;else{if(!(0,i.Qd)(n))throw new Error(W(1));c=(0,i.HY)(n)}u="function"==typeof r?r(t):t();let d=i.Zz;a&&(d=l({trace:!1,..."object"==typeof a&&a}));const h=(0,i.Tw)(...u),p=y(h),g=d(..."function"==typeof o?o(p):p());return(0,i.y$)(c,s,g)}function w(e){const t={},n=[];let i;const r={addCase(e,n){const i="string"==typeof e?e:e.type;if(!i)throw new Error(W(28));if(i in t)throw new Error(W(29));return t[i]=n,r},addMatcher(e,t){return n.push({matcher:e,reducer:t}),r},addDefaultCase(e){return i=e,r}};return e(r),[t,n,i]}var A=(e,t)=>c(e)?e.match(t):e(t);function S(...e){return t=>e.some((e=>A(e,t)))}function x(...e){return t=>e.every((e=>A(e,t)))}function T(e,t){if(!e||!e.meta)return!1;const n="string"==typeof e.meta.requestId,i=t.indexOf(e.meta.requestStatus)>-1;return n&&i}function _(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function E(...e){return 0===e.length?e=>T(e,["pending"]):_(e)?S(...e.map((e=>e.pending))):E()(e[0])}function k(...e){return 0===e.length?e=>T(e,["rejected"]):_(e)?S(...e.map((e=>e.rejected))):k()(e[0])}function C(...e){return 0===e.length||_(e)?x(k(...e),(e=>e&&e.meta&&e.meta.rejectedWithValue)):C()(e[0])}function M(...e){return 0===e.length?e=>T(e,["fulfilled"]):_(e)?S(...e.map((e=>e.fulfilled))):M()(e[0])}function P(...e){return 0===e.length?e=>T(e,["pending","fulfilled","rejected"]):_(e)?S(...e.flatMap((e=>[e.pending,e.rejected,e.fulfilled]))):P()(e[0])}var R=(e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},L=["name","message","stack","code"],I=class{constructor(e,t){this.payload=e,this.meta=t}_type},D=class{constructor(e,t){this.payload=e,this.meta=t}_type},N=e=>{if("object"==typeof e&&null!==e){const t={};for(const n of L)"string"==typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},F=(()=>{function e(e,t,n){const i=u(e+"/fulfilled",((e,t,n,i)=>({payload:e,meta:{...i||{},arg:n,requestId:t,requestStatus:"fulfilled"}}))),r=u(e+"/pending",((e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}}))),a=u(e+"/rejected",((e,t,i,r,a)=>({payload:r,error:(n&&n.serializeError||N)(e||"Rejected"),meta:{...a||{},arg:i,requestId:t,rejectedWithValue:!!r,requestStatus:"rejected",aborted:"AbortError"===e?.name,condition:"ConditionError"===e?.name}})));return Object.assign((function(e){return(s,o,l)=>{const c=n?.idGenerator?n.idGenerator(e):R(),u=new AbortController;let d,h;function p(e){h=e,u.abort()}const f=async function(){let f;try{let a=n?.condition?.(e,{getState:o,extra:l});if(null!==(g=a)&&"object"==typeof g&&"function"==typeof g.then&&(a=await a),!1===a||u.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const m=new Promise(((e,t)=>{d=()=>{t({name:"AbortError",message:h||"Aborted"})},u.signal.addEventListener("abort",d)}));s(r(c,e,n?.getPendingMeta?.({requestId:c,arg:e},{getState:o,extra:l}))),f=await Promise.race([m,Promise.resolve(t(e,{dispatch:s,getState:o,extra:l,requestId:c,signal:u.signal,abort:p,rejectWithValue:(e,t)=>new I(e,t),fulfillWithValue:(e,t)=>new D(e,t)})).then((t=>{if(t instanceof I)throw t;return t instanceof D?i(t.payload,c,e,t.meta):i(t,c,e)}))])}catch(t){f=t instanceof I?a(null,c,e,t.payload,t.meta):a(t,c,e)}finally{d&&u.signal.removeEventListener("abort",d)}var g;return n&&!n.dispatchConditionRejection&&a.match(f)&&f.meta.condition||s(f),f}();return Object.assign(f,{abort:p,requestId:c,arg:e,unwrap(){return f.then(O)}})}}),{pending:r,rejected:a,fulfilled:i,settled:S(a,i),typePrefix:e})}return e.withTypes=()=>e,e})();function O(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var z=Symbol.for("rtk-slice-createasyncthunk");function j(e,t){return`${e}/${t}`}function B({creators:e}={}){const t=e?.asyncThunk?.[z];return function(e){const{name:n,reducerPath:i=n}=e;if(!n)throw new Error(W(11));const r=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:e}}()):e.reducers)||{},a=Object.keys(r),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(W(12));if(n in s.sliceCaseReducersByType)throw new Error(W(13));return s.sliceCaseReducersByType[n]=t,l},addMatcher(e,t){return s.sliceMatchers.push({matcher:e,reducer:t}),l},exposeAction(e,t){return s.actionCreators[e]=t,l},exposeCaseReducer(e,t){return s.sliceCaseReducersByName[e]=t,l}};function c(){const[t={},n=[],i]="function"==typeof e.extraReducers?w(e.extraReducers):[e.extraReducers],r={...t,...s.sliceCaseReducersByType};return function(e){let t,[a,l,c]=w((e=>{for(let t in r)e.addCase(t,r[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);i&&e.addDefaultCase(i)}));if("function"==typeof e)t=()=>h(e());else{const n=h(e);t=()=>n}function u(e=t(),n){let i=[a[n.type],...l.filter((({matcher:e})=>e(n))).map((({reducer:e})=>e))];return 0===i.filter((e=>!!e)).length&&(i=[c]),i.reduce(((e,t)=>{if(t){if((0,o.Qx)(e)){const i=t(e,n);return void 0===i?e:i}if((0,o.a6)(e))return(0,o.jM)(e,(e=>t(e,n)));{const i=t(e,n);if(void 0===i){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return i}}return e}),e)}return u.getInitialState=t,u}(e.initialState)}a.forEach((i=>{const a=r[i],s={reducerName:i,type:j(n,i),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function({type:e,reducerName:t,createNotation:n},i,r){let a,s;if("reducer"in i){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(i))throw new Error(W(17));a=i.reducer,s=i.prepare}else a=i;r.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?u(e,s):u(e))}(s,a,l):function({type:e,reducerName:t},n,i,r){if(!r)throw new Error(W(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=n,d=r(e,a,u);i.exposeAction(t,d),s&&i.addCase(d.fulfilled,s),o&&i.addCase(d.pending,o),l&&i.addCase(d.rejected,l),c&&i.addMatcher(d.settled,c),i.exposeCaseReducer(t,{fulfilled:s||$,pending:o||$,rejected:l||$,settled:c||$})}(s,a,l,t)}));const d=e=>e,f=new Map;let g;function m(e,t){return g||(g=c()),g(e,t)}function v(){return g||(g=c()),g.getInitialState()}function y(t,n=!1){function i(e){let i=e[t];return void 0===i&&n&&(i=v()),i}function r(t=d){const i=p(f,n,(()=>new WeakMap));return p(i,t,(()=>{const i={};for(const[r,a]of Object.entries(e.selectors??{}))i[r]=H(a,t,v,n);return i}))}return{reducerPath:t,getSelectors:r,get selectors(){return r(i)},selectSlice:i}}const b={name:n,reducer:m,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:v,...y(i),injectInto(e,{reducerPath:t,...n}={}){const r=t??i;return e.inject({reducerPath:r,reducer:m},n),{...b,...y(r,!0)}}};return b}}function H(e,t,n,i){function r(r,...a){let s=t(r);return void 0===s&&i&&(s=n()),e(s,...a)}return r.unwrapped=e,r}var U=B();function $(){}var{assign:q}=Object;function W(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original")},932:function(e,t,n){n.d(t,{$i:function(){return X},Qx:function(){return l},YT:function(){return V},a6:function(){return c},c2:function(){return h},jM:function(){return K},vI:function(){return Q}});var i=Symbol.for("immer-nothing"),r=Symbol.for("immer-draftable"),a=Symbol.for("immer-state");function s(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var o=Object.getPrototypeOf;function l(e){return!!e&&!!e[a]}function c(e){return!!e&&(d(e)||Array.isArray(e)||!!e[r]||!!e.constructor?.[r]||y(e)||b(e))}var u=Object.prototype.constructor.toString();function d(e){if(!e||"object"!=typeof e)return!1;const t=o(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===u}function h(e){return l(e)||s(15),e[a].base_}function p(e,t){0===f(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,i)=>t(i,n,e)))}function f(e){const t=e[a];return t?t.type_:Array.isArray(e)?1:y(e)?2:b(e)?3:0}function g(e,t){return 2===f(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function m(e,t){return 2===f(e)?e.get(t):e[t]}function v(e,t,n){const i=f(e);2===i?e.set(t,n):3===i?e.add(n):e[t]=n}function y(e){return e instanceof Map}function b(e){return e instanceof Set}function w(e){return e.copy_||e.base_}function A(e,t){if(y(e))return new Map(e);if(b(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=d(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[a];let n=Reflect.ownKeys(t);for(let i=0;i<n.length;i++){const r=n[i],a=t[r];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[r]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[r]})}return Object.create(o(e),t)}{const t=o(e);if(null!==t&&n)return{...e};const i=Object.create(t);return Object.assign(i,e)}}function S(e,t=!1){return T(e)||l(e)||!c(e)||(f(e)>1&&(e.set=e.add=e.clear=e.delete=x),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>S(t,!0)))),e}function x(){s(2)}function T(e){return Object.isFrozen(e)}var _,E={};function k(e){const t=E[e];return t||s(0),t}function C(){return _}function M(e,t){t&&(k("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function P(e){R(e),e.drafts_.forEach(I),e.drafts_=null}function R(e){e===_&&(_=e.parent_)}function L(e){return _={drafts_:[],parent_:_,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function I(e){const t=e[a];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function D(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[a].modified_&&(P(t),s(4)),c(e)&&(e=N(t,e),t.parent_||O(t,e)),t.patches_&&k("Patches").generateReplacementPatches_(n[a].base_,e,t.patches_,t.inversePatches_)):e=N(t,n,[]),P(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==i?e:void 0}function N(e,t,n){if(T(t))return t;const i=t[a];if(!i)return p(t,((r,a)=>F(e,i,t,r,a,n))),t;if(i.scope_!==e)return t;if(!i.modified_)return O(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let r=t,a=!1;3===i.type_&&(r=new Set(t),t.clear(),a=!0),p(r,((r,s)=>F(e,i,t,r,s,n,a))),O(e,t,!1),n&&e.patches_&&k("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function F(e,t,n,i,r,a,s){if(l(r)){const s=N(e,r,a&&t&&3!==t.type_&&!g(t.assigned_,i)?a.concat(i):void 0);if(v(n,i,s),!l(s))return;e.canAutoFreeze_=!1}else s&&n.add(r);if(c(r)&&!T(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;N(e,r),t&&t.scope_.parent_||"symbol"==typeof i||!Object.prototype.propertyIsEnumerable.call(n,i)||O(e,r)}}function O(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&S(t,n)}var z={get(e,t){if(t===a)return e;const n=w(e);if(!g(n,t))return function(e,t,n){const i=H(t,n);return i?"value"in i?i.value:i.get?.call(e.draft_):void 0}(e,n,t);const i=n[t];return e.finalized_||!c(i)?i:i===B(e.base_,t)?($(e),e.copy_[t]=q(i,e)):i},has(e,t){return t in w(e)},ownKeys(e){return Reflect.ownKeys(w(e))},set(e,t,n){const i=H(w(e),t);if(i?.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const i=B(w(e),t),o=i?.[a];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((r=n)===(s=i)?0!==r||1/r==1/s:r!=r&&s!=s)&&(void 0!==n||g(e.base_,t)))return!0;$(e),U(e)}var r,s;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return void 0!==B(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,$(e),U(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=w(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty(){s(11)},getPrototypeOf(e){return o(e.base_)},setPrototypeOf(){s(12)}},j={};function B(e,t){const n=e[a];return(n?w(n):e)[t]}function H(e,t){if(!(t in e))return;let n=o(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=o(n)}}function U(e){e.modified_||(e.modified_=!0,e.parent_&&U(e.parent_))}function $(e){e.copy_||(e.copy_=A(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function q(e,t){const n=y(e)?k("MapSet").proxyMap_(e,t):b(e)?k("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:C(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=z;n&&(r=[i],a=j);const{revoke:s,proxy:o}=Proxy.revocable(r,a);return i.draft_=o,i.revoke_=s,o}(e,t);return(t?t.scope_:C()).drafts_.push(n),n}function W(e){if(!c(e)||T(e))return e;const t=e[a];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=A(e,t.scope_.immer_.useStrictShallowCopy_)}else n=A(e,!0);return p(n,((e,t)=>{v(n,e,W(t))})),t&&(t.finalized_=!1),n}function V(){const e="replace",t="add",n="remove";function a(e){if(!c(e))return e;if(Array.isArray(e))return e.map(a);if(y(e))return new Map(Array.from(e.entries()).map((([e,t])=>[e,a(t)])));if(b(e))return new Set(Array.from(e).map(a));const t=Object.create(o(e));for(const n in e)t[n]=a(e[n]);return g(e,r)&&(t[r]=e[r]),t}function u(e){return l(e)?a(e):e}var d,h;h={applyPatches_:function(i,r){return r.forEach((r=>{const{path:o,op:l}=r;let c=i;for(let e=0;e<o.length-1;e++){const t=f(c);let n=o[e];"string"!=typeof n&&"number"!=typeof n&&(n=""+n),0!==t&&1!==t||"__proto__"!==n&&"constructor"!==n||s(19),"function"==typeof c&&"prototype"===n&&s(19),c=m(c,n),"object"!=typeof c&&s(18,o.join("/"))}const u=f(c),d=a(r.value),h=o[o.length-1];switch(l){case e:switch(u){case 2:return c.set(h,d);case 3:s(16);default:return c[h]=d}case t:switch(u){case 1:return"-"===h?c.push(d):c.splice(h,0,d);case 2:return c.set(h,d);case 3:return c.add(d);default:return c[h]=d}case n:switch(u){case 1:return c.splice(h,1);case 2:return c.delete(h);case 3:return c.delete(r.value);default:return delete c[h]}default:s(17)}})),i},generatePatches_:function(i,r,a,s){switch(i.type_){case 0:case 2:return function(i,r,a,s){const{base_:o,copy_:l}=i;p(i.assigned_,((i,c)=>{const d=m(o,i),h=m(l,i),p=c?g(o,i)?e:t:n;if(d===h&&p===e)return;const f=r.concat(i);a.push(p===n?{op:p,path:f}:{op:p,path:f,value:h}),s.push(p===t?{op:n,path:f}:p===n?{op:t,path:f,value:u(d)}:{op:e,path:f,value:u(d)})}))}(i,r,a,s);case 1:return function(i,r,a,s){let{base_:o,assigned_:l}=i,c=i.copy_;c.length<o.length&&([o,c]=[c,o],[a,s]=[s,a]);for(let t=0;t<o.length;t++)if(l[t]&&c[t]!==o[t]){const n=r.concat([t]);a.push({op:e,path:n,value:u(c[t])}),s.push({op:e,path:n,value:u(o[t])})}for(let e=o.length;e<c.length;e++){const n=r.concat([e]);a.push({op:t,path:n,value:u(c[e])})}for(let e=c.length-1;o.length<=e;--e){const t=r.concat([e]);s.push({op:n,path:t})}}(i,r,a,s);case 3:return function(e,i,r,a){let{base_:s,copy_:o}=e,l=0;s.forEach((e=>{if(!o.has(e)){const s=i.concat([l]);r.push({op:n,path:s,value:e}),a.unshift({op:t,path:s,value:e})}l++})),l=0,o.forEach((e=>{if(!s.has(e)){const s=i.concat([l]);r.push({op:t,path:s,value:e}),a.unshift({op:n,path:s,value:e})}l++}))}(i,r,a,s)}},generateReplacementPatches_:function(t,n,r,a){r.push({op:e,path:[],value:n===i?void 0:n}),a.push({op:e,path:[],value:t})}},E[d="Patches"]||(E[d]=h)}p(z,((e,t)=>{j[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),j.deleteProperty=function(e,t){return j.set.call(this,e,t,void 0)},j.set=function(e,t,n){return z.set.call(this,e[0],t,n,e[0])};var G=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const i=this;return function(e=n,...r){return i.produce(e,(e=>t.call(this,e,...r)))}}let r;if("function"!=typeof t&&s(6),void 0!==n&&"function"!=typeof n&&s(7),c(e)){const i=L(this),a=q(e,void 0);let s=!0;try{r=t(a),s=!1}finally{s?P(i):R(i)}return M(i,n),D(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===i&&(r=void 0),this.autoFreeze_&&S(r,!0),n){const t=[],i=[];k("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}s(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,i;return[this.produce(e,t,((e,t)=>{n=e,i=t})),n,i]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){var t;c(e)||s(8),l(e)&&(l(t=e)||s(10),e=W(t));const n=L(this),i=q(e,void 0);return i[a].isManual_=!0,R(n),i}finishDraft(e,t){const n=e&&e[a];n&&n.isManual_||s(9);const{scope_:i}=n;return M(i,t),D(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));const i=k("Patches").applyPatches_;return l(e)?i(e,t):this.produce(e,(e=>i(e,t)))}},K=G.produce,Q=G.produceWithPatches.bind(G),X=(G.setAutoFreeze.bind(G),G.setUseStrictShallowCopy.bind(G),G.applyPatches.bind(G));G.createDraft.bind(G),G.finishDraft.bind(G)},468:function(e,t,n){n.d(t,{Kq:function(){return m},Pj:function(){return w},bN:function(){return d},d4:function(){return _},vA:function(){return E},wA:function(){return S}});var i=n(540),r=n(418);function a(e){e()}var s={notify(){},get:()=>[]};var o=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),l=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),c=(()=>o||l?i.useLayoutEffect:i.useEffect)();function u(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function d(e,t){if(u(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!u(e[n[i]],t[n[i]]))return!1;return!0}Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var h=Symbol.for("react-redux-context"),p="undefined"!=typeof globalThis?globalThis:{};function f(){if(!i.createContext)return{};const e=p[h]??=new Map;let t=e.get(i.createContext);return t||(t=i.createContext(null),e.set(i.createContext,t)),t}var g=f(),m=function(e){const{children:t,context:n,serverState:r,store:o}=e,l=i.useMemo((()=>{const e=function(e,t){let n,i=s,r=0,o=!1;function l(){d.onStateChange&&d.onStateChange()}function c(){r++,n||(n=t?t.addNestedSub(l):e.subscribe(l),i=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){a((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let i=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){i&&null!==e&&(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}())}function u(){r--,n&&0===r&&(n(),n=void 0,i.clear(),i=s)}const d={addNestedSub:function(e){c();const t=i.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),u())}},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:l,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,c())},tryUnsubscribe:function(){o&&(o=!1,u())},getListeners:()=>i};return d}(o);return{store:o,subscription:e,getServerState:r?()=>r:void 0}}),[o,r]),u=i.useMemo((()=>o.getState()),[o]);c((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==o.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,u]);const d=n||g;return i.createElement(d.Provider,{value:l},t)};function v(e=g){return function(){return i.useContext(e)}}var y=v();function b(e=g){const t=e===g?y:v(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var w=b();function A(e=g){const t=e===g?w:b(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var S=A(),x=(e,t)=>e===t;function T(e=g){const t=e===g?y:v(e),n=(e,n={})=>{const{equalityFn:a=x}="function"==typeof n?{equalityFn:n}:n,s=t(),{store:o,subscription:l,getServerState:c}=s,u=(i.useRef(!0),i.useCallback({[e.name](t){return e(t)}}[e.name],[e])),d=(0,r.useSyncExternalStoreWithSelector)(l.addNestedSub,o.getState,c||o.getState,u,a);return i.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var _=T(),E=a},527:function(e,t,n){n.d(t,{BV:function(){return le},Kd:function(){return Me},N_:function(){return Re},qh:function(){return se}});var i=n(540),r=(n(69),"popstate");function a(e={}){return function(e,t,n,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,d=a.history,h="POP",p=null,f=g();function g(){return(d.state||{idx:null}).idx}function m(){h="POP";let e=g(),t=null==e?null:e-f;f=e,p&&p({action:h,location:y.location,delta:t})}function v(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"==typeof e?e:u(e);return n=n.replace(/ $/,"%20"),s(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==f&&(f=0,d.replaceState({...d.state,idx:f},""));let y={get action(){return h},get location(){return e(a,d)},listen(e){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(r,m),p=e,()=>{a.removeEventListener(r,m),p=null}},createHref(e){return t(a,e)},createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h="PUSH";let i=c(y.location,e,t);n&&n(i,e),f=g()+1;let r=l(i,f),s=y.createHref(i);try{d.pushState(r,"",s)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;a.location.assign(s)}o&&p&&p({action:h,location:y.location,delta:1})},replace:function(e,t){h="REPLACE";let i=c(y.location,e,t);n&&n(i,e),f=g();let r=l(i,f),a=y.createHref(i);d.replaceState(r,"",a),o&&p&&p({action:h,location:y.location,delta:0})},go(e){return d.go(e)}};return y}((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return c("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:u(t)}),null,e)}function s(e,t){if(!1===e||null==e)throw new Error(t)}function o(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t,n=null,i){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?d(t):t,state:n,key:t&&t.key||i||Math.random().toString(36).substring(2,10)}}function u({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function h(e,t,n="/"){return function(e,t,n,i){let r=E(("string"==typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let a=p(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let e=0;null==s&&e<a.length;++e){let t=_(r);s=x(a[e],t,i)}return s}(e,t,n,!1)}function p(e,t=[],n=[],i=""){let r=(e,r,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(s(o.relativePath.startsWith(i),`Absolute route path "${o.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(i.length));let l=P([i,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(s(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),p(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of f(e.path))r(e,t,n);else r(e,t)})),t}function f(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===i.length)return r?[a,""]:[a];let s=f(i.join("/")),o=[];return o.push(...s.map((e=>""===e?a:[a,e].join("/")))),r&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var g=/^:[\w-]+$/,m=3,v=2,y=1,b=10,w=-2,A=e=>"*"===e;function S(e,t){let n=e.split("/"),i=n.length;return n.some(A)&&(i+=w),t&&(i+=v),n.filter((e=>!A(e))).reduce(((e,t)=>e+(g.test(t)?m:""===t?y:b)),i)}function x(e,t,n=!1){let{routesMeta:i}=e,r={},a="/",s=[];for(let e=0;e<i.length;++e){let o=i[e],l=e===i.length-1,c="/"===a?t:t.slice(a.length)||"/",u=T({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},c),d=o.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=T({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),s.push({params:r,pathname:P([a,u.pathname]),pathnameBase:R(P([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=P([a,u.pathnameBase]))}return s}function T(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t=!1,n=!0){o("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce(((e,{paramName:t,isOptional:n},i)=>{if("*"===t){let e=l[i]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const r=l[i];return e[t]=n&&!r?void 0:(r||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:s,pattern:e}}function _(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return o(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function E(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function k(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C(e){let t=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function M(e,t,n,i=!1){let r;"string"==typeof e?r=d(e):(r={...e},s(!r.pathname||!r.pathname.includes("?"),k("?","pathname","search",r)),s(!r.pathname||!r.pathname.includes("#"),k("#","pathname","hash",r)),s(!r.search||!r.search.includes("#"),k("#","search","hash",r)));let a,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t="/"){let{pathname:n,search:i="",hash:r=""}="string"==typeof e?d(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:L(i),hash:I(r)}}(r,a),u=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var P=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",I=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function D(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}var N=["POST","PUT","PATCH","DELETE"],F=(new Set(N),["GET",...N]);new Set(F),Symbol("ResetLoaderData");var O=i.createContext(null);O.displayName="DataRouter";var z=i.createContext(null);z.displayName="DataRouterState";var j=i.createContext({isTransitioning:!1});j.displayName="ViewTransition",i.createContext(new Map).displayName="Fetchers",i.createContext(null).displayName="Await";var B=i.createContext(null);B.displayName="Navigation";var H=i.createContext(null);H.displayName="Location";var U=i.createContext({outlet:null,matches:[],isDataRoute:!1});U.displayName="Route";var $=i.createContext(null);$.displayName="RouteError";var q=!0;function W(){return null!=i.useContext(H)}function V(){return s(W(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(H).location}var G="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K(e){i.useContext(B).static||i.useLayoutEffect(e)}function Q(){let{isDataRoute:e}=i.useContext(U);return e?function(){let{router:e}=function(e){let t=i.useContext(O);return s(t,ne(e)),t}("useNavigate"),t=ie("useNavigate"),n=i.useRef(!1);return K((()=>{n.current=!0})),i.useCallback((async(i,r={})=>{o(n.current,G),n.current&&("number"==typeof i?e.navigate(i):await e.navigate(i,{fromRouteId:t,...r}))}),[e,t])}():function(){s(W(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(O),{basename:t,navigator:n}=i.useContext(B),{matches:r}=i.useContext(U),{pathname:a}=V(),l=JSON.stringify(C(r)),c=i.useRef(!1);return K((()=>{c.current=!0})),i.useCallback(((i,r={})=>{if(o(c.current,G),!c.current)return;if("number"==typeof i)return void n.go(i);let s=M(i,JSON.parse(l),a,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:P([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state,r)}),[t,n,l,a,e])}()}function X(e,{relative:t}={}){let{matches:n}=i.useContext(U),{pathname:r}=V(),a=JSON.stringify(C(n));return i.useMemo((()=>M(e,JSON.parse(a),r,"path"===t)),[e,a,r,t])}function Y(e,t,n,r){s(W(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=i.useContext(B),{matches:l}=i.useContext(U),c=l[l.length-1],u=c?c.params:{},p=c?c.pathname:"/",f=c?c.pathnameBase:"/",g=c&&c.route;if(q){let e=g&&g.path||"";ae(p,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let m,v=V();if(t){let e="string"==typeof t?d(t):t;s("/"===f||e.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${e.pathname}" was given in the \`location\` prop.`),m=e}else m=v;let y=m.pathname||"/",b=y;if("/"!==f){let e=f.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=h(e,{pathname:b});q&&(o(g||null!=w,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),o(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`));let A=function(e,t=[],n=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,a=n?.errors;if(null!=a){let e=r.findIndex((e=>e.route.id&&void 0!==a?.[e.route.id]));s(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,e+1))}let o=!1,l=-1;if(n)for(let e=0;e<r.length;e++){let t=r[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:i}=n,a=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!i||void 0===i[t.route.id]);if(t.route.lazy||a){o=!0,r=l>=0?r.slice(0,l+1):[r[0]];break}}}return r.reduceRight(((e,s,c)=>{let u,d=!1,h=null,p=null;n&&(u=a&&s.route.id?a[s.route.id]:void 0,h=s.route.errorElement||Z,o&&(l<0&&0===c?(ae("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):l===c&&(d=!0,p=s.route.hydrateFallbackElement||null)));let f=t.concat(r.slice(0,c+1)),g=()=>{let t;return t=u?h:d?p:s.route.Component?i.createElement(s.route.Component,null):s.route.element?s.route.element:e,i.createElement(te,{match:s,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===c)?i.createElement(ee,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()}),null)}(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:P([f,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:P([f,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&A?i.createElement(H.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},A):A}function J(){let e=function(){let e=i.useContext($),t=function(e){let t=i.useContext(z);return s(t,ne(e)),t}("useRouteError"),n=ie("useRouteError");return void 0!==e?e:t.errors?.[n]}(),t=D(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return q&&(console.error("Error handled by React Router default ErrorBoundary:",e),l=i.createElement(i.Fragment,null,i.createElement("p",null,"💿 Hey developer 👋"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:o},"ErrorBoundary")," or"," ",i.createElement("code",{style:o},"errorElement")," prop on your route."))),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,l)}i.createContext(null);var Z=i.createElement(J,null),ee=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(U.Provider,{value:this.props.routeContext},i.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function te({routeContext:e,match:t,children:n}){let r=i.useContext(O);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),i.createElement(U.Provider,{value:e},n)}function ne(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ie(e){let t=function(e){let t=i.useContext(U);return s(t,ne(e)),t}(e),n=t.matches[t.matches.length-1];return s(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var re={};function ae(e,t,n){t||re[e]||(re[e]=!0,o(!1,n))}function se(e){s(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){s(!W(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=i.useMemo((()=>({basename:c,navigator:a,static:l,future:{}})),[c,a,l]);"string"==typeof n&&(n=d(n));let{pathname:h="/",search:p="",hash:f="",state:g=null,key:m="default"}=n,v=i.useMemo((()=>{let e=E(h,c);return null==e?null:{location:{pathname:e,search:p,hash:f,state:g,key:m},navigationType:r}}),[c,h,p,f,g,m,r]);return o(null!=v,`<Router basename="${c}"> is not able to match the URL "${h}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:i.createElement(B.Provider,{value:u},i.createElement(H.Provider,{children:t,value:v}))}function le({children:e,location:t}){return Y(ce(e),t)}function ce(e,t=[]){let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ce(e.props.children,a));s(e.type===se,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),s(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ce(e.props.children,a)),n.push(o)})),n}i.memo((function({routes:e,future:t,state:n}){return Y(e,void 0,n,t)})),i.Component;var ue="get",de="application/x-www-form-urlencoded";function he(e){return null!=e&&"string"==typeof e.tagName}var pe=null,fe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ge(e){return null==e||fe.has(e)?e:(o(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${de}"`),null)}function me(e,t){if(!1===e||null==e)throw new Error(t)}function ve(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function ye(e,t,n,i,r,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===a?t.filter(((e,t)=>s(e,t)||o(e,t))):"data"===a?t.filter(((t,a)=>{let l=i.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){let i=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof i)return i}return!0})):[]}function be(){let e=i.useContext(O);return me(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function we(){let e=i.useContext(z);return me(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}Symbol("SingleFetchRedirect"),i.Component;var Ae=i.createContext(void 0);function Se(){let e=i.useContext(Ae);return me(e,"You must render this element inside a <HydratedRouter> element"),e}function xe(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Te({page:e,...t}){let{router:n}=be(),r=i.useMemo((()=>h(n.routes,e,n.basename)),[n.routes,e,n.basename]);return r?i.createElement(Ee,{page:e,matches:r,...t}):null}function _e(e){let{manifest:t,routeModules:n}=Se(),[r,a]=i.useState([]);return i.useEffect((()=>{let i=!1;return async function(e,t,n){return function(e,t){let n=new Set,i=new Set(t);return e.reduce(((e,r)=>{if(t&&(null==(a=r)||"string"!=typeof a.page)&&"script"===r.as&&r.href&&i.has(r.href))return e;var a;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}(r));return n.has(s)||(n.add(s),e.push({key:s,link:r})),e}),[])}((await Promise.all(e.map((async e=>{let i=t.routes[e.route.id];if(i){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}(i,n);return e.links?e.links():[]}return[]})))).flat(1).filter(ve).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{i||a(e)})),()=>{i=!0}}),[e,t,n]),r}function Ee({page:e,matches:t,...n}){let r=V(),{manifest:a,routeModules:s}=Se(),{loaderData:o,matches:l}=we(),c=i.useMemo((()=>ye(e,t,l,a,r,"data")),[e,t,l,a,r]),u=i.useMemo((()=>ye(e,t,l,a,r,"assets")),[e,t,l,a,r]),d=i.useMemo((()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,i=!1;if(t.forEach((e=>{let t=a.routes[e.route.id];t&&t.hasLoader&&(!c.some((t=>t.route.id===e.route.id))&&e.route.id in o&&s[e.route.id]?.shouldRevalidate||t.hasClientLoader?i=!0:n.add(e.route.id))})),0===n.size)return[];let l=function(e){let t="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}(e);return i&&n.size>0&&l.searchParams.set("_routes",t.filter((e=>n.has(e.route.id))).map((e=>e.route.id)).join(",")),[l.pathname+l.search]}),[o,r,a,c,t,e,s]),h=i.useMemo((()=>function(e,t){return n=e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i})).flat(1),[...new Set(n)];var n}(u,a)),[u,a]),p=_e(u);return i.createElement(i.Fragment,null,d.map((e=>i.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n}))),h.map((e=>i.createElement("link",{key:e,rel:"modulepreload",href:e,...n}))),p.map((({key:e,link:t})=>i.createElement("link",{key:e,...t}))))}Ae.displayName="FrameworkContext";function ke(...e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}var Ce="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Ce&&(window.__reactRouterVersion="7.1.1")}catch(e){}function Me({basename:e,children:t,window:n}){let r=i.useRef();null==r.current&&(r.current=a({window:n,v5Compat:!0}));let s=r.current,[o,l]=i.useState({action:s.action,location:s.location}),c=i.useCallback((e=>{i.startTransition((()=>l(e)))}),[l]);return i.useLayoutEffect((()=>s.listen(c)),[s,c]),i.createElement(oe,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=i.forwardRef((function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:a,replace:l,state:c,target:d,to:h,preventScrollReset:p,viewTransition:f,...g},m){let v,{basename:y}=i.useContext(B),b="string"==typeof h&&Pe.test(h),w=!1;if("string"==typeof h&&b&&(v=h,Ce))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=E(t.pathname,y);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:w=!0}catch(e){o(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=function(e,{relative:t}={}){s(W(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(B),{hash:a,pathname:o,search:l}=X(e,{relative:t}),c=o;return"/"!==n&&(c="/"===o?n:P([n,o])),r.createHref({pathname:c,search:l,hash:a})}(h,{relative:r}),[S,x,T]=function(e,t){let n=i.useContext(Ae),[r,a]=i.useState(!1),[s,o]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=i.useRef(null);i.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),i.useEffect((()=>{if(r){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let f=()=>{a(!0)},g=()=>{a(!1),o(!1)};return n?"intent"!==e?[s,p,{}]:[s,p,{onFocus:xe(l,f),onBlur:xe(c,g),onMouseEnter:xe(u,f),onMouseLeave:xe(d,g),onTouchStart:xe(h,f)}]:[!1,p,{}]}(n,g),_=function(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:o}={}){let l=Q(),c=V(),d=X(e,{relative:s});return i.useCallback((i=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(i,t)){i.preventDefault();let t=void 0!==n?n:u(c)===u(d);l(e,{replace:t,state:r,preventScrollReset:a,relative:s,viewTransition:o})}}),[c,l,d,n,r,t,e,a,s,o])}(h,{replace:l,state:c,target:d,preventScrollReset:p,relative:r,viewTransition:f}),k=i.createElement("a",{...g,...T,href:v||A,onClick:w||a?e:function(t){e&&e(t),t.defaultPrevented||_(t)},ref:ke(m,x),target:d,"data-discover":b||"render"!==t?void 0:"true"});return S&&!b?i.createElement(i.Fragment,null,k,i.createElement(Te,{page:A})):k}));function Le(e){let t=i.useContext(O);return s(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}Re.displayName="Link",i.forwardRef((function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:a,to:o,viewTransition:l,children:c,...u},d){let h=X(o,{relative:u.relative}),p=V(),f=i.useContext(z),{navigator:g,basename:m}=i.useContext(B),v=null!=f&&function(e,t={}){let n=i.useContext(j);s(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Le("useViewTransitionState"),a=X(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=E(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=E(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=T(a.pathname,l)||null!=T(a.pathname,o)}(h)&&!0===l,y=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,b=p.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(b=b.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&m&&(w=E(w,m)||w);const A="/"!==y&&y.endsWith("/")?y.length-1:y.length;let S,x=b===y||!r&&b.startsWith(y)&&"/"===b.charAt(A),_=null!=w&&(w===y||!r&&w.startsWith(y)&&"/"===w.charAt(y.length)),k={isActive:x,isPending:_,isTransitioning:v},C=x?e:void 0;S="function"==typeof n?n(k):[n,x?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let M="function"==typeof a?a(k):a;return i.createElement(Re,{...u,"aria-current":C,className:S,ref:d,style:M,to:o,viewTransition:l},"function"==typeof c?c(k):c)})).displayName="NavLink",i.forwardRef((({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:o,method:l=ue,action:c,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:f,...g},m)=>{let v=function(){let{router:e}=Le("useSubmit"),{basename:t}=i.useContext(B),n=ie("useRouteId");return i.useCallback((async(i,r={})=>{let{action:a,method:s,encType:o,formData:l,body:c}=function(e,t){let n,i,r,a,s;if(he(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");i=s?E(s,t):null,n=e.getAttribute("method")||ue,r=ge(e.getAttribute("enctype"))||de,a=new FormData(e)}else if(function(e){return he(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return he(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(i=o?E(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||ue,r=ge(e.getAttribute("formenctype"))||ge(s.getAttribute("enctype"))||de,a=new FormData(s,e),!function(){if(null===pe)try{new FormData(document.createElement("form"),0),pe=!1}catch(e){pe=!0}return pe}()){let{name:t,type:n,value:i}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,i)}}else{if(he(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ue,i=null,r=de,s=e}var o;return a&&"text/plain"===r&&(s=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:s}}(i,t);if(!1===r.navigate){let t=r.fetcherKey||De();await e.fetch(t,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,flushSync:r.flushSync})}else await e.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})}),[e,t,n])}(),y=function(e,{relative:t}={}){let{basename:n}=i.useContext(B),r=i.useContext(U);s(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...X(e||".",{relative:t})},l=V();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?`?${n}`:""}}return e&&"."!==e||!a.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),"/"!==n&&(o.pathname="/"===o.pathname?n:P([n,o.pathname])),u(o)}(c,{relative:h}),b="get"===l.toLowerCase()?"get":"post",w="string"==typeof c&&Pe.test(c);return i.createElement("form",{ref:m,method:b,action:y,onSubmit:r?d:e=>{if(d&&d(e),e.defaultPrevented)return;e.preventDefault();let i=e.nativeEvent.submitter,r=i?.getAttribute("formmethod")||l;v(i||e.currentTarget,{fetcherKey:t,method:r,navigate:n,replace:a,state:o,relative:h,preventScrollReset:p,viewTransition:f})},...g,"data-discover":w||"render"!==e?void 0:"true"})})).displayName="Form";var Ie=0,De=()=>`__${String(++Ie)}__`;new TextEncoder},644:function(e,t,n){function i(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}n.d(t,{HY:function(){return c},Qd:function(){return o},Tw:function(){return p},Zz:function(){return h},ve:function(){return f},y$:function(){return l},zH:function(){return d}});var r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),a=()=>Math.random().toString(36).substring(7).split("").join("."),s={INIT:`@@redux/INIT${a()}`,REPLACE:`@@redux/REPLACE${a()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${a()}`};function o(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function l(e,t,n){if("function"!=typeof e)throw new Error(i(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(i(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(i(1));return n(l)(e,t)}let a=e,c=t,u=new Map,d=u,h=0,p=!1;function f(){d===u&&(d=new Map,u.forEach(((e,t)=>{d.set(t,e)})))}function g(){if(p)throw new Error(i(3));return c}function m(e){if("function"!=typeof e)throw new Error(i(4));if(p)throw new Error(i(5));let t=!0;f();const n=h++;return d.set(n,e),function(){if(t){if(p)throw new Error(i(6));t=!1,f(),d.delete(n),u=null}}}function v(e){if(!o(e))throw new Error(i(7));if(void 0===e.type)throw new Error(i(8));if("string"!=typeof e.type)throw new Error(i(17));if(p)throw new Error(i(9));try{p=!0,c=a(c,e)}finally{p=!1}return(u=d).forEach((e=>{e()})),e}return v({type:s.INIT}),{dispatch:v,subscribe:m,getState:g,replaceReducer:function(e){if("function"!=typeof e)throw new Error(i(10));a=e,v({type:s.REPLACE})},[r]:function(){const e=m;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(i(11));function n(){const e=t;e.next&&e.next(g())}return n(),{unsubscribe:e(n)}},[r](){return this}}}}}function c(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const r=t[i];"function"==typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let a;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if(void 0===n(void 0,{type:s.INIT}))throw new Error(i(12));if(void 0===n(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))}))}(n)}catch(e){a=e}return function(e={},t){if(a)throw a;let s=!1;const o={};for(let a=0;a<r.length;a++){const l=r[a],c=n[l],u=e[l],d=c(u,t);if(void 0===d)throw t&&t.type,new Error(i(14));o[l]=d,s=s||d!==u}return s=s||r.length!==Object.keys(e).length,s?o:e}}function u(e,t){return function(...n){return t(e.apply(this,n))}}function d(e,t){if("function"==typeof e)return u(e,t);if("object"!=typeof e||null===e)throw new Error(i(16));const n={};for(const i in e){const r=e[i];"function"==typeof r&&(n[i]=u(r,t))}return n}function h(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}function p(...e){return t=>(n,r)=>{const a=t(n,r);let s=()=>{throw new Error(i(15))};const o={getState:a.getState,dispatch:(e,...t)=>s(e,...t)},l=e.map((e=>e(o)));return s=h(...l)(a.dispatch),{...a,dispatch:s}}}function f(e){return o(e)&&"type"in e&&"string"==typeof e.type}}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={exports:{}};return n[e](a,a.exports,r),a.exports}r.m=n,r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return e+"."+{226:"30313a9d6e01aa194b15",313:"25a8c01550b2ab13e88f",526:"e910f6dcb103e9225a21",920:"120090a1f894f94c42ec"}[e]+".js"},r.miniCssF=function(e){return"css/"+e+"."+{313:"f7ef8869",526:"ad312fa9",920:"1353a89a"}[e]+".css"},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="suncov-russian:",r.l=function(n,i,a,s){if(e[n])e[n].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+a),o.src=n),e[n]=[i];var h=function(t,i){o.onerror=o.onload=null,clearTimeout(p);var r=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((function(e){return e(i)})),t)return t(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/SuncovRussian/",function(){if("undefined"!=typeof document){var e={792:0};r.f.miniCss=function(t,n){e[t]?n.push(e[t]):0!==e[t]&&{313:1,526:1,920:1}[t]&&n.push(e[t]=function(e){return new Promise((function(t,n){var i=r.miniCssF(e),a=r.p+i;if(function(e,t){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=(s=n[i]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===e||r===t))return s}var a=document.getElementsByTagName("style");for(i=0;i<a.length;i++){var s;if((r=(s=a[i]).getAttribute("data-href"))===e||r===t)return s}}(i,a))return t();!function(e,t,n,i,a){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",r.nc&&(s.nonce=r.nc),s.onerror=s.onload=function(n){if(s.onerror=s.onload=null,"load"===n.type)i();else{var r=n&&n.type,o=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+o+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=o,s.parentNode&&s.parentNode.removeChild(s),a(l)}},s.href=t,document.head.appendChild(s)}(e,a,0,t,n)}))}(t).then((function(){e[t]=0}),(function(n){throw delete e[t],n})))}}}(),function(){var e={792:0};r.f.j=function(t,n){var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));n.push(i[2]=a);var s=r.p+r.u(t),o=new Error;r.l(s,(function(n){if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}}),"chunk-"+t,t)}};var t=function(t,n){var i,a,s=n[0],o=n[1],l=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);l&&l(r)}for(t&&t(n);c<s.length;c++)a=s[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunksuncov_russian=self.webpackChunksuncov_russian||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=r(338),s=r(540),o=r(527);const l=(0,s.lazy)((()=>new Promise((e=>{e(r.e(920).then(r.bind(r,920)).then((e=>{let{MainPage:t}=e;return{default:t}})))})))),c=(0,s.lazy)((()=>r.e(226).then(r.bind(r,226)).then((e=>{let{NotFoundPage:t}=e;return{default:t}}))));r(640),r(128);const u=(0,s.lazy)((()=>new Promise((e=>{e(r.e(313).then(r.bind(r,313)).then((e=>{let{TheoryPage:t}=e;return{default:t}})))}))));r(491),r(800),r(672),r(337),r(856);var d=r(364);const h=(0,s.lazy)((()=>new Promise((e=>{e(r.e(526).then(r.bind(r,526)).then((e=>{let{TrainerPage:t}=e;return{default:t}})))})))),p=[{subcategory:"accents",words:[{valid:"аэропОрты",invalid:"аэропортЫ",id:0,trainerType:"ударения"},{valid:"бАнты",invalid:"бантЫ",id:1,trainerType:"ударения"},{valid:"бухгАлтеров",invalid:"бухгалтерОв",id:2,trainerType:"ударения"},{valid:"вероисповЕдание",invalid:"вероисповедАние",id:3,trainerType:"ударения"},{valid:"водопровОд",invalid:"водопрОвод",id:4,trainerType:"ударения"},{valid:"дешевИзна",invalid:"дешевизнА",id:5,trainerType:"ударения"},{valid:"диспансЕр",invalid:"диспАнсер",id:6,trainerType:"ударения"},{valid:"досУг",invalid:"дОсуг",id:7,trainerType:"ударения"},{valid:"еретИк",invalid:"ерЕтик",id:8,trainerType:"ударения"},{valid:"жалюзИ",invalid:"жАлюзи",id:9,trainerType:"ударения"},{valid:"Иксы",invalid:"иксЫ",id:10,trainerType:"ударения"},{valid:"каталОг",invalid:"катАлог",id:11,trainerType:"ударения"},{valid:"квартАл",invalid:"квАртал",trainerType:"ударения",id:12},{valid:"крАны",invalid:"кранЫ",trainerType:"ударения",id:13},{valid:"кремЕнь",invalid:"крЕмень",trainerType:"ударения",id:14},{valid:"кремнЯ",invalid:"крЕмня",trainerType:"ударения",id:15},{valid:"лЕкторов",invalid:"лекторОв",id:16,trainerType:"ударения"},{valid:"лОктя",invalid:"локтЯ",trainerType:"ударения",id:17},{valid:"локтЕй",invalid:"лОктей",trainerType:"ударения",id:18},{valid:"намЕрение",invalid:"немерЕние",id:19,trainerType:"ударения"},{valid:"нефтепровОд",invalid:"нефтепрОвод",id:20,trainerType:"ударения"},{valid:"нОгтя",invalid:"ногтЯ",id:21,trainerType:"ударения"},{valid:"Отрочество",invalid:"отрОчество",id:22,trainerType:"ударения"},{valid:"партЕр",invalid:"пАртер",id:23,trainerType:"ударения"},{valid:"придАное",invalid:"прИданое",id:24,trainerType:"ударения"},{valid:"свЁкла",invalid:"свеклА",id:25,trainerType:"ударения"},{valid:"сирОты",invalid:"сИроты",id:26,trainerType:"ударения"},{valid:"сосредотОчение",invalid:"сосредоточЕние",id:27,trainerType:"ударения"},{valid:"срЕдства",invalid:"средствА",id:28,trainerType:"ударения"},{valid:"столЯр",invalid:"стОляр",id:29,trainerType:"ударения"},{valid:"тОрты",invalid:"тортЫ",id:30,trainerType:"ударения"},{valid:"тУфля",invalid:"туфлЯ",id:31,trainerType:"ударения"},{valid:"цемЕнт",invalid:"цЕмент",id:32,trainerType:"ударения"},{valid:"цепОчка",invalid:"цЕпочка",id:33,trainerType:"ударения"},{valid:"шАрфы",invalid:"шарфЫ",id:34,trainerType:"ударения"},{valid:"красИвее",invalid:"красивЕе",id:35,trainerType:"ударения"},{valid:"кУхонный",invalid:"кухОнный",id:36,trainerType:"ударения"},{valid:"мозаИчный",invalid:"мозАичный",id:37,trainerType:"ударения"},{valid:"оптОвый",invalid:"Оптовый",id:38,trainerType:"ударения"},{valid:"прозорлИвый",invalid:"прозОрливый",id:39,trainerType:"ударения"},{valid:"слИвовый",invalid:"сливОвый",id:40,trainerType:"ударения"},{valid:"бралА",invalid:"брАла",id:41,trainerType:"ударения"},{valid:"воссоздалА",invalid:"воссоздАла",id:42,trainerType:"ударения"},{valid:"влилАсь",invalid:"влИлась",id:43,trainerType:"ударения"},{valid:"вручИт",invalid:"врУчит",id:44,trainerType:"ударения"},{valid:"гналА",invalid:"гнАла",id:45,trainerType:"ударения"},{valid:"дозвонИтся",invalid:"дозвОнится",id:46,trainerType:"ударения"},{valid:"дозИровать",invalid:"дозировАть",id:47,trainerType:"ударения"},{valid:"закУпорить",invalid:"закупОрить",id:48,trainerType:"ударения"},{valid:"зАнял",invalid:"занЯл",id:49,trainerType:"ударения"},{valid:"занялА",invalid:"зАняла",id:50,trainerType:"ударения"},{valid:"зАняли",invalid:"занЯли",id:51,trainerType:"ударения"},{valid:"заперлА",invalid:"зАперла",id:52,trainerType:"ударения"},{valid:"запломбировАть",invalid:"запломбИровать",id:53,trainerType:"ударения"},{valid:"защемИт",invalid:"защЕмит",id:54,trainerType:"ударения"},{valid:"звонИт",invalid:"звОнит",id:55,trainerType:"ударения"},{valid:"кАшлянуть",invalid:"кашлянУть",id:56,trainerType:"ударения"},{valid:"клАла",invalid:"клалА",id:57,trainerType:"ударения"},{valid:"крАлась",invalid:"кралАсь",id:58,trainerType:"ударения"},{valid:"кровоточИть",invalid:"кровотОчить",id:59,trainerType:"ударения"},{valid:"лгалА",invalid:"лгАла",id:60,trainerType:"ударения"},{valid:"лилА",invalid:"лИла",id:61,trainerType:"ударения"},{valid:"навралА",invalid:"наврАла",id:62,trainerType:"ударения"},{valid:"наделИт",invalid:"надЕлит",id:63,trainerType:"ударения"},{valid:"накренИтся",invalid:"накрЕнится",id:64,trainerType:"ударения"},{valid:"облегчИть",invalid:"облЕгчить",id:65,trainerType:"ударения"},{valid:"одолжИт",invalid:"одОлжит",id:66,trainerType:"ударения"},{valid:"озлОбить",invalid:"озлобИть",id:67,trainerType:"ударения"},{valid:"окружИт",invalid:"окрУжит",id:68,trainerType:"ударения"},{valid:"опОшлить",invalid:"опошлИть",id:69,trainerType:"ударения"},{valid:"освЕдомиться",invalid:"осведомИться",id:70,trainerType:"ударения"},{valid:"откУпорить",invalid:"откупОрить",id:71,trainerType:"ударения"},{valid:"пломбировАть",invalid:"пломбИровать",id:72,trainerType:"ударения"},{valid:"послАла",invalid:"послалА",id:73,trainerType:"ударения"},{valid:"прИбыл",invalid:"прибЫл",id:74,trainerType:"ударения"},{valid:"сверлИт",invalid:"свЕрлит",id:75,trainerType:"ударения"},{valid:"сорИт",invalid:"сОрит",id:76,trainerType:"ударения"},{valid:"углубИть",invalid:"углУбить",id:77,trainerType:"ударения"},{valid:"чЕрпать",invalid:"черпАть",id:78,trainerType:"ударения"},{valid:"щемИт",invalid:"щЕмит",id:79,trainerType:"ударения"},{valid:"щЁлкать",invalid:"щелкАть",id:80,trainerType:"ударения"},{valid:"зАгнутый",invalid:"загнУтый",id:81,trainerType:"ударения"},{valid:"занятА",invalid:"зАнята",id:82,trainerType:"ударения"},{valid:"зАпертый",invalid:"запЁртый",id:83,trainerType:"ударения"},{valid:"кормЯщий",invalid:"кОрмящий",id:84,trainerType:"ударения"},{valid:"кровоточАщий",invalid:"кровотОчащий",id:85,trainerType:"ударения"},{valid:"нажИвший",invalid:"нАживший",id:86,trainerType:"ударения"},{valid:"нанЯвшийся",invalid:"нАнявшийся",id:87,trainerType:"ударения"},{valid:"начАвший",invalid:"нАчавший",id:88,trainerType:"ударения"},{valid:"нАчатый",invalid:"начАтый",id:89,trainerType:"ударения"},{valid:"низведЁнный",invalid:"низвЕденный",id:90,trainerType:"ударения"},{valid:"облегчЁнный",invalid:"облЕгченный",id:91,trainerType:"ударения"},{valid:"ободрЁнный",invalid:"обОдренный",id:92,trainerType:"ударения"},{valid:"обострЁнный",invalid:"обОстренный",id:93,trainerType:"ударения"},{valid:"отключЁнный",invalid:"отклЮченный",id:94,trainerType:"ударения"},{valid:"поделЁнный",invalid:"подЕленный",id:95,trainerType:"ударения"},{valid:"понЯвший",invalid:"пОнявший",id:96,trainerType:"ударения"},{valid:"принятА",invalid:"прИнята",id:97,trainerType:"ударения"},{valid:"приручЁнный",invalid:"прирУченный",id:98,trainerType:"ударения"},{valid:"прожИвший",invalid:"прОживший",id:99,trainerType:"ударения"},{valid:"снятА",invalid:"снЯта",id:100,trainerType:"ударения"},{valid:"сОгнутый",invalid:"согнУтый",id:101,trainerType:"ударения"},{valid:"углублЁнный",invalid:"углУбленный",id:102,trainerType:"ударения"},{valid:"закУпорив",invalid:"закупОрив",id:103,trainerType:"ударения"},{valid:"начАв",invalid:"нАчав",id:104,trainerType:"ударения"},{valid:"начАвшись",invalid:"нАчавшись",id:105,trainerType:"ударения"},{valid:"поднЯв",invalid:"пОдняв",id:106,trainerType:"ударения"},{valid:"прибЫв",invalid:"прИбыв",id:107,trainerType:"ударения"},{valid:"дОверху",invalid:"довЕрху",id:108,trainerType:"ударения"},{valid:"донЕльзя",invalid:"дОнельзя",id:109,trainerType:"ударения"},{valid:"дОнизу",invalid:"донИзу",id:110,trainerType:"ударения"},{valid:"дОсуха",invalid:"досУха",id:111,trainerType:"ударения"},{valid:"красИвее",invalid:"красивЕе",id:112,trainerType:"ударения"}]},{subcategory:"dictionary",words:[{valid:"тишина",invalid:"тишена",id:0,trainerType:"cловарные слова"},{valid:"белизна",invalid:"белезна",id:1,trainerType:"cловарные слова"},{valid:"празднество",invalid:"праздненство",id:2,trainerType:"cловарные слова"},{valid:"писатель",invalid:"писатиль",id:3,trainerType:"cловарные слова"},{valid:"маета",invalid:"маита",id:4,trainerType:"cловарные слова"},{valid:"котловина",invalid:"котлавина",id:5,trainerType:"cловарные слова"},{valid:"сердцевина",invalid:"сердцивина",id:6,trainerType:"cловарные слова"},{valid:"взимать",invalid:"взымать",id:7,trainerType:"cловарные слова"},{valid:"фельдъегерь",invalid:"фельдьегерь",id:8,trainerType:"cловарные слова"},{valid:"преступление",invalid:"приступление",id:9,trainerType:"cловарные слова"},{valid:"пресечь",invalid:"присечь",id:10,trainerType:"cловарные слова"},{valid:"адъютант",invalid:"адьютант",id:11,trainerType:"cловарные слова"},{valid:"пригарь",invalid:"пригорь",id:12,trainerType:"cловарные слова"},{valid:"выгарки",invalid:"выгорки",id:13,trainerType:"cловарные слова"},{valid:"изгарь",invalid:"изгорь",id:14,trainerType:"cловарные слова"},{valid:"зоревать",invalid:"заревать",id:15,trainerType:"cловарные слова"},{valid:"пловец",invalid:"плавец",id:16,trainerType:"cловарные слова"},{valid:"отрасль",invalid:"отросль",id:17,trainerType:"cловарные слова"},{valid:"росток",invalid:"расток",id:18,trainerType:"cловарные слова"},{valid:"вырост",invalid:"выраст",id:19,trainerType:"cловарные слова"},{valid:"ростовщик",invalid:"растовщик",id:20,trainerType:"cловарные слова"},{valid:"Ростов",invalid:"Растов",id:21,trainerType:"cловарные слова"},{valid:"Ростислав",invalid:"Растислав",id:22,trainerType:"cловарные слова"},{valid:"равнина",invalid:"ровнина",id:23,trainerType:"cловарные слова"},{valid:"сочетать",invalid:"сочитать",id:24,trainerType:"cловарные слова"},{valid:"аккомпанемент",invalid:"аккомпонемент",id:25,trainerType:"cловарные слова"},{valid:"бюллетень",invalid:"беллетень",id:26,trainerType:"cловарные слова"},{valid:"брошюра",invalid:"брошура",id:27,trainerType:"cловарные слова"},{valid:"вестибюль",invalid:"вистибюль",id:28,trainerType:"cловарные слова"},{valid:"винегрет",invalid:"венегрет",id:29,trainerType:"cловарные слова"},{valid:"грамматика",invalid:"граматика",id:30,trainerType:"cловарные слова"},{valid:"экстремальный",invalid:"экстримальный",id:31,trainerType:"cловарные слова"},{valid:"укротить",invalid:"укратить",id:32,trainerType:"cловарные слова"},{valid:"дирижёр",invalid:"дерижёр",id:33,trainerType:"cловарные слова"},{valid:"иждивенец",invalid:"иждевенец",id:34,trainerType:"cловарные слова"},{valid:"иллюзия",invalid:"илюзия",id:35,trainerType:"cловарные слова"},{valid:"катастрофа",invalid:"катострофа",id:36,trainerType:"cловарные слова"},{valid:"лелеять",invalid:"лелееть",id:37,trainerType:"cловарные слова"},{valid:"палисадник",invalid:"полисадник",id:38,trainerType:"cловарные слова"},{valid:"президиум",invalid:"президеум",id:39,trainerType:"cловарные слова"},{valid:"преодолеть",invalid:"приодолеть",id:40,trainerType:"cловарные слова"},{valid:"преобразовать",invalid:"приобразовать",id:41,trainerType:"cловарные слова"},{valid:"прецедент",invalid:"прицедент",id:42,trainerType:"cловарные слова"},{valid:"привилегия",invalid:"превилегия",id:43,trainerType:"cловарные слова"},{valid:"примитивный",invalid:"примитивный",id:44,trainerType:"cловарные слова"},{valid:"приоритет",invalid:"преоритет",id:45,trainerType:"cловарные слова"},{valid:"резидент",invalid:"резедент",id:46,trainerType:"cловарные слова"},{valid:"спартакиада",invalid:"спартокиада",id:47,trainerType:"cловарные слова"},{valid:"стипендия",invalid:"степендия",id:48,trainerType:"cловарные слова"},{valid:"трясина",invalid:"тресина",id:49,trainerType:"cловарные слова"},{valid:"университет",invalid:"уневерситет",id:50,trainerType:"cловарные слова"},{valid:"веять",invalid:"веить",id:51,trainerType:"cловарные слова"},{valid:"блеять",invalid:"блеить",id:52,trainerType:"cловарные слова"},{valid:"лаять",invalid:"лаить",id:53,trainerType:"cловарные слова"},{valid:"кашлять",invalid:"кашлить",id:54,trainerType:"cловарные слова"},{valid:"каяться",invalid:"каиться",id:55,trainerType:"cловарные слова"},{valid:"клеить",invalid:"клееть",id:56,trainerType:"cловарные слова"},{valid:"вялить",invalid:"вялеть",id:57,trainerType:"cловарные слова"},{valid:"строить",invalid:"строять",id:58,trainerType:"cловарные слова"},{valid:"жа́лить",invalid:"жа́леть",id:59,trainerType:"cловарные слова"},{valid:"метить",invalid:"мететь",id:60,trainerType:"cловарные слова"},{valid:"молвить",invalid:"молветь",id:61,trainerType:"cловарные слова"},{valid:"беспокоиться",invalid:"беспокоеться",id:62,trainerType:"cловарные слова"},{valid:"осилить",invalid:"осилеть",id:63,trainerType:"cловарные слова"},{valid:"ездить",invalid:"ездеть",id:64,trainerType:"cловарные слова"},{valid:"бросить",invalid:"бросеть",id:65,trainerType:"cловарные слова"},{valid:"мучить",invalid:"мучать",id:66,trainerType:"cловарные слова"},{valid:"приемлемый",invalid:"приемлимый",id:67,trainerType:"cловарные слова"},{valid:"незыблемый",invalid:"незыблимый",id:68,trainerType:"cловарные слова"},{valid:"неотъемлемый",invalid:"неотъемлимый",id:69,trainerType:"cловарные слова"},{valid:"движимый",invalid:"движемый",id:70,trainerType:"cловарные слова"},{valid:"юродивый",invalid:"юродевый",id:71,trainerType:"cловарные слова"},{valid:"баеньки",invalid:"баиньки",id:72,trainerType:"cловарные слова"},{valid:"заинька",invalid:"заенька",id:73,trainerType:"cловарные слова"},{valid:"паинька",invalid:"паенька",id:74,trainerType:"cловарные слова"},{valid:"претерпеть",invalid:"притерпеть",id:75,trainerType:"cловарные слова"},{valid:"притерпеться",invalid:"претерпеться",id:76,trainerType:"cловарные слова"},{valid:"привратник",invalid:"превратник",id:77,trainerType:"cловарные слова"},{valid:"прообраз",invalid:"праобраз",id:78,trainerType:"cловарные слова"},{valid:"панъевропейский",invalid:"паневропейский",id:79,trainerType:"cловарные слова"},{valid:"продлевать",invalid:"продливать",id:80,trainerType:"cловарные слова"},{valid:"затмевать",invalid:"затмивать",id:81,trainerType:"cловарные слова"},{valid:"застревать",invalid:"застрявать",id:82,trainerType:"cловарные слова"},{valid:"обуревать",invalid:"обуривать",id:83,trainerType:"cловарные слова"},{valid:"встревать",invalid:"встрявать",id:84,trainerType:"cловарные слова"}]},{subcategory:"unions",words:d.Q},{subcategory:"adverbs",words:[{valid:"без оглядки",invalid:"безоглядки",id:0,trainerType:"наречия"},{valid:"без разбору",invalid:"безразбору",id:1,trainerType:"наречия"},{valid:"без спросу",invalid:"безспросу",id:2,trainerType:"наречия"},{valid:"без толку",invalid:"безтолку",id:3,trainerType:"наречия"},{valid:"без умолку",invalid:"безумолку",id:4,trainerType:"наречия"},{valid:"бок о бок",invalid:"бок-о-бок",id:5,trainerType:"наречия"},{valid:"в виде",invalid:"ввиде",id:6,trainerType:"наречия"},{valid:"в заключение",invalid:"взаключение",id:7,trainerType:"наречия"},{valid:"вне зависимости",invalid:"внезависимости",id:8,trainerType:"наречия"},{valid:"в обнимку",invalid:"вобнимку",id:9,trainerType:"наречия"},{valid:"в обтяжку",invalid:"вобтяжку",id:10,trainerType:"наречия"},{valid:"в общем",invalid:"вобщем",id:11,trainerType:"наречия"},{valid:"в одиночку",invalid:"водиночку",id:12,trainerType:"наречия"},{valid:"в открытую",invalid:"воткрытую",id:13,trainerType:"наречия"},{valid:"в потёмках",invalid:"впотёмках",id:14,trainerType:"наречия"},{valid:"в розницу",invalid:"врозницу",id:15,trainerType:"наречия"},{valid:"в сердцах",invalid:"всердцах",id:16,trainerType:"наречия"},{valid:"всё равно",invalid:"всёравно",id:17,trainerType:"наречия"},{valid:"в ходу",invalid:"входу",id:18,trainerType:"наречия"},{valid:"в упор",invalid:"вупор",id:19,trainerType:"наречия"},{valid:"в целом",invalid:"вцелом",id:20,trainerType:"наречия"},{valid:"за границей",invalid:"заграницей",id:21,trainerType:"наречия"},{valid:"за глаза",invalid:"заглаза",id:22,trainerType:"наречия"},{valid:"как будто",invalid:"как-будто",id:23,trainerType:"наречия"},{valid:"как раз",invalid:"какраз",id:24,trainerType:"наречия"},{valid:"к утру",invalid:"кутру",id:25,trainerType:"наречия"},{valid:"на бегу",invalid:"набегу",id:26,trainerType:"наречия"},{valid:"на вид",invalid:"навид",id:27,trainerType:"наречия"},{valid:"на глаз",invalid:"наглаз",id:28,trainerType:"наречия"},{valid:"на днях",invalid:"наднях",id:29,trainerType:"наречия"},{valid:"на миг",invalid:"намиг",id:30,trainerType:"наречия"},{valid:"на ощупь",invalid:"наощупь",id:31,trainerType:"наречия"},{valid:"на ходу",invalid:"находу",id:32,trainerType:"наречия"},{valid:"по двое",invalid:"подвое",id:33,trainerType:"наречия"},{valid:"по одному",invalid:"по-одному",id:34,trainerType:"наречия"},{valid:"с виду",invalid:"свиду",id:35,trainerType:"наречия"},{valid:"след в след",invalid:"след-в-след",id:36,trainerType:"наречия"},{valid:"с полуслова",invalid:"сполуслова",id:37,trainerType:"наречия"},{valid:"с разбегу",invalid:"сразбегу",id:38,trainerType:"наречия"},{valid:"с ходу",invalid:"сходу",id:39,trainerType:"наречия"},{valid:"вблизи",invalid:"в близи",id:40,trainerType:"наречия"},{valid:" вбок",invalid:"в бок",id:41,trainerType:"наречия"},{valid:"вброд",invalid:"в брод",id:42,trainerType:"наречия"},{valid:"вверх",invalid:"в верх",id:43,trainerType:"наречия"},{valid:"вглубь",invalid:"в глубь",id:44,trainerType:"наречия"},{valid:"вдалеке",invalid:" в далеке",id:45,trainerType:"наречия"},{valid:"вдали́",invalid:"в дали́",id:46,trainerType:"наречия"},{valid:"вдвое",invalid:"в двое",id:47,trainerType:"наречия"},{valid:"вдвоём",invalid:"в двоём",id:48,trainerType:"наречия"},{valid:"взаперти",invalid:"в заперти",id:49,trainerType:"наречия"},{valid:"вконец",invalid:"в конец",id:50,trainerType:"наречия"},{valid:"влево",invalid:"в лево",id:51,trainerType:"наречия"},{valid:"вничью",invalid:"в ничью",id:52,trainerType:"наречия"},{valid:"внутрь",invalid:"внутрь",id:53,trainerType:"наречия"},{valid:"во́время",invalid:"во́ время",id:54,trainerType:"наречия"},{valid:"во вре́мя",invalid:" вовре́мя ",id:55,trainerType:"наречия"},{valid:"вовсю",invalid:"во всю",id:56,trainerType:"наречия"},{valid:"воедино",invalid:"во едино",id:57,trainerType:"наречия"},{valid:"впервы́е",invalid:" в первы́е ",id:58,trainerType:"наречия"},{valid:"вперёд",invalid:"в перёд",id:59,trainerType:"наречия"},{valid:"вплотну́ю",invalid:"в плотну́ю",id:60,trainerType:"наречия"},{valid:"вполголоса",invalid:" в пол голоса ",id:61,trainerType:"наречия"},{valid:"вполоборота",invalid:" в пол оборота ",id:62,trainerType:"наречия"},{valid:"вполсилы",invalid:" в пол силы ",id:63,trainerType:"наречия"},{valid:"впоследствии",invalid:" в последствии ",id:64,trainerType:"наречия"},{valid:"впотьмах",invalid:" впотьмах",id:65,trainerType:"наречия"},{valid:"вправду",invalid:" в правду ",id:66,trainerType:"наречия"},{valid:"вправе",invalid:"в праве",id:67,trainerType:"наречия"},{valid:"вправо",invalid:"в право",id:68,trainerType:"наречия"},{valid:"впрочем",invalid:"в прочем",id:69,trainerType:"наречия"},{valid:"врассыпную",invalid:" в рассыпную ",id:70,trainerType:"наречия"},{valid:"врастяжку",invalid:" в растяжку ",id:71,trainerType:"наречия"},{valid:"всерьёз",invalid:" в серьёз ",id:72,trainerType:"наречия"},{valid:"всецело",invalid:"все цело",id:73,trainerType:"наречия"},{valid:"вскоре",invalid:"в скоре",id:74,trainerType:"наречия"},{valid:"вслед",invalid:"в след",id:75,trainerType:"наречия"},{valid:" всплошную",invalid:" в сплошную",id:76,trainerType:"наречия"},{valid:"втайне",invalid:"в тайне",id:77,trainerType:"наречия"},{valid:"втрое",invalid:"в трое",id:78,trainerType:"наречия"},{valid:"вширь",invalid:"в ширь",id:79,trainerType:"наречия"},{valid:"добела",invalid:"до бела",id:80,trainerType:"наречия"},{valid:"до́верху",invalid:"до́ верху",id:81,trainerType:"наречия"},{valid:"донельзя",invalid:"до нельзя",id:82,trainerType:"наречия"},{valid:"досуха",invalid:"до суха",id:83,trainerType:"наречия"},{valid:"досыта",invalid:"до сыта",id:84,trainerType:"наречия"},{valid:"дочиста",invalid:"до чиста",id:85,trainerType:"наречия"},{valid:"замуж",invalid:"за муж",id:86,trainerType:"наречия"},{valid:"не замужем",invalid:"не за мужем",id:87,trainerType:"наречия"},{valid:"заодно",invalid:"за одно",id:88,trainerType:"наречия"},{valid:"зачастую",invalid:"за частую",id:89,trainerType:"наречия"},{valid:"издавна",invalid:"из давна",id:90,trainerType:"наречия"},{valid:"издалека",invalid:"из далека",id:91,trainerType:"наречия"},{valid:"изнутри",invalid:"изнутри",id:92,trainerType:"наречия"},{valid:"итак",invalid:"и так",id:93,trainerType:"наречия"},{valid:"кверху",invalid:"к верху",id:94,trainerType:"наречия"},{valid:"кряду",invalid:"к ряду",id:95,trainerType:"наречия"},{valid:"на́двое",invalid:"на́ двое",id:96,trainerType:"наречия"},{valid:"наедине",invalid:"на едине",id:97,trainerType:"наречия"},{valid:"назавтра",invalid:"на завтра",id:98,trainerType:"наречия"},{valid:"напоказ",invalid:"на показ",id:99,trainerType:"наречия"},{valid:"назубок",invalid:"на зубок",id:100,trainerType:"наречия"},{valid:"назло",invalid:"на зло",id:101,trainerType:"наречия"},{valid:"на́смерть",invalid:"на́ смерть",id:102,trainerType:"наречия"},{valid:"насовсем",invalid:"на совсем",id:103,trainerType:"наречия"},{valid:"наспех",invalid:"на спех",id:104,trainerType:"наречия"},{valid:"наутро",invalid:"на утро",id:105,trainerType:"наречия"},{valid:"то́тчас",invalid:"то́т час",id:106,trainerType:"наречия"},{valid:"вмиг",invalid:"в миг",id:107,trainerType:"наречия"},{valid:"вширь",invalid:"в ширь",id:108,trainerType:"наречия"}]},{subcategory:"n/nn",words:[{valid:"бараний",invalid:"баранний",id:0,trainerType:"н/нн"},{valid:"багряный",invalid:"багрянный",id:1,trainerType:"н/нн"},{valid:"безветренный",invalid:"безветреный",id:2,trainerType:"н/нн"},{valid:"бесприданница",invalid:"бесприданица",id:3,trainerType:"н/нн"},{valid:"бессребреник",invalid:"бессребренник",id:4,trainerType:"н/нн"},{valid:"блаженный",invalid:"блаженый",id:5,trainerType:"н/нн"},{valid:"вареник",invalid:"варенник",id:6,trainerType:"н/нн"},{valid:"венчанный",invalid:"венчаный",id:7,trainerType:"н/нн"},{valid:"ветреный",invalid:"ветренный",id:8,trainerType:"н/нн"},{valid:"виденный",invalid:"виденый",id:9,trainerType:"н/нн"},{valid:"вороной",invalid:"воронной",id:10,trainerType:"н/нн"},{valid:"гостиная",invalid:"гостинная",id:11,trainerType:"н/нн"},{valid:"деревянный",invalid:"деревяный",id:12,trainerType:"н/нн"},{valid:"жданный",invalid:"жданый",id:13,trainerType:"н/нн"},{valid:"жёваный",invalid:"жёванный",id:14,trainerType:"н/нн"},{valid:"желанный",invalid:"желаный",id:15,trainerType:"н/нн"},{valid:"жеманный",invalid:"жеманый",id:16,trainerType:"н/нн"},{valid:"завещанный",invalid:"завещаный",id:17,trainerType:"н/нн"},{valid:"измождённый",invalid:"измождёный",id:18,trainerType:"н/нн"},{valid:"изысканный",invalid:"изысканый",id:19,trainerType:"н/нн"},{valid:"клёваный",invalid:"клёванный",id:20,trainerType:"н/нн"},{valid:"кованый",invalid:"кованный",id:21,trainerType:"н/нн"},{valid:"крещёный",invalid:"крещённый",id:22,trainerType:"н/нн"},{valid:"мудрёный",invalid:"мудрённый",id:23,trainerType:"н/нн"},{valid:"мученик",invalid:"мученник",id:24,trainerType:"н/нн"},{valid:"холстинный",invalid:"холстиный",id:25,trainerType:"н/нн"},{valid:"диковинный",invalid:"диковиный",id:26,trainerType:"н/нн"},{valid:"старинный",invalid:"стариный",id:27,trainerType:"н/нн"},{valid:"названыйбрат",invalid:"названныйбрат",id:28,trainerType:"н/нн"},{valid:"неведанный",invalid:"неведаный",id:29,trainerType:"н/нн"},{valid:"негаданный",invalid:"негаданый",id:30,trainerType:"н/нн"},{valid:"нежданный",invalid:"нежданый",id:31,trainerType:"н/нн"},{valid:"нежеланный",invalid:"нежеланый",id:32,trainerType:"н/нн"},{valid:"неожиданный",invalid:"неожиданый",id:33,trainerType:"н/нн"},{valid:"неслыханный",invalid:"неслыханый",id:34,trainerType:"н/нн"},{valid:"нечаянный",invalid:"нечаяный",id:35,trainerType:"н/нн"},{valid:"обезьяний",invalid:"обезьянний",id:36,trainerType:"н/нн"},{valid:"обещанный",invalid:"обещаный",id:37,trainerType:"н/нн"},{valid:"окаянный",invalid:"окаяный",id:38,trainerType:"н/нн"},{valid:"оловянный",invalid:"оловяный",id:39,trainerType:"н/нн"},{valid:"посажёныйотец",invalid:"посажённыйотец",id:40,trainerType:"н/нн"},{valid:"подлинный",invalid:"подлиный",id:41,trainerType:"н/нн"},{valid:"преданный",invalid:"преданый",id:42,trainerType:"н/нн"},{valid:"приданое",invalid:"приданное",id:43,trainerType:"н/нн"},{valid:"прощёноевоскресенье",invalid:"прощённоевоскресенье",id:44,trainerType:"н/нн"},{valid:"пряный",invalid:"прянный",id:45,trainerType:"н/нн"},{valid:"пудреница",invalid:"пудренница",id:46,trainerType:"н/нн"},{valid:"раненныйвбою",invalid:"раненыйвбою",id:47,trainerType:"н/нн"},{valid:"раненый",invalid:"раненный",id:48,trainerType:"н/нн"},{valid:"роженица",invalid:"роженница",id:49,trainerType:"н/нн"},{valid:"румяный",invalid:"румянный",id:50,trainerType:"н/нн"},{valid:"самонадеянный",invalid:"самонадеяный",id:51,trainerType:"н/нн"},{valid:"свиной",invalid:"свинной",id:52,trainerType:"н/нн"},{valid:"серебреник",invalid:"серебренник",id:53,trainerType:"н/нн"},{valid:"слышанный",invalid:"слышаный",id:54,trainerType:"н/нн"},{valid:"смышлёный",invalid:"смышлённый",id:55,trainerType:"н/нн"},{valid:"ставленник",invalid:"ставленик",id:56,trainerType:"н/нн"},{valid:"стеклянный",invalid:"стекляный",id:57,trainerType:"н/нн"},{valid:"суженый",invalid:"суженный",id:58,trainerType:"н/нн"},{valid:"труженик",invalid:"труженник",id:59,trainerType:"н/нн"}]},{subcategory:"morphological",words:[{valid:"инструкторы",invalid:"инструктора",id:0,trainerType:"морфологические нормы"},{valid:"редакторы",invalid:"редактора",id:1,trainerType:"морфологические нормы"},{valid:"лекторы",invalid:"лектора",id:2,trainerType:"морфологические нормы"},{valid:"конструкторы",invalid:"конструктора",id:3,trainerType:"морфологические нормы"},{valid:"прожекторы",invalid:"прожектора",id:4,trainerType:"морфологические нормы"},{valid:"секторы",invalid:"сектора",id:5,trainerType:"морфологические нормы"},{valid:"инженеры",invalid:"инженера",id:6,trainerType:"морфологические нормы"},{valid:"шофёры",invalid:"шофера",id:7,trainerType:"морфологические нормы"},{valid:"бухгалтеры",invalid:"бухгалтера",id:8,trainerType:"морфологические нормы"},{valid:"диспетчеры",invalid:"диспетчера",id:9,trainerType:"морфологические нормы"},{valid:"договоры",invalid:"договора",id:10,trainerType:"морфологические нормы"},{valid:"драйверы",invalid:"драйвера",id:11,trainerType:"морфологические нормы"},{valid:"слесари",invalid:"слесаря",id:12,trainerType:"морфологические нормы"},{valid:"токари",invalid:"токаря",id:13,trainerType:"морфологические нормы"},{valid:"возрасты",invalid:"возраста",id:14,trainerType:"морфологические нормы"},{valid:"кремы",invalid:"крема",id:15,trainerType:"морфологические нормы"},{valid:"директора",invalid:"директоры",id:16,trainerType:"морфологические нормы"},{valid:"профессора",invalid:"профессоры",id:17,trainerType:"морфологические нормы"},{valid:"инспектора",invalid:"инспекторы",id:18,trainerType:"морфологические нормы"},{valid:"доктора",invalid:"докторы",id:19,trainerType:"морфологические нормы"},{valid:"катера",invalid:"катеры",id:20,trainerType:"морфологические нормы"},{valid:"ордера",invalid:"ордеры",id:21,trainerType:"морфологические нормы"},{valid:"тенора",invalid:"теноры",id:22,trainerType:"морфологические нормы"},{valid:"фельдшера",invalid:"фельдшеры",id:23,trainerType:"морфологические нормы"},{valid:"флюгера",invalid:"флюгеры",id:24,trainerType:"морфологические нормы"},{valid:"хутора",invalid:"хуторы",id:25,trainerType:"морфологические нормы"},{valid:"шулера",invalid:"шулеры",id:26,trainerType:"морфологические нормы"},{valid:"буфера",invalid:"буферы",id:27,trainerType:"морфологические нормы"},{valid:"веера",invalid:"вееры",id:28,trainerType:"морфологические нормы"},{valid:"повара",invalid:"повары",id:29,trainerType:"морфологические нормы"},{valid:"отпуска",invalid:"отпуски",id:30,trainerType:"морфологические нормы"},{valid:"паруса",invalid:"парусы",id:31,trainerType:"морфологические нормы"},{valid:"паспорта",invalid:"паспорты",id:32,trainerType:"морфологические нормы"},{valid:"погреба",invalid:"погребы",id:33,trainerType:"морфологические нормы"},{valid:"р.п.апельсинов",invalid:"р.п.апельсин",id:34,trainerType:"морфологические нормы"},{valid:"борта",invalid:"борты",id:35,trainerType:"морфологические нормы"},{valid:"черепа",invalid:"черепы",id:36,trainerType:"морфологические нормы"},{valid:"р.п.бананов",invalid:"р.п.банан",id:37,trainerType:"морфологические нормы"},{valid:"р.п.томатов",invalid:"р.п.томат",id:38,trainerType:"морфологические нормы"},{valid:"р.п.помидоров",invalid:"р.п.помидор",id:39,trainerType:"морфологические нормы"},{valid:"р.п.абрикосов",invalid:"р.п.абрикос",id:40,trainerType:"морфологические нормы"},{valid:"р.п.мандаринов",invalid:"р.п.мандарин",id:41,trainerType:"морфологические нормы"},{valid:"р.п.яблок",invalid:"р.п.яблоков",id:42,trainerType:"морфологические нормы"},{valid:"р.п.груш",invalid:"р.п.грушей",id:43,trainerType:"морфологические нормы"},{valid:"р.п.дынь",invalid:"р.п.дыней",id:44,trainerType:"морфологические нормы"},{valid:"р.п.казахов",invalid:"р.п.казах",id:45,trainerType:"морфологические нормы"},{valid:"р.п.калмыков",invalid:"р.п.калмык",id:46,trainerType:"морфологические нормы"},{valid:"р.п.киргизов",invalid:"р.п.киргиз",id:47,trainerType:"морфологические нормы"},{valid:"р.п.монголов",invalid:"р.п.монгол",id:48,trainerType:"морфологические нормы"},{valid:"р.п.армян",invalid:"р.п.армянинов",id:49,trainerType:"морфологические нормы"},{valid:"р.п.башкир",invalid:"р.п.башкиров",id:50,trainerType:"морфологические нормы"},{valid:"р.п.болгар",invalid:"р.п.болгаров",id:51,trainerType:"морфологические нормы"},{valid:"грузин",invalid:"грузинов",id:52,trainerType:"морфологические нормы"},{valid:"татар",invalid:"татаров",id:53,trainerType:"морфологические нормы"},{valid:"р.п.цыган",invalid:"р.п.цыганов",id:54,trainerType:"морфологические нормы"},{valid:"р.п.турок",invalid:"р.п.турков",id:55,trainerType:"морфологические нормы"},{valid:"р.п.бурят",invalid:"р.п.бурятов",id:56,trainerType:"морфологические нормы"},{valid:"р.п.байтов",invalid:"р.п.байт",id:57,trainerType:"морфологические нормы"},{valid:"р.п.гектаров",invalid:"р.п.гектар",id:58,trainerType:"морфологические нормы"},{valid:"р.п.грамов",invalid:"р.п.грамм",id:59,trainerType:"морфологические нормы"},{valid:"р.п.килограммов",invalid:"р.п.килограмм",id:60,trainerType:"морфологические нормы"},{valid:"р.п.ампер",invalid:"р.п.амперов",id:61,trainerType:"морфологические нормы"},{valid:"р.п.аршин",invalid:"р.п.аршинов",id:62,trainerType:"морфологические нормы"},{valid:"р.п.носков",invalid:"р.п.носок",id:63,trainerType:"морфологические нормы"},{valid:"р.п.гольфов",invalid:"р.п.гольф",id:64,trainerType:"морфологические нормы"},{valid:"р.п.рельсов",invalid:"р.п.рельс",id:65,trainerType:"морфологические нормы"},{valid:"джинсов",invalid:"джинс",id:66,trainerType:"морфологические нормы"},{valid:"р.п.бриджей",invalid:"р.п.бридж",id:67,trainerType:"морфологические нормы"},{valid:"р.п.ботинок",invalid:"р.п.ботинков",id:68,trainerType:"морфологические нормы"},{valid:"р.п.чулок",invalid:"р.п.чулков",id:69,trainerType:"морфологические нормы"},{valid:"р.п.шорт",invalid:"р.п.шортов",id:70,trainerType:"морфологические нормы"},{valid:"р.п.туфель",invalid:"р.п.туфлей",id:71,trainerType:"морфологические нормы"},{valid:"р.п.сапог",invalid:"р.п.сапогов",id:72,trainerType:"морфологические нормы"},{valid:"р.п.тапок",invalid:"р.п.тапков",id:73,trainerType:"морфологические нормы"},{valid:"тапок",invalid:"тапка",id:74,trainerType:"морфологические нормы"},{valid:"р.п.галош",invalid:"р.п.галошей",id:75,trainerType:"морфологические нормы"},{valid:"р.п.валенок",invalid:"р.п.валенков",id:76,trainerType:"морфологические нормы"},{valid:"р.п.серёг",invalid:"р.п.серёжек",id:77,trainerType:"морфологические нормы"},{valid:"р.п.солдат",invalid:"р.п.солдатов",id:78,trainerType:"морфологические нормы"},{valid:"р.п.гусар",invalid:"р.п.гусаров",id:79,trainerType:"морфологические нормы"},{valid:"р.п.кадет",invalid:"р.п.кадетов",id:80,trainerType:"морфологические нормы"},{valid:"р.п.партизан",invalid:"р.п.партизанов",id:81,trainerType:"морфологические нормы"},{valid:"р.п.яблонь",invalid:"р.п.яблоней",id:82,trainerType:"морфологические нормы"},{valid:"р.п.нянь",invalid:"р.п.няней",id:83,trainerType:"морфологические нормы"},{valid:"р.п.барышень",invalid:"р.п.барышней",id:84,trainerType:"морфологические нормы"},{valid:"р.п.кухонь",invalid:"р.п.кухней",id:85,trainerType:"морфологические нормы"},{valid:"р.п.басен",invalid:"р.п.басней",id:86,trainerType:"морфологические нормы"},{valid:"р.п.башен",invalid:"р.п.башней",id:87,trainerType:"морфологические нормы"},{valid:"р.п.вишен",invalid:"р.п.вишней",id:88,trainerType:"морфологические нормы"},{valid:"р.п.пашен",invalid:"р.п.пашней",id:89,trainerType:"морфологические нормы"},{valid:"р.п.спален",invalid:"р.п.спальней",id:90,trainerType:"морфологические нормы"},{valid:"р.п.мускулов",invalid:"р.п.мускул",id:91,trainerType:"морфологические нормы"},{valid:"р.п.чипсов",invalid:"р.п.чипс",id:92,trainerType:"морфологические нормы"},{valid:"р.п.макарон",invalid:"р.п.макаронов",id:93,trainerType:"морфологические нормы"}]}];var f=r(848);const g={main:{path:"/",element:(0,f.jsx)(l,{})},theory:{path:"/theory",element:(0,f.jsx)(u,{})},...p.map((e=>{return{path:(t=e.subcategory,`/trainers/${t}`),element:(0,f.jsx)(h,{words:e.words})};var t})),notFound:{path:"*",element:(0,f.jsx)(c,{})}};var m=r(450);const v=(0,s.memo)((()=>(0,f.jsx)(s.Suspense,{fallback:(0,f.jsx)(m.W,{}),children:(0,f.jsx)(o.BV,{children:Object.values(g).map((e=>(0,f.jsx)(o.qh,{path:e.path,element:e.element},e.path)))})})));v.displayName="AppRouter";const y=()=>(0,f.jsx)(v,{}),b=(0,s.createContext)(null),w={didCatch:!1,error:null};class A extends s.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=w}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var t,n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];null===(t=(n=this.props).onReset)||void 0===t||t.call(n,{args:r,reason:"imperative-api"}),this.setState(w)}}componentDidCatch(e,t){var n,i;null===(n=(i=this.props).onError)||void 0===n||n.call(i,e,t)}componentDidUpdate(e,t){const{didCatch:n}=this.state,{resetKeys:i}=this.props;var r,a;n&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some(((e,n)=>!Object.is(e,t[n])))}(e.resetKeys,i)&&(null===(r=(a=this.props).onReset)||void 0===r||r.call(a,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(w))}render(){const{children:e,fallbackRender:t,FallbackComponent:n,fallback:i}=this.props,{didCatch:r,error:a}=this.state;let o=e;if(r){const e={error:a,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)o=t(e);else if(n)o=(0,s.createElement)(n,e);else{if(void 0===i)throw a;o=i}}return(0,s.createElement)(b.Provider,{value:{didCatch:r,error:a,resetErrorBoundary:this.resetErrorBoundary}},o)}}var S=r(468),x=r(248),T=r(120);const _=document.getElementById("root");if(!_)throw new Error("Контейнер root не найден. НЕ удалось вмонтировать реакт приложение");(0,a.createRoot)(_).render((0,f.jsx)(o.Kd,{basename:"/SuncovRussian",children:(0,f.jsx)(S.Kq,{store:T.M_,children:(0,f.jsx)(A,{fallback:(0,f.jsx)(x.A,{}),children:(0,f.jsx)(y,{})})})}))}();