"use strict";(self.webpackChunksuncov_russian=self.webpackChunksuncov_russian||[]).push([[245],{411:function(e,t,s){s.d(t,{L:function(){return n},v:function(){return i}}),window.matchMedia=window.matchMedia||function(){return{matches:!1,addListener:function(){},removeListener:function(){}}};const n=window.matchMedia("(max-width: 1000px)"),i=window.matchMedia("(max-width: 600px)")},250:function(e,t,s){s.r(t),s.d(t,{Theory:function(){return g}});var n=s(540);const i=s(265).a.injectEndpoints({endpoints:e=>({getAllTheories:e.mutation({query:()=>({url:"/v6/listFiles",method:"POST",body:{}})}),getTheory:e.query({query:e=>({url:`/v6/pollUpload/${e}`}),keepUnusedDataFor:120})})}),{useGetAllTheoriesMutation:r,useGetTheoryQuery:a}=i;var o=s(891),c=s(837),d=s(990);const l=(0,n.createContext)({selectedSection:"",setSelectedSection:()=>{}});var u=s(411),h=s(848);const m=(0,n.memo)((e=>{let{pdfFilesTitles:t}=e;const{selectedSection:s,setSelectedSection:i}=(0,n.useContext)(l);(0,n.useEffect)((()=>{i(t[0])}),[i]);const[r,a]=(0,n.useState)("var(--header-height)");return(0,n.useEffect)((()=>{const e=()=>{0===document.body.scrollTop?a("var(--header-height)"):a(0)};return document.body.addEventListener("scroll",e),()=>document.body.removeEventListener("scroll",e)}),[]),(0,h.jsx)(d.so,{"data-testid":"Theory__Sidebar",direction:u.v.matches?"row":"column",maxHeight:!0,align:"start",width:u.v.matches?"100":"15",gap:"15",className:"iI_DtV9D",style:{marginTop:r},children:t.map(((e,t)=>(0,h.jsx)("span",{"data-testid":`Theory__Sidebar__${t}`,onClick:()=>i(e),className:`cA98XNdd ${s===e&&"TcdunEu0"}`,children:e},e)))})}));m.displayName="TheorySidebar";var f=s(100),x=s(81),y=s(716);s(405),s(792),f.EA.workerSrc=new URL(s(824),s.b).toString();const v=e=>{let{url:t}=e;const[s,i]=(0,n.useState)();return(0,h.jsx)(x.A,{error:(0,h.jsx)(c.A,{}),loading:(0,h.jsx)(o.W,{}),file:t,onLoadSuccess:e=>i(e.numPages),children:Array.from(Array(s),((e,t)=>(0,h.jsx)(y.A,{loading:(0,h.jsx)(o.W,{}),pageNumber:t+1},t+1)))})},p=(0,n.memo)((e=>{let{fileKey:t}=e;const{data:s,isLoading:n,isError:i,isFetching:r}=a(t);return n||r?(0,h.jsx)(o.W,{}):i?(0,h.jsx)(c.A,{}):(0,h.jsx)("div",{"data-testid":"TheoryItem",children:s?.fileData&&(0,h.jsx)(v,{url:s?.fileData.fileUrl})})}));p.displayName="TheoryItem";const g=(0,n.memo)((()=>{const[e,{data:t,isError:s,isLoading:i}]=r();(0,n.useEffect)((()=>{e()}),[e]);const[a,f]=(0,n.useState)([]);(0,n.useEffect)((()=>{if(t){const e=t.files.filter((e=>e.name.endsWith(".pdf")));f(e)}}),[t]);const[x,y]=(0,n.useState)(""),v=(0,n.useMemo)((()=>a.find((e=>e.name.slice(0,-4)===x))),[a,x]);return i?(0,h.jsx)(o.W,{}):s?(0,h.jsx)(c.A,{}):(0,h.jsx)(l.Provider,{value:{selectedSection:x,setSelectedSection:y},children:(0,h.jsxs)(d.so,{direction:u.v.matches?"column":"row",relative:!0,maxHeight:!0,width:"100",gap:u.v.matches?"20":"0",children:[a.length>0&&(0,h.jsx)(m,{pdfFilesTitles:a.map((e=>e.name.slice(0,-4)))}),v&&(0,h.jsx)(d.so,{className:"ef266JQb",relative:!0,maxHeight:!0,width:u.v.matches?"100":"85",justify:"center",align:"start",children:(0,h.jsx)(p,{fileKey:v.key})})]})})}));g.displayName="Theory"}}]);