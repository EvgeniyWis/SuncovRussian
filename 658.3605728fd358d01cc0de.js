"use strict";(self.webpackChunksuncov_russian=self.webpackChunksuncov_russian||[]).push([[658],{2411:function(e,t,n){n.d(t,{Fd:function(){return r},LK:function(){return s},vn:function(){return i}}),window.matchMedia=window.matchMedia||function(){return{matches:!1,addListener:function(){},removeListener:function(){}}};const s=window.matchMedia("(max-width: 1000px)"),i=window.matchMedia("(max-width: 600px)"),r=0},694:function(e,t,n){n.r(t),n.d(t,{TheoryPage:function(){return A}});var s=n(6540),i=n(9733);const r=i.a.injectEndpoints({endpoints:e=>({getAllTheories:e.mutation({query:()=>({url:"/v6/listFiles",method:"POST",body:{}})})})}),{useGetAllTheoriesMutation:a}=r;var o=n(1825),c=n(3248),d=n(8383),u=n(2411),l=n(7007),h=n(7294),m=n(4674),f=n(1100),x=n(7081),p=n(9716),j=(n(5405),n(8411),n(4848));f.EA.workerSrc="scripts/pdf.worker.min.mjs";const w=e=>{let{url:t}=e;const[n,i]=(0,s.useState)();return(0,j.jsx)(x.A,{error:(0,j.jsx)(c.A,{withHeader:!1}),loading:(0,j.jsx)(o.W,{}),file:t,onLoadSuccess:e=>i(e.numPages),children:Array.from(Array(n),((e,t)=>(0,j.jsx)(p.A,{loading:(0,j.jsx)(o.W,{}),pageNumber:t+1},t+1)))})},y=i.a.injectEndpoints({endpoints:e=>({getTheory:e.query({query:e=>({url:`/v6/pollUpload/${e}`}),keepUnusedDataFor:120})})}),{useGetTheoryQuery:g}=y,v=(0,s.memo)((e=>{let{fileKey:t}=e;const{data:n,isLoading:s,isError:i,isFetching:r}=g(t);return s||r?(0,j.jsx)(o.W,{}):i?(0,j.jsx)(c.A,{withHeader:!1}):(0,j.jsx)("div",{"data-testid":"TheoryItem",children:n?.fileData&&(0,j.jsx)(w,{url:n?.fileData.fileUrl})})}));v.displayName="TheoryItem";const A=(0,s.memo)((()=>{const[e,{data:t,isError:n,isLoading:i}]=a();(0,s.useEffect)((()=>{e()}),[e]);const[r,f]=(0,s.useState)([]);(0,s.useEffect)((()=>{if(t){const e=t.files.filter((e=>e.name.endsWith(".pdf")));f(e)}}),[t]);const[x,p]=(0,s.useState)(""),w=(0,s.useMemo)((()=>r.find((e=>e.name.slice(0,-4)===x))),[r,x]);return(0,j.jsx)(h.YW,{children:i?(0,j.jsx)(o.W,{}):n?(0,j.jsx)(c.A,{withHeader:!1}):(0,j.jsx)(l.e.Provider,{value:{selectedSection:x,setSelectedSection:p},children:(0,j.jsxs)(d.s,{direction:u.vn.matches?"column":"row",relative:!0,maxHeight:!0,width:"100",gap:u.vn.matches?"20":"0",children:[r.length>0&&(0,j.jsx)(m.W,{pdfFilesTitles:r.map((e=>e.name.slice(0,-4)))}),w&&(0,j.jsx)(d.s,{className:"Ye226h8p",relative:!0,maxHeight:!0,width:u.vn.matches?"100":"85",justify:"center",align:"start",children:(0,j.jsx)(v,{fileKey:w.key})})]})})})}));A.displayName="TheoryPage"}}]);