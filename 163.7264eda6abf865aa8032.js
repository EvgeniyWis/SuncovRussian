"use strict";(self.webpackChunksuncov_russian=self.webpackChunksuncov_russian||[]).push([[163],{511:function(e,s,t){t.r(s),t.d(s,{TheoryPage:function(){return T}});var r=t(6540),i=t(265);const n=i.a.injectEndpoints({endpoints:e=>({getAllTheories:e.mutation({query:()=>({url:"/v6/listFiles",method:"POST",body:{}})})})}),{useGetAllTheoriesMutation:a}=n;var o=t(2450),l=t(3248),c=t(2990),d=t(2411),u=t(7007),h=t(3519),m=t(4674),f=t(1100),j=t(7081),p=t(9716),x=(t(5405),t(8411),t(4848));f.EA.workerSrc="scripts/pdf.worker.min.mjs";const y=e=>{let{url:s}=e;const[t,i]=(0,r.useState)();return(0,x.jsx)(j.A,{error:(0,x.jsx)(l.A,{withHeader:!1}),loading:(0,x.jsx)(o.W,{}),file:s,onLoadSuccess:e=>i(e.numPages),children:Array.from(Array(t),((e,s)=>(0,x.jsx)(p.A,{loading:(0,x.jsx)(o.W,{}),pageNumber:s+1},s+1)))})},g=i.a.injectEndpoints({endpoints:e=>({getTheory:e.query({query:e=>({url:`/v6/pollUpload/${e}`}),keepUnusedDataFor:120})})}),{useGetTheoryQuery:v}=g,A=(0,r.memo)((e=>{let{fileKey:s}=e;const{data:t,isLoading:r,isError:i,isFetching:n}=v(s);return r||n?(0,x.jsx)(o.W,{}):i?(0,x.jsx)(l.A,{withHeader:!1}):(0,x.jsx)("div",{"data-testid":"TheoryItem",children:t?.fileData&&(0,x.jsx)(y,{url:t?.fileData.fileUrl})})}));A.displayName="TheoryItem";const T=(0,r.memo)((()=>{const[e,{data:s,isError:t,isLoading:i}]=a();(0,r.useEffect)((()=>{e()}),[e]);const[n,f]=(0,r.useState)([]);(0,r.useEffect)((()=>{if(s){const e=s.files.filter((e=>e.name.endsWith(".pdf")));f(e)}}),[s]);const[j,p]=(0,r.useState)(""),y=(0,r.useMemo)((()=>n.find((e=>e.name.slice(0,-4)===j))),[n,j]);return i?(0,x.jsx)(o.W,{}):t?(0,x.jsx)(l.A,{}):(0,x.jsx)(h.YW,{children:(0,x.jsx)(u.e.Provider,{value:{selectedSection:j,setSelectedSection:p},children:(0,x.jsxs)(c.so,{direction:d.v.matches?"column":"row",relative:!0,maxHeight:!0,width:"100",gap:d.v.matches?"20":"0",children:[n.length>0&&(0,x.jsx)(m.W,{pdfFilesTitles:n.map((e=>e.name.slice(0,-4)))}),y&&(0,x.jsx)(c.so,{className:"Ye226h8p",relative:!0,maxHeight:!0,width:d.v.matches?"100":"85",justify:"center",align:"start",children:(0,x.jsx)(A,{fileKey:y.key})})]})})})}));T.displayName="TheoryPage"}}]);